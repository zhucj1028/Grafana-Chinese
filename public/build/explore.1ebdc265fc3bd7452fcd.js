(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["explore"],{

/***/ "./node_modules/change-emitter/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/change-emitter/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var createChangeEmitter = exports.createChangeEmitter = function createChangeEmitter() {
  var currentListeners = [];
  var nextListeners = currentListeners;

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }

  function listen(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected listener to be a function.');
    }

    var isSubscribed = true;

    ensureCanMutateNextListeners();
    nextListeners.push(listener);

    return function () {
      if (!isSubscribed) {
        return;
      }

      isSubscribed = false;

      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }

  function emit() {
    currentListeners = nextListeners;
    var listeners = currentListeners;
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(listeners, arguments);
    }
  }

  return {
    listen: listen,
    emit: emit
  };
};

/***/ }),

/***/ "./node_modules/combokeys/Combokeys/index.js":
/*!***************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


module.exports = function (element, options) {
  var self = this
  var Combokeys = self.constructor

  /**
   * an object of passed options
   *
   * @type { storeInstancesGlobally?: true }
   */

  self.options = Object.assign({ storeInstancesGlobally: true }, options || {})

  /**
   * a list of all the callbacks setup via Combokeys.bind()
   *
   * @type {Object}
   */
  self.callbacks = {}

  /**
   * direct map of string combinations to callbacks used for trigger()
   *
   * @type {Object}
   */
  self.directMap = {}

  /**
   * keeps track of what level each sequence is at since multiple
   * sequences can start out with the same sequence
   *
   * @type {Object}
   */
  self.sequenceLevels = {}

  /**
   * variable to store the setTimeout call
   *
   * @type {null|number}
   */
  self.resetTimer = null

  /**
   * temporary state where we will ignore the next keyup
   *
   * @type {boolean|string}
   */
  self.ignoreNextKeyup = false

  /**
   * temporary state where we will ignore the next keypress
   *
   * @type {boolean}
   */
  self.ignoreNextKeypress = false

  /**
   * are we currently inside of a sequence?
   * type of action ("keyup" or "keydown" or "keypress") or false
   *
   * @type {boolean|string}
   */
  self.nextExpectedAction = false

  self.element = element

  self.addEvents()

  if (self.options.storeInstancesGlobally) {
    Combokeys.instances.push(self)
  }

  return self
}

module.exports.prototype.bind = __webpack_require__(/*! ./prototype/bind */ "./node_modules/combokeys/Combokeys/prototype/bind.js")
module.exports.prototype.bindMultiple = __webpack_require__(/*! ./prototype/bindMultiple */ "./node_modules/combokeys/Combokeys/prototype/bindMultiple.js")
module.exports.prototype.unbind = __webpack_require__(/*! ./prototype/unbind */ "./node_modules/combokeys/Combokeys/prototype/unbind.js")
module.exports.prototype.trigger = __webpack_require__(/*! ./prototype/trigger */ "./node_modules/combokeys/Combokeys/prototype/trigger.js")
module.exports.prototype.reset = __webpack_require__(/*! ./prototype/reset.js */ "./node_modules/combokeys/Combokeys/prototype/reset.js")
module.exports.prototype.stopCallback = __webpack_require__(/*! ./prototype/stopCallback */ "./node_modules/combokeys/Combokeys/prototype/stopCallback.js")
module.exports.prototype.handleKey = __webpack_require__(/*! ./prototype/handleKey */ "./node_modules/combokeys/Combokeys/prototype/handleKey.js")
module.exports.prototype.addEvents = __webpack_require__(/*! ./prototype/addEvents */ "./node_modules/combokeys/Combokeys/prototype/addEvents.js")
module.exports.prototype.bindSingle = __webpack_require__(/*! ./prototype/bindSingle */ "./node_modules/combokeys/Combokeys/prototype/bindSingle.js")
module.exports.prototype.getKeyInfo = __webpack_require__(/*! ./prototype/getKeyInfo */ "./node_modules/combokeys/Combokeys/prototype/getKeyInfo.js")
module.exports.prototype.pickBestAction = __webpack_require__(/*! ./prototype/pickBestAction */ "./node_modules/combokeys/Combokeys/prototype/pickBestAction.js")
module.exports.prototype.getReverseMap = __webpack_require__(/*! ./prototype/getReverseMap */ "./node_modules/combokeys/Combokeys/prototype/getReverseMap.js")
module.exports.prototype.getMatches = __webpack_require__(/*! ./prototype/getMatches */ "./node_modules/combokeys/Combokeys/prototype/getMatches.js")
module.exports.prototype.resetSequences = __webpack_require__(/*! ./prototype/resetSequences */ "./node_modules/combokeys/Combokeys/prototype/resetSequences.js")
module.exports.prototype.fireCallback = __webpack_require__(/*! ./prototype/fireCallback */ "./node_modules/combokeys/Combokeys/prototype/fireCallback.js")
module.exports.prototype.bindSequence = __webpack_require__(/*! ./prototype/bindSequence */ "./node_modules/combokeys/Combokeys/prototype/bindSequence.js")
module.exports.prototype.resetSequenceTimer = __webpack_require__(/*! ./prototype/resetSequenceTimer */ "./node_modules/combokeys/Combokeys/prototype/resetSequenceTimer.js")
module.exports.prototype.detach = __webpack_require__(/*! ./prototype/detach */ "./node_modules/combokeys/Combokeys/prototype/detach.js")

module.exports.instances = []
module.exports.reset = __webpack_require__(/*! ./reset */ "./node_modules/combokeys/Combokeys/reset.js")

/**
 * variable to store the flipped version of MAP from above
 * needed to check if we should use keypress or not when no action
 * is specified
 *
 * @type {Object|undefined}
 */
module.exports.REVERSE_MAP = null


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/addEvents.js":
/*!*****************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/addEvents.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

module.exports = function () {
  var self = this
  var on = __webpack_require__(/*! ./dom-event */ "./node_modules/combokeys/Combokeys/prototype/dom-event.js")
  var element = self.element

  self.eventHandler = __webpack_require__(/*! ./handleKeyEvent */ "./node_modules/combokeys/Combokeys/prototype/handleKeyEvent.js").bind(self)

  on(element, 'keypress', self.eventHandler)
  on(element, 'keydown', self.eventHandler)
  on(element, 'keyup', self.eventHandler)
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/bind.js":
/*!************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/bind.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * binds an event to Combokeys
 *
 * can be a single key, a combination of keys separated with +,
 * an array of keys, or a sequence of keys separated by spaces
 *
 * be sure to list the modifier keys first to make sure that the
 * correct key ends up getting bound (the last key in the pattern)
 *
 * @param {string|Array} keys
 * @param {Function} callback
 * @param {string=} action - "keypress", "keydown", or "keyup"
 * @returns void
 */
module.exports = function (keys, callback, action) {
  var self = this

  keys = keys instanceof Array ? keys : [keys]
  self.bindMultiple(keys, callback, action)
  return self
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/bindMultiple.js":
/*!********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/bindMultiple.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * binds multiple combinations to the same callback
 *
 * @param {Array} combinations
 * @param {Function} callback
 * @param {string|undefined} action
 * @returns void
 */
module.exports = function (combinations, callback, action) {
  var self = this

  for (var j = 0; j < combinations.length; ++j) {
    self.bindSingle(combinations[j], callback, action)
  }
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/bindSequence.js":
/*!********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/bindSequence.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * binds a key sequence to an event
 *
 * @param {string} combo - combo specified in bind call
 * @param {Array} keys
 * @param {Function} callback
 * @param {string=} action
 * @returns void
 */
module.exports = function (combo, keys, callback, action) {
  var self = this

  // start off by adding a sequence level record for this combination
  // and setting the level to 0
  self.sequenceLevels[combo] = 0

  /**
   * callback to increase the sequence level for this sequence and reset
   * all other sequences that were active
   *
   * @param {string} nextAction
   * @returns {Function}
   */
  function increaseSequence (nextAction) {
    return function () {
      self.nextExpectedAction = nextAction
      ++self.sequenceLevels[combo]
      self.resetSequenceTimer()
    }
  }

  /**
   * wraps the specified callback inside of another function in order
   * to reset all sequence counters as soon as this sequence is done
   *
   * @param {Event} e
   * @returns void
   */
  function callbackAndReset (e) {
    var characterFromEvent
    self.fireCallback(callback, e, combo)

    // we should ignore the next key up if the action is key down
    // or keypress.  this is so if you finish a sequence and
    // release the key the final key will not trigger a keyup
    if (action !== 'keyup') {
      characterFromEvent = __webpack_require__(/*! ../../helpers/characterFromEvent */ "./node_modules/combokeys/helpers/characterFromEvent.js")
      self.ignoreNextKeyup = characterFromEvent(e)
    }

    // weird race condition if a sequence ends with the key
    // another sequence begins with
    setTimeout(
      function () {
        self.resetSequences()
      },
      10
    )
  }

  // loop through keys one at a time and bind the appropriate callback
  // function.  for any key leading up to the final one it should
  // increase the sequence. after the final, it should reset all sequences
  //
  // if an action is specified in the original bind call then that will
  // be used throughout.  otherwise we will pass the action that the
  // next key in the sequence should match.  this allows a sequence
  // to mix and match keypress and keydown events depending on which
  // ones are better suited to the key provided
  for (var j = 0; j < keys.length; ++j) {
    var isFinal = j + 1 === keys.length
    var wrappedCallback = isFinal ? callbackAndReset : increaseSequence(action || self.getKeyInfo(keys[j + 1]).action)
    self.bindSingle(keys[j], wrappedCallback, action, combo, j)
  }
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/bindSingle.js":
/*!******************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/bindSingle.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * binds a single keyboard combination
 *
 * @param {string} combination
 * @param {Function} callback
 * @param {string=} action
 * @param {string=} sequenceName - name of sequence if part of sequence
 * @param {number=} level - what part of the sequence the command is
 * @returns void
 */
module.exports = function (combination, callback, action, sequenceName, level) {
  var self = this

  // store a direct mapped reference for use with Combokeys.trigger
  self.directMap[combination + ':' + action] = callback

  // make sure multiple spaces in a row become a single space
  combination = combination.replace(/\s+/g, ' ')

  var sequence = combination.split(' ')
  var info

  // if this pattern is a sequence of keys then run through this method
  // to reprocess each pattern one key at a time
  if (sequence.length > 1) {
    self.bindSequence(combination, sequence, callback, action)
    return
  }

  info = self.getKeyInfo(combination, action)

  // make sure to initialize array if this is the first time
  // a callback is added for this key
  self.callbacks[info.key] = self.callbacks[info.key] || []

  // remove an existing match if there is one
  self.getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level)

  // add this call back to the array
  // if it is a sequence put it at the beginning
  // if not put it at the end
  //
  // this is important because the way these are processed expects
  // the sequence ones to come first
  self.callbacks[info.key][sequenceName ? 'unshift' : 'push']({
    callback: callback,
    modifiers: info.modifiers,
    action: info.action,
    seq: sequenceName,
    level: level,
    combo: combination
  })
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/detach.js":
/*!**************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/detach.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var off = __webpack_require__(/*! ./dom-event */ "./node_modules/combokeys/Combokeys/prototype/dom-event.js").off
module.exports = function () {
  var self = this
  var element = self.element

  off(element, 'keypress', self.eventHandler)
  off(element, 'keydown', self.eventHandler)
  off(element, 'keyup', self.eventHandler)
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/dom-event.js":
/*!*****************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/dom-event.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = on
module.exports.on = on
module.exports.off = off

function on (element, event, callback, capture) {
  !element.addEventListener && (event = 'on' + event)
  ;(element.addEventListener || element.attachEvent).call(element, event, callback, capture)
  return callback
}

function off (element, event, callback, capture) {
  !element.removeEventListener && (event = 'on' + event)
  ;(element.removeEventListener || element.detachEvent).call(element, event, callback, capture)
  return callback
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/fireCallback.js":
/*!********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/fireCallback.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * actually calls the callback function
 *
 * if your callback function returns false this will use the jquery
 * convention - prevent default and stop propogation on the event
 *
 * @param {Function} callback
 * @param {Event} e
 * @returns void
 */
module.exports = function (callback, e, combo, sequence) {
  var self = this
  var preventDefault
  var stopPropagation

  // if this event should not happen stop here
  if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {
    return
  }

  if (callback(e, combo) === false) {
    preventDefault = __webpack_require__(/*! ../../helpers/preventDefault */ "./node_modules/combokeys/helpers/preventDefault.js")
    preventDefault(e)
    stopPropagation = __webpack_require__(/*! ../../helpers/stopPropagation */ "./node_modules/combokeys/helpers/stopPropagation.js")
    stopPropagation(e)
  }
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/getKeyInfo.js":
/*!******************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/getKeyInfo.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * Gets info for a specific key combination
 *
 * @param  {string} combination key combination ("command+s" or "a" or "*")
 * @param  {string=} action
 * @returns {Object}
 */
module.exports = function (combination, action) {
  var self = this
  var keysFromString
  var keys
  var key
  var j
  var modifiers = []
  var SPECIAL_ALIASES
  var SHIFT_MAP
  var isModifier

  keysFromString = __webpack_require__(/*! ../../helpers/keysFromString */ "./node_modules/combokeys/helpers/keysFromString.js")
  // take the keys from this pattern and figure out what the actual
  // pattern is all about
  keys = keysFromString(combination)

  SPECIAL_ALIASES = __webpack_require__(/*! ../../helpers/special-aliases */ "./node_modules/combokeys/helpers/special-aliases.js")
  SHIFT_MAP = __webpack_require__(/*! ../../helpers/shift-map */ "./node_modules/combokeys/helpers/shift-map.js")
  isModifier = __webpack_require__(/*! ../../helpers/isModifier */ "./node_modules/combokeys/helpers/isModifier.js")
  for (j = 0; j < keys.length; ++j) {
    key = keys[j]

    // normalize key names
    if (SPECIAL_ALIASES[key]) {
      key = SPECIAL_ALIASES[key]
    }

    // if this is not a keypress event then we should
    // be smart about using shift keys
    // this will only work for US keyboards however
    if (action && action !== 'keypress' && SHIFT_MAP[key]) {
      key = SHIFT_MAP[key]
      modifiers.push('shift')
    }

    // if this key is a modifier then add it to the list of modifiers
    if (isModifier(key)) {
      modifiers.push(key)
    }
  }

  // depending on what the key combination is
  // we will try to pick the best event for it
  action = self.pickBestAction(key, modifiers, action)

  return {
    key: key,
    modifiers: modifiers,
    action: action
  }
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/getMatches.js":
/*!******************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/getMatches.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * finds all callbacks that match based on the keycode, modifiers,
 * and action
 *
 * @param {string} character
 * @param {Array} modifiers
 * @param {Event|Object} e
 * @param {string=} sequenceName - name of the sequence we are looking for
 * @param {string=} combination
 * @param {number=} level
 * @returns {Array}
 */
module.exports = function (character, modifiers, e, sequenceName, combination, level) {
  var self = this
  var j
  var callback
  var matches = []
  var action = e.type
  var isModifier
  var modifiersMatch

  if (
      action === 'keypress' &&
      // Firefox fires keypress for arrows
      !(e.code && e.code.slice(0, 5) === 'Arrow')
  ) {
    // 'any-character' callbacks are only on `keypress`
    var anyCharCallbacks = self.callbacks['any-character'] || []
    anyCharCallbacks.forEach(function (callback) {
      matches.push(callback)
    })
  }

  if (!self.callbacks[character]) { return matches }

  isModifier = __webpack_require__(/*! ../../helpers/isModifier */ "./node_modules/combokeys/helpers/isModifier.js")
  // if a modifier key is coming up on its own we should allow it
  if (action === 'keyup' && isModifier(character)) {
    modifiers = [character]
  }

  // loop through all callbacks for the key that was pressed
  // and see if any of them match
  for (j = 0; j < self.callbacks[character].length; ++j) {
    callback = self.callbacks[character][j]

    // if a sequence name is not specified, but this is a sequence at
    // the wrong level then move onto the next match
    if (!sequenceName && callback.seq && self.sequenceLevels[callback.seq] !== callback.level) {
      continue
    }

    // if the action we are looking for doesn't match the action we got
    // then we should keep going
    if (action !== callback.action) {
      continue
    }

    // if this is a keypress event and the meta key and control key
    // are not pressed that means that we need to only look at the
    // character, otherwise check the modifiers as well
    //
    // chrome will not fire a keypress if meta or control is down
    // safari will fire a keypress if meta or meta+shift is down
    // firefox will fire a keypress if meta or control is down
    modifiersMatch = __webpack_require__(/*! ./modifiersMatch */ "./node_modules/combokeys/Combokeys/prototype/modifiersMatch.js")
    if ((action === 'keypress' && !e.metaKey && !e.ctrlKey) || modifiersMatch(modifiers, callback.modifiers)) {
      // when you bind a combination or sequence a second time it
      // should overwrite the first one.  if a sequenceName or
      // combination is specified in this call it does just that
      //
      // @todo make deleting its own method?
      var deleteCombo = !sequenceName && callback.combo === combination
      var deleteSequence = sequenceName && callback.seq === sequenceName && callback.level === level
      if (deleteCombo || deleteSequence) {
        self.callbacks[character].splice(j, 1)
      }

      matches.push(callback)
    }
  }

  return matches
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/getReverseMap.js":
/*!*********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/getReverseMap.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * reverses the map lookup so that we can look for specific keys
 * to see what can and can't use keypress
 *
 * @return {Object}
 */
module.exports = function () {
  var self = this
  var constructor = self.constructor
  var SPECIAL_KEYS_MAP

  if (!constructor.REVERSE_MAP) {
    constructor.REVERSE_MAP = {}
    SPECIAL_KEYS_MAP = __webpack_require__(/*! ../../helpers/special-keys-map */ "./node_modules/combokeys/helpers/special-keys-map.js")
    for (var key in SPECIAL_KEYS_MAP) {
      // pull out the numeric keypad from here cause keypress should
      // be able to detect the keys from the character
      if (key > 95 && key < 112) {
        continue
      }

      if (SPECIAL_KEYS_MAP.hasOwnProperty(key)) {
        constructor.REVERSE_MAP[SPECIAL_KEYS_MAP[key]] = key
      }
    }
  }
  return constructor.REVERSE_MAP
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/handleKey.js":
/*!*****************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/handleKey.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * handles a character key event
 *
 * @param {string} character
 * @param {Array} modifiers
 * @param {Event} e
 * @returns void
 */
module.exports = function (character, modifiers, e) {
  var self = this
  var callbacks
  var j
  var doNotReset = {}
  var maxLevel = 0
  var processedSequenceCallback = false
  var isModifier
  var ignoreThisKeypress

  callbacks = self.getMatches(character, modifiers, e)
  // Calculate the maxLevel for sequences so we can only execute the longest callback sequence
  for (j = 0; j < callbacks.length; ++j) {
    if (callbacks[j].seq) {
      maxLevel = Math.max(maxLevel, callbacks[j].level)
    }
  }

  // loop through matching callbacks for this key event
  for (j = 0; j < callbacks.length; ++j) {
    // fire for all sequence callbacks
    // this is because if for example you have multiple sequences
    // bound such as "g i" and "g t" they both need to fire the
    // callback for matching g cause otherwise you can only ever
    // match the first one
    if (callbacks[j].seq) {
      // only fire callbacks for the maxLevel to prevent
      // subsequences from also firing
      //
      // for example 'a option b' should not cause 'option b' to fire
      // even though 'option b' is part of the other sequence
      //
      // any sequences that do not match here will be discarded
      // below by the resetSequences call
      if (callbacks[j].level !== maxLevel) {
        continue
      }

      processedSequenceCallback = true

      // keep a list of which sequences were matches for later
      doNotReset[callbacks[j].seq] = 1
      self.fireCallback(callbacks[j].callback, e, callbacks[j].combo, callbacks[j].seq)
      continue
    }

    // if there were no sequence matches but we are still here
    // that means this is a regular match so we should fire that
    if (!processedSequenceCallback) {
      self.fireCallback(callbacks[j].callback, e, callbacks[j].combo)
    }
  }

  // if the key you pressed matches the type of sequence without
  // being a modifier (ie "keyup" or "keypress") then we should
  // reset all sequences that were not matched by this event
  //
  // this is so, for example, if you have the sequence "h a t" and you
  // type "h e a r t" it does not match.  in this case the "e" will
  // cause the sequence to reset
  //
  // modifier keys are ignored because you can have a sequence
  // that contains modifiers such as "enter ctrl+space" and in most
  // cases the modifier key will be pressed before the next key
  //
  // also if you have a sequence such as "ctrl+b a" then pressing the
  // "b" key will trigger a "keypress" and a "keydown"
  //
  // the "keydown" is expected when there is a modifier, but the
  // "keypress" ends up matching the nextExpectedAction since it occurs
  // after and that causes the sequence to reset
  //
  // we ignore keypresses in a sequence that directly follow a keydown
  // for the same character
  ignoreThisKeypress = e.type === 'keypress' && self.ignoreNextKeypress
  isModifier = __webpack_require__(/*! ../../helpers/isModifier */ "./node_modules/combokeys/helpers/isModifier.js")
  if (e.type === self.nextExpectedAction && !isModifier(character) && !ignoreThisKeypress) {
    self.resetSequences(doNotReset)
  }

  self.ignoreNextKeypress = processedSequenceCallback && e.type === 'keydown'
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/handleKeyEvent.js":
/*!**********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/handleKeyEvent.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * handles a keydown event
 *
 * @param {Event} e
 * @returns void
 */
module.exports = function (e) {
  var self = this
  var characterFromEvent
  var eventModifiers

  // normalize e.which for key events
  // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion
  if (typeof e.which !== 'number') {
    e.which = e.keyCode
  }
  characterFromEvent = __webpack_require__(/*! ../../helpers/characterFromEvent */ "./node_modules/combokeys/helpers/characterFromEvent.js")
  var character = characterFromEvent(e)

  // no character found then stop
  if (character === undefined) {
    return
  }

  // need to use === for the character check because the character can be 0
  if (e.type === 'keyup' && self.ignoreNextKeyup === character) {
    self.ignoreNextKeyup = false
    return
  }

  eventModifiers = __webpack_require__(/*! ../../helpers/eventModifiers */ "./node_modules/combokeys/helpers/eventModifiers.js")
  self.handleKey(character, eventModifiers(e), e)
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/modifiersMatch.js":
/*!**********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/modifiersMatch.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * checks if two arrays are equal
 *
 * @param {Array} modifiers1
 * @param {Array} modifiers2
 * @returns {boolean}
 */
module.exports = function (modifiers1, modifiers2) {
  return modifiers1.sort().join(',') === modifiers2.sort().join(',')
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/pickBestAction.js":
/*!**********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/pickBestAction.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * picks the best action based on the key combination
 *
 * @param {string} key - character for key
 * @param {Array} modifiers
 * @param {string=} action passed in
 */
module.exports = function (key, modifiers, action) {
  var self = this

  // if no action was picked in we should try to pick the one
  // that we think would work best for this key
  if (!action) {
    action = self.getReverseMap()[key] ? 'keydown' : 'keypress'
  }

  // modifier keys don't work as expected with keypress,
  // switch to keydown
  if (action === 'keypress' && modifiers.length) {
    action = 'keydown'
  }

  return action
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/reset.js":
/*!*************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/reset.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * resets the library back to its initial state. This is useful
 * if you want to clear out the current keyboard shortcuts and bind
 * new ones - for example if you switch to another page
 *
 * @returns void
 */
module.exports = function () {
  var self = this
  self.callbacks = {}
  self.directMap = {}
  return this
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/resetSequenceTimer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/resetSequenceTimer.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * called to set a 1 second timeout on the specified sequence
 *
 * this is so after each key press in the sequence you have 1 second
 * to press the next key before you have to start over
 *
 * @returns void
 */
module.exports = function () {
  var self = this

  clearTimeout(self.resetTimer)
  self.resetTimer = setTimeout(
    function () {
      self.resetSequences()
    },
    1000
  )
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/resetSequences.js":
/*!**********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/resetSequences.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * resets all sequence counters except for the ones passed in
 *
 * @param {Object} doNotReset
 * @returns void
 */
module.exports = function (doNotReset) {
  var self = this

  doNotReset = doNotReset || {}

  var activeSequences = false
  var key

  for (key in self.sequenceLevels) {
    if (doNotReset[key]) {
      activeSequences = true
      continue
    }
    self.sequenceLevels[key] = 0
  }

  if (!activeSequences) {
    self.nextExpectedAction = false
  }
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/stopCallback.js":
/*!********************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/stopCallback.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
* should we stop this event before firing off callbacks
*
* @param {Event} e
* @param {Element} element
* @return {boolean}
*/
module.exports = function (e, element) {
  // if the element has the class "combokeys" then no need to stop
  if ((' ' + element.className + ' ').indexOf(' combokeys ') > -1) {
    return false
  }

  var tagName = element.tagName.toLowerCase()

  // stop for input, select, and textarea
  return tagName === 'input' || tagName === 'select' || tagName === 'textarea' || element.isContentEditable
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/trigger.js":
/*!***************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/trigger.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * triggers an event that has already been bound
 *
 * @param {string} keys
 * @param {string=} action
 * @returns void
 */
module.exports = function (keys, action) {
  var self = this
  if (self.directMap[keys + ':' + action]) {
    self.directMap[keys + ':' + action]({}, keys)
  }
  return this
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/prototype/unbind.js":
/*!**************************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/prototype/unbind.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * unbinds an event to Combokeys
 *
 * the unbinding sets the callback function of the specified key combo
 * to an empty function and deletes the corresponding key in the
 * directMap dict.
 *
 * TODO: actually remove this from the callbacks dictionary instead
 * of binding an empty function
 *
 * the keycombo+action has to be exactly the same as
 * it was defined in the bind method
 *
 * @param {string|Array} keys
 * @param {string} action
 * @returns void
 */
module.exports = function (keys, action) {
  var self = this

  return self.bind(keys, function () {}, action)
}


/***/ }),

/***/ "./node_modules/combokeys/Combokeys/reset.js":
/*!***************************************************!*\
  !*** ./node_modules/combokeys/Combokeys/reset.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


module.exports = function () {
  var self = this

  self.instances.forEach(function (combokeys) {
    combokeys.reset()
  })
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/characterFromEvent.js":
/*!**************************************************************!*\
  !*** ./node_modules/combokeys/helpers/characterFromEvent.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * takes the event and returns the key character
 *
 * @param {Event} e
 * @return {string}
 */
module.exports = function (e) {
  var SPECIAL_KEYS_MAP,
    SPECIAL_CHARACTERS_MAP
  SPECIAL_KEYS_MAP = __webpack_require__(/*! ./special-keys-map */ "./node_modules/combokeys/helpers/special-keys-map.js")
  SPECIAL_CHARACTERS_MAP = __webpack_require__(/*! ./special-characters-map */ "./node_modules/combokeys/helpers/special-characters-map.js")

  // for keypress events we should return the character as is
  if (e.type === 'keypress') {
    var character = String.fromCharCode(e.which)

    // if the shift key is not pressed then it is safe to assume
    // that we want the character to be lowercase.  this means if
    // you accidentally have caps lock on then your key bindings
    // will continue to work
    //
    // the only side effect that might not be desired is if you
    // bind something like 'A' cause you want to trigger an
    // event when capital A is pressed caps lock will no longer
    // trigger the event.  shift+a will though.
    if (!e.shiftKey) {
      character = character.toLowerCase()
    }

    return character
  }

  // for non keypress events the special maps are needed
  if (SPECIAL_KEYS_MAP[e.which] !== undefined) {
    return SPECIAL_KEYS_MAP[e.which]
  }

  if (SPECIAL_CHARACTERS_MAP[e.which] !== undefined) {
    return SPECIAL_CHARACTERS_MAP[e.which]
  }

  // if it is not in the special map

  // with keydown and keyup events the character seems to always
  // come in as an uppercase character whether you are pressing shift
  // or not.  we should make sure it is always lowercase for comparisons
  return String.fromCharCode(e.which).toLowerCase()
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/eventModifiers.js":
/*!**********************************************************!*\
  !*** ./node_modules/combokeys/helpers/eventModifiers.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * takes a key event and figures out what the modifiers are
 *
 * @param {Event} e
 * @returns {Array}
 */
module.exports = function (e) {
  var modifiers = []

  if (e.shiftKey) {
    modifiers.push('shift')
  }

  if (e.altKey) {
    modifiers.push('alt')
  }

  if (e.ctrlKey) {
    modifiers.push('ctrl')
  }

  if (e.metaKey) {
    modifiers.push('meta')
  }

  return modifiers
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/isModifier.js":
/*!******************************************************!*\
  !*** ./node_modules/combokeys/helpers/isModifier.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * determines if the keycode specified is a modifier key or not
 *
 * @param {string} key
 * @returns {boolean}
 */
module.exports = function (key) {
  return key === 'shift' || key === 'ctrl' || key === 'alt' || key === 'meta'
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/keysFromString.js":
/*!**********************************************************!*\
  !*** ./node_modules/combokeys/helpers/keysFromString.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * Converts from a string key combination to an array
 *
 * @param  {string} combination like "command+shift+l"
 * @return {Array}
 */
module.exports = function (combination) {
  if (combination === '+') {
    return ['+']
  }

  return combination.split('+')
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/preventDefault.js":
/*!**********************************************************!*\
  !*** ./node_modules/combokeys/helpers/preventDefault.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * prevents default for this event
 *
 * @param {Event} e
 * @returns void
 */
module.exports = function (e) {
  if (e.preventDefault) {
    e.preventDefault()
    return
  }

  e.returnValue = false
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/shift-map.js":
/*!*****************************************************!*\
  !*** ./node_modules/combokeys/helpers/shift-map.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * this is a mapping of keys that require shift on a US keypad
 * back to the non shift equivelents
 *
 * this is so you can use keyup events with these keys
 *
 * note that this will only work reliably on US keyboards
 *
 * @type {Object}
 */
module.exports = {
  '~': '`',
  '!': '1',
  '@': '2',
  '#': '3',
  '$': '4',
  '%': '5',
  '^': '6',
  '&': '7',
  '*': '8',
  '(': '9',
  ')': '0',
  '_': '-',
  '+': '=',
  ':': ';',
  '"': "'",
  '<': ',',
  '>': '.',
  '?': '/',
  '|': '\\'
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/special-aliases.js":
/*!***********************************************************!*\
  !*** ./node_modules/combokeys/helpers/special-aliases.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * this is a list of special strings you can use to map
 * to modifier keys when you specify your keyboard shortcuts
 *
 * @type {Object}
 */
module.exports = {
  'option': 'alt',
  'command': 'meta',
  'return': 'enter',
  'escape': 'esc',
  'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/special-characters-map.js":
/*!******************************************************************!*\
  !*** ./node_modules/combokeys/helpers/special-characters-map.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * mapping for special characters so they can support
 *
 * this dictionary is only used incase you want to bind a
 * keyup or keydown event to one of these keys
 *
 * @type {Object}
 */
module.exports = {
  106: '*',
  107: 'plus',
  109: 'minus',
  110: '.',
  111: '/',
  186: ';',
  187: '=',
  188: ',',
  189: '-',
  190: '.',
  191: '/',
  192: '`',
  219: '[',
  220: '\\',
  221: ']',
  222: "'"
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/special-keys-map.js":
/*!************************************************************!*\
  !*** ./node_modules/combokeys/helpers/special-keys-map.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */

/**
 * mapping of special keycodes to their corresponding keys
 *
 * everything in this dictionary cannot use keypress events
 * so it has to be here to map to the correct keycodes for
 * keyup/keydown events
 *
 * @type {Object}
 */
module.exports = {
  8: 'backspace',
  9: 'tab',
  13: 'enter',
  16: 'shift',
  17: 'ctrl',
  18: 'alt',
  20: 'capslock',
  27: 'esc',
  32: 'space',
  33: 'pageup',
  34: 'pagedown',
  35: 'end',
  36: 'home',
  37: 'left',
  38: 'up',
  39: 'right',
  40: 'down',
  45: 'ins',
  46: 'del',
  91: 'meta',
  93: 'meta',
  173: 'minus',
  187: 'plus',
  189: 'minus',
  224: 'meta'
}

/**
 * loop through the f keys, f1 to f19 and add them to the map
 * programatically
 */
for (var i = 1; i < 20; ++i) {
  module.exports[111 + i] = 'f' + i
}

/**
 * loop through to map numbers on the numeric keypad
 */
for (i = 0; i <= 9; ++i) {
  module.exports[i + 96] = i
}


/***/ }),

/***/ "./node_modules/combokeys/helpers/stopPropagation.js":
/*!***********************************************************!*\
  !*** ./node_modules/combokeys/helpers/stopPropagation.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-env node, browser */


/**
 * stops propogation for this event
 *
 * @param {Event} e
 * @returns void
 */
module.exports = function (e) {
  if (e.stopPropagation) {
    e.stopPropagation()
    return
  }

  e.cancelBubble = true
}


/***/ }),

/***/ "./node_modules/deep-freeze/index.js":
/*!*******************************************!*\
  !*** ./node_modules/deep-freeze/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function deepFreeze (o) {
  Object.freeze(o);

  Object.getOwnPropertyNames(o).forEach(function (prop) {
    if (o.hasOwnProperty(prop)
    && o[prop] !== null
    && (typeof o[prop] === "object" || typeof o[prop] === "function")
    && !Object.isFrozen(o[prop])) {
      deepFreeze(o[prop]);
    }
  });
  
  return o;
};


/***/ }),

/***/ "./node_modules/fast-memoize/src/index.js":
/*!************************************************!*\
  !*** ./node_modules/fast-memoize/src/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

//
// Main
//

function memoize (fn, options) {
  var cache = options && options.cache
    ? options.cache
    : cacheDefault

  var serializer = options && options.serializer
    ? options.serializer
    : serializerDefault

  var strategy = options && options.strategy
    ? options.strategy
    : strategyDefault

  return strategy(fn, {
    cache: cache,
    serializer: serializer
  })
}

//
// Strategy
//

function isPrimitive (value) {
  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === "string" 'unsafe' primitive for our needs
}

function monadic (fn, cache, serializer, arg) {
  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)

  var computedValue = cache.get(cacheKey)
  if (typeof computedValue === 'undefined') {
    computedValue = fn.call(this, arg)
    cache.set(cacheKey, computedValue)
  }

  return computedValue
}

function variadic (fn, cache, serializer) {
  var args = Array.prototype.slice.call(arguments, 3)
  var cacheKey = serializer(args)

  var computedValue = cache.get(cacheKey)
  if (typeof computedValue === 'undefined') {
    computedValue = fn.apply(this, args)
    cache.set(cacheKey, computedValue)
  }

  return computedValue
}

function assemble (fn, context, strategy, cache, serialize) {
  return strategy.bind(
    context,
    fn,
    cache,
    serialize
  )
}

function strategyDefault (fn, options) {
  var strategy = fn.length === 1 ? monadic : variadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

function strategyVariadic (fn, options) {
  var strategy = variadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

function strategyMonadic (fn, options) {
  var strategy = monadic

  return assemble(
    fn,
    this,
    strategy,
    options.cache.create(),
    options.serializer
  )
}

//
// Serializer
//

function serializerDefault () {
  return JSON.stringify(arguments)
}

//
// Cache
//

function ObjectWithoutPrototypeCache () {
  this.cache = Object.create(null)
}

ObjectWithoutPrototypeCache.prototype.has = function (key) {
  return (key in this.cache)
}

ObjectWithoutPrototypeCache.prototype.get = function (key) {
  return this.cache[key]
}

ObjectWithoutPrototypeCache.prototype.set = function (key, value) {
  this.cache[key] = value
}

var cacheDefault = {
  create: function create () {
    return new ObjectWithoutPrototypeCache()
  }
}

//
// API
//

module.exports = memoize
module.exports.strategies = {
  variadic: strategyVariadic,
  monadic: strategyMonadic
}


/***/ }),

/***/ "./node_modules/fbjs/lib/shallowEqual.js":
/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/shallowEqual.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/*eslint-disable no-self-compare */



var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
  }
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}

module.exports = shallowEqual;

/***/ }),

/***/ "./node_modules/fuzzy/lib/fuzzy.js":
/*!*****************************************!*\
  !*** ./node_modules/fuzzy/lib/fuzzy.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
 * Fuzzy
 * https://github.com/myork/fuzzy
 *
 * Copyright (c) 2012 Matt York
 * Licensed under the MIT license.
 */

(function() {

var root = this;

var fuzzy = {};

// Use in node or in browser
if (true) {
  module.exports = fuzzy;
} else {}

// Return all elements of `array` that have a fuzzy
// match against `pattern`.
fuzzy.simpleFilter = function(pattern, array) {
  return array.filter(function(str) {
    return fuzzy.test(pattern, str);
  });
};

// Does `pattern` fuzzy match `str`?
fuzzy.test = function(pattern, str) {
  return fuzzy.match(pattern, str) !== null;
};

// If `pattern` matches `str`, wrap each matching character
// in `opts.pre` and `opts.post`. If no match, return null
fuzzy.match = function(pattern, str, opts) {
  opts = opts || {};
  var patternIdx = 0
    , result = []
    , len = str.length
    , totalScore = 0
    , currScore = 0
    // prefix
    , pre = opts.pre || ''
    // suffix
    , post = opts.post || ''
    // String to compare against. This might be a lowercase version of the
    // raw string
    , compareString =  opts.caseSensitive && str || str.toLowerCase()
    , ch;

  pattern = opts.caseSensitive && pattern || pattern.toLowerCase();

  // For each character in the string, either add it to the result
  // or wrap in template if it's the next string in the pattern
  for(var idx = 0; idx < len; idx++) {
    ch = str[idx];
    if(compareString[idx] === pattern[patternIdx]) {
      ch = pre + ch + post;
      patternIdx += 1;

      // consecutive characters should increase the score more than linearly
      currScore += 1 + currScore;
    } else {
      currScore = 0;
    }
    totalScore += currScore;
    result[result.length] = ch;
  }

  // return rendered string if we have a match for every char
  if(patternIdx === pattern.length) {
    // if the string is an exact match with pattern, totalScore should be maxed
    totalScore = (compareString === pattern) ? Infinity : totalScore;
    return {rendered: result.join(''), score: totalScore};
  }

  return null;
};

// The normal entry point. Filters `arr` for matches against `pattern`.
// It returns an array with matching values of the type:
//
//     [{
//         string:   '<b>lah' // The rendered string
//       , index:    2        // The index of the element in `arr`
//       , original: 'blah'   // The original element in `arr`
//     }]
//
// `opts` is an optional argument bag. Details:
//
//    opts = {
//        // string to put before a matching character
//        pre:     '<b>'
//
//        // string to put after matching character
//      , post:    '</b>'
//
//        // Optional function. Input is an entry in the given arr`,
//        // output should be the string to test `pattern` against.
//        // In this example, if `arr = [{crying: 'koala'}]` we would return
//        // 'koala'.
//      , extract: function(arg) { return arg.crying; }
//    }
fuzzy.filter = function(pattern, arr, opts) {
  if(!arr || arr.length === 0) {
    return [];
  }
  if (typeof pattern !== 'string') {
    return arr;
  }
  opts = opts || {};
  return arr
    .reduce(function(prev, element, idx, arr) {
      var str = element;
      if(opts.extract) {
        str = opts.extract(element);
      }
      var rendered = fuzzy.match(pattern, str, opts);
      if(rendered != null) {
        prev[prev.length] = {
            string: rendered.rendered
          , score: rendered.score
          , index: idx
          , original: element
        };
      }
      return prev;
    }, [])

    // Sort by score. Browsers are inconsistent wrt stable/unstable
    // sorting, so force stable by using the index in the case of tie.
    // See http://ofb.net/~sethml/is-sort-stable.html
    .sort(function(a,b) {
      var compare = b.score - a.score;
      if(compare) return compare;
      return a.index - b.index;
    });
};


}());



/***/ }),

/***/ "./node_modules/json-markup/index.js":
/*!*******************************************!*\
  !*** ./node_modules/json-markup/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var INDENT = '    '

function inlineRule (objRule) {
  var str = ''
  objRule && Object.keys(objRule).forEach(function (rule) {
    str += rule + ':' + objRule[rule] + ';'
  })
  return str
}

function Stylize (styleFile) {
  function styleClass (cssClass) {
    return 'class="' + cssClass + '"'
  }

  function styleInline (cssClass) {
    return 'style="' + inlineRule(styleFile['.' + cssClass]) + '"'
  }

  if (!styleFile) return styleClass
  return styleInline
}

function type (doc) {
  if (doc === null) return 'null'
  if (Array.isArray(doc)) return 'array'
  if (typeof doc === 'string' && /^https?:/.test(doc)) return 'link'
  if (typeof doc === 'object' && typeof doc.toISOString === 'function') return 'date'

  return typeof doc
}

function escape (str) {
  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')
}

module.exports = function (doc, styleFile) {
  var indent = ''
  var style = Stylize(styleFile)

  var forEach = function (list, start, end, fn) {
    if (!list.length) return start + ' ' + end

    var out = start + '\n'

    indent += INDENT
    list.forEach(function (key, i) {
      out += indent + fn(key) + (i < list.length - 1 ? ',' : '') + '\n'
    })
    indent = indent.slice(0, -INDENT.length)

    return out + indent + end
  }

  function visit (obj) {
    if (obj === undefined) return ''

    switch (type(obj)) {
      case 'boolean':
        return '<span ' + style('json-markup-bool') + '>' + obj + '</span>'

      case 'number':
        return '<span ' + style('json-markup-number') + '>' + obj + '</span>'

      case 'date':
        return '<span class="json-markup-string">"' + escape(obj.toISOString()) + '"</span>'

      case 'null':
        return '<span ' + style('json-markup-null') + '>null</span>'

      case 'string':
        return '<span ' + style('json-markup-string') + '>"' + escape(obj.replace(/\n/g, '\n' + indent)) + '"</span>'

      case 'link':
        return '<span ' + style('json-markup-string') + '>"<a href="' + escape(obj) + '">' + escape(obj) + '</a>"</span>'

      case 'array':
        return forEach(obj, '[', ']', visit)

      case 'object':
        var keys = Object.keys(obj).filter(function (key) {
          return obj[key] !== undefined
        })

        return forEach(keys, '{', '}', function (key) {
          return '<span ' + style('json-markup-key') + '>"' + key + '":</span> ' + visit(obj[key])
        })
    }

    return ''
  }

  return '<div ' + style('json-markup') + '>' + visit(doc) + '</div>'
}


/***/ }),

/***/ "./node_modules/lodash/_baseExtremum.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseExtremum.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");

/**
 * The base implementation of methods like `_.max` and `_.min` which accepts a
 * `comparator` to determine the extremum value.
 *
 * @private
 * @param {Array} array The array to iterate over.
 * @param {Function} iteratee The iteratee invoked per iteration.
 * @param {Function} comparator The comparator used to compare values.
 * @returns {*} Returns the extremum value.
 */
function baseExtremum(array, iteratee, comparator) {
  var index = -1,
      length = array.length;

  while (++index < length) {
    var value = array[index],
        current = iteratee(value);

    if (current != null && (computed === undefined
          ? (current === current && !isSymbol(current))
          : comparator(current, computed)
        )) {
      var computed = current,
          result = value;
    }
  }
  return result;
}

module.exports = baseExtremum;


/***/ }),

/***/ "./node_modules/lodash/_baseGt.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/_baseGt.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * The base implementation of `_.gt` which doesn't coerce arguments.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if `value` is greater than `other`,
 *  else `false`.
 */
function baseGt(value, other) {
  return value > other;
}

module.exports = baseGt;


/***/ }),

/***/ "./node_modules/lodash/_createRound.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/_createRound.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js"),
    toInteger = __webpack_require__(/*! ./toInteger */ "./node_modules/lodash/toInteger.js"),
    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js"),
    toString = __webpack_require__(/*! ./toString */ "./node_modules/lodash/toString.js");

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsFinite = root.isFinite,
    nativeMin = Math.min;

/**
 * Creates a function like `_.round`.
 *
 * @private
 * @param {string} methodName The name of the `Math` method to use when rounding.
 * @returns {Function} Returns the new round function.
 */
function createRound(methodName) {
  var func = Math[methodName];
  return function(number, precision) {
    number = toNumber(number);
    precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);
    if (precision && nativeIsFinite(number)) {
      // Shift with exponential notation to avoid floating-point issues.
      // See [MDN](https://mdn.io/round#Examples) for more details.
      var pair = (toString(number) + 'e').split('e'),
          value = func(pair[0] + 'e' + (+pair[1] + precision));

      pair = (toString(value) + 'e').split('e');
      return +(pair[0] + 'e' + (+pair[1] - precision));
    }
    return func(number);
  };
}

module.exports = createRound;


/***/ }),

/***/ "./node_modules/lodash/maxBy.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/maxBy.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseExtremum = __webpack_require__(/*! ./_baseExtremum */ "./node_modules/lodash/_baseExtremum.js"),
    baseGt = __webpack_require__(/*! ./_baseGt */ "./node_modules/lodash/_baseGt.js"),
    baseIteratee = __webpack_require__(/*! ./_baseIteratee */ "./node_modules/lodash/_baseIteratee.js");

/**
 * This method is like `_.max` except that it accepts `iteratee` which is
 * invoked for each element in `array` to generate the criterion by which
 * the value is ranked. The iteratee is invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Math
 * @param {Array} array The array to iterate over.
 * @param {Function} [iteratee=_.identity] The iteratee invoked per element.
 * @returns {*} Returns the maximum value.
 * @example
 *
 * var objects = [{ 'n': 1 }, { 'n': 2 }];
 *
 * _.maxBy(objects, function(o) { return o.n; });
 * // => { 'n': 2 }
 *
 * // The `_.property` iteratee shorthand.
 * _.maxBy(objects, 'n');
 * // => { 'n': 2 }
 */
function maxBy(array, iteratee) {
  return (array && array.length)
    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)
    : undefined;
}

module.exports = maxBy;


/***/ }),

/***/ "./node_modules/lodash/round.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/round.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var createRound = __webpack_require__(/*! ./_createRound */ "./node_modules/lodash/_createRound.js");

/**
 * Computes `number` rounded to `precision`.
 *
 * @static
 * @memberOf _
 * @since 3.10.0
 * @category Math
 * @param {number} number The number to round.
 * @param {number} [precision=0] The precision to round to.
 * @returns {number} Returns the rounded number.
 * @example
 *
 * _.round(4.006);
 * // => 4
 *
 * _.round(4.006, 2);
 * // => 4.01
 *
 * _.round(4060, -2);
 * // => 4100
 */
var round = createRound('round');

module.exports = round;


/***/ }),

/***/ "./node_modules/lodash/uniq.js":
/*!*************************************!*\
  !*** ./node_modules/lodash/uniq.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseUniq = __webpack_require__(/*! ./_baseUniq */ "./node_modules/lodash/_baseUniq.js");

/**
 * Creates a duplicate-free version of an array, using
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons, in which only the first occurrence of each element
 * is kept. The order of result values is determined by the order they occur
 * in the array.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to inspect.
 * @returns {Array} Returns the new duplicate free array.
 * @example
 *
 * _.uniq([2, 1, 2]);
 * // => [2, 1]
 */
function uniq(array) {
  return (array && array.length) ? baseUniq(array) : [];
}

module.exports = uniq;


/***/ }),

/***/ "./node_modules/lru-memoize/dist/lru-memoize.es.js":
/*!*********************************************************!*\
  !*** ./node_modules/lru-memoize/dist/lru-memoize.es.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
//      
var hasOwn = function hasOwn(object, key) {
  return Object.prototype.hasOwnProperty.call(object, key);
};

function deepEquals(equals, deepObjects) {
  function deep(valueA, valueB) {
    if (equals(valueA, valueB)) {
      return true;
    }

    if (Array.isArray(valueA)) {
      if (!Array.isArray(valueB) || valueA.length !== valueB.length) {
        return false;
      } // Check deep equality of each value in A against the same indexed value in B


      if (!valueA.every(function (value, index) {
        return deep(value, valueB[index]);
      })) {
        return false;
      } // could not find unequal items


      return true;
    }

    if (Array.isArray(valueB)) {
      return false;
    }

    if (typeof valueA === "object") {
      if (typeof valueB !== "object") {
        return false;
      }

      var isANull = valueA === null;
      var isBNull = valueB === null;

      if (isANull || isBNull) {
        return isANull === isBNull;
      }

      var aKeys = Object.keys(valueA);
      var bKeys = Object.keys(valueB);

      if (aKeys.length !== bKeys.length) {
        return false;
      } // Should we compare with shallow equivalence or deep equivalence?


      var equalityChecker = deepObjects ? deep : equals; // Check if objects share same keys, and each of those keys are equal

      if (!aKeys.every(function (aKey) {
        return hasOwn(valueA, aKey) && hasOwn(valueB, aKey) && equalityChecker(valueA[aKey], valueB[aKey]);
      })) {
        return false;
      } // could not find unequal keys or values


      return true;
    }

    return false;
  }

  return deep;
}

//      
var findIndex = function findIndex(arr, fn) {
  for (var i = 0; i < arr.length; i++) {
    if (fn(arr[i])) {
      return i;
    }
  }

  return -1;
};

function lruCache(limit, equals) {
  var entries = [];

  function get(key) {
    var cacheIndex = findIndex(entries, function (entry) {
      return equals(key, entry.key);
    }); // We found a cached entry

    if (cacheIndex > -1) {
      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top

      if (cacheIndex > 0) {
        entries.splice(cacheIndex, 1);
        entries.unshift(entry);
      }

      return entry.value;
    } // No entry found in cache, return null


    return undefined;
  }

  function put(key, value) {
    if (!get(key)) {
      entries.unshift({
        key: key,
        value: value
      });

      if (entries.length > limit) {
        entries.pop();
      }
    }
  }

  return {
    get: get,
    put: put
  };
}

//      
function singletonCache(equals) {
  var entry;
  return {
    get: function get(key) {
      if (entry && equals(key, entry.key)) {
        return entry.value;
      }
    },
    put: function put(key, value) {
      entry = {
        key: key,
        value: value
      };
    }
  };
}

//      

function createCache(limit, equals) {
  return limit === 1 ? singletonCache(equals) : lruCache(limit, equals);
}

function createEqualsFn(basicEquals, deepObjects) {
  // Choose strategy for basic or deep object equals
  var equals = deepObjects ? deepEquals(basicEquals, deepObjects) : basicEquals;
  return function (valueA, valueB) {
    // The arguments are always the argument array-like objects
    // Different lengths means they are not the same
    if (valueA.length !== valueB.length) {
      return false;
    } // Compare the values


    for (var index = 0; index < valueA.length; index += 1) {
      if (!equals(valueA[index], valueB[index])) {
        return false;
      }
    } // Found no conflicts


    return true;
  };
}

function memoize() {
  var limit = 1;

  var equals = function equals(valueA, valueB) {
    return valueA === valueB;
  };

  var deepObjects = false;

  for (var _len = arguments.length, config = new Array(_len), _key = 0; _key < _len; _key++) {
    config[_key] = arguments[_key];
  }

  if (typeof config[0] === "number") {
    limit = config.shift();
  }

  if (typeof config[0] === "function") {
    equals = config.shift();
  } else if (typeof config[0] === "undefined") {
    // Support passing undefined equal argument;
    config.shift();
  }

  if (typeof config[0] === "boolean") {
    deepObjects = config[0];
  }

  var cache = createCache(limit, createEqualsFn(equals, deepObjects));
  return function (fn) {
    return function () {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var value = cache.get(args);

      if (value === undefined) {
        value = fn.apply(fn, args);
        cache.put(args, value);
      }

      return value;
    };
  };
}

/* harmony default export */ __webpack_exports__["default"] = (memoize);


/***/ }),

/***/ "./node_modules/re-resizable/lib/index.js":
/*!************************************************!*\
  !*** ./node_modules/re-resizable/lib/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __importStar(__webpack_require__(/*! react */ "./node_modules/react/index.js"));
var resizer_1 = __webpack_require__(/*! ./resizer */ "./node_modules/re-resizable/lib/resizer.js");
var fast_memoize_1 = __importDefault(__webpack_require__(/*! fast-memoize */ "./node_modules/fast-memoize/src/index.js"));
var DEFAULT_SIZE = {
    width: 'auto',
    height: 'auto',
};
var clamp = fast_memoize_1.default(function (n, min, max) { return Math.max(Math.min(n, max), min); });
var snap = fast_memoize_1.default(function (n, size) { return Math.round(n / size) * size; });
var hasDirection = fast_memoize_1.default(function (dir, target) {
    return new RegExp(dir, 'i').test(target);
});
var findClosestSnap = fast_memoize_1.default(function (n, snapArray, snapGap) {
    if (snapGap === void 0) { snapGap = 0; }
    var closestGapIndex = snapArray.reduce(function (prev, curr, index) { return (Math.abs(curr - n) < Math.abs(snapArray[prev] - n) ? index : prev); }, 0);
    var gap = Math.abs(snapArray[closestGapIndex] - n);
    return snapGap === 0 || gap < snapGap ? snapArray[closestGapIndex] : n;
});
var endsWith = fast_memoize_1.default(function (str, searchStr) {
    return str.substr(str.length - searchStr.length, searchStr.length) === searchStr;
});
var getStringSize = fast_memoize_1.default(function (n) {
    n = n.toString();
    if (n === 'auto') {
        return n;
    }
    if (endsWith(n, 'px')) {
        return n;
    }
    if (endsWith(n, '%')) {
        return n;
    }
    if (endsWith(n, 'vh')) {
        return n;
    }
    if (endsWith(n, 'vw')) {
        return n;
    }
    if (endsWith(n, 'vmax')) {
        return n;
    }
    if (endsWith(n, 'vmin')) {
        return n;
    }
    return n + "px";
});
var getPixelSize = function (size, parentSize) {
    if (size && typeof size === 'string') {
        if (endsWith(size, '%')) {
            var ratio = Number(size.replace('%', '')) / 100;
            return parentSize * ratio;
        }
        else if (endsWith(size, 'vw')) {
            var ratio = Number(size.replace('vw', '')) / 100;
            return window.innerWidth * ratio;
        }
        else if (endsWith(size, 'vh')) {
            var ratio = Number(size.replace('vh', '')) / 100;
            return window.innerHeight * ratio;
        }
    }
    return size;
};
var calculateNewMax = fast_memoize_1.default(function (parentSize, maxWidth, maxHeight, minWidth, minHeight) {
    maxWidth = getPixelSize(maxWidth, parentSize.width);
    maxHeight = getPixelSize(maxHeight, parentSize.height);
    minWidth = getPixelSize(minWidth, parentSize.width);
    minHeight = getPixelSize(minHeight, parentSize.height);
    return {
        maxWidth: typeof maxWidth === 'undefined' ? undefined : Number(maxWidth),
        maxHeight: typeof maxHeight === 'undefined' ? undefined : Number(maxHeight),
        minWidth: typeof minWidth === 'undefined' ? undefined : Number(minWidth),
        minHeight: typeof minHeight === 'undefined' ? undefined : Number(minHeight),
    };
});
var definedProps = [
    'style',
    'className',
    'grid',
    'snap',
    'bounds',
    'size',
    'defaultSize',
    'minWidth',
    'minHeight',
    'maxWidth',
    'maxHeight',
    'lockAspectRatio',
    'lockAspectRatioExtraWidth',
    'lockAspectRatioExtraHeight',
    'enable',
    'handleStyles',
    'handleClasses',
    'handleWrapperStyle',
    'handleWrapperClass',
    'children',
    'onResizeStart',
    'onResize',
    'onResizeStop',
    'handleComponent',
    'scale',
    'resizeRatio',
    'snapGap',
];
// HACK: This class is used to calculate % size.
var baseClassName = '__resizable_base__';
var Resizable = /** @class */ (function (_super) {
    __extends(Resizable, _super);
    function Resizable(props) {
        var _this = _super.call(this, props) || this;
        _this.ratio = 1;
        _this.resizable = null;
        // For parent boundary
        _this.parentLeft = 0;
        _this.parentTop = 0;
        // For boundary
        _this.resizableLeft = 0;
        _this.resizableTop = 0;
        // For target boundary
        _this.targetLeft = 0;
        _this.targetTop = 0;
        _this.ref = function (c) {
            if (c) {
                _this.resizable = c;
            }
        };
        _this.state = {
            isResizing: false,
            width: typeof (_this.propsSize && _this.propsSize.width) === 'undefined'
                ? 'auto'
                : _this.propsSize && _this.propsSize.width,
            height: typeof (_this.propsSize && _this.propsSize.height) === 'undefined'
                ? 'auto'
                : _this.propsSize && _this.propsSize.height,
            direction: 'right',
            original: {
                x: 0,
                y: 0,
                width: 0,
                height: 0,
            },
            backgroundStyle: {
                height: '100%',
                width: '100%',
                backgroundColor: 'rgba(0,0,0,0)',
                cursor: 'auto',
                opacity: 0,
                position: 'fixed',
                zIndex: 9999,
                top: '0',
                left: '0',
                bottom: '0',
                right: '0',
            },
        };
        _this.onResizeStart = _this.onResizeStart.bind(_this);
        _this.onMouseMove = _this.onMouseMove.bind(_this);
        _this.onMouseUp = _this.onMouseUp.bind(_this);
        return _this;
    }
    Object.defineProperty(Resizable.prototype, "parentNode", {
        get: function () {
            if (!this.resizable) {
                return null;
            }
            return this.resizable.parentNode;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "propsSize", {
        get: function () {
            return this.props.size || this.props.defaultSize || DEFAULT_SIZE;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "base", {
        get: function () {
            var parent = this.parentNode;
            if (!parent) {
                return undefined;
            }
            var children = [].slice.call(parent.children);
            for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {
                var n = children_1[_i];
                if (n instanceof HTMLElement) {
                    if (n.classList.contains(baseClassName)) {
                        return n;
                    }
                }
            }
            return undefined;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "size", {
        get: function () {
            var width = 0;
            var height = 0;
            if (typeof window !== 'undefined' && this.resizable) {
                var orgWidth = this.resizable.offsetWidth;
                var orgHeight = this.resizable.offsetHeight;
                // HACK: Set position `relative` to get parent size.
                //       This is because when re-resizable set `absolute`, I can not get base width correctly.
                var orgPosition = this.resizable.style.position;
                if (orgPosition !== 'relative') {
                    this.resizable.style.position = 'relative';
                }
                // INFO: Use original width or height if set auto.
                width = this.resizable.style.width !== 'auto' ? this.resizable.offsetWidth : orgWidth;
                height = this.resizable.style.height !== 'auto' ? this.resizable.offsetHeight : orgHeight;
                // Restore original position
                this.resizable.style.position = orgPosition;
            }
            return { width: width, height: height };
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Resizable.prototype, "sizeStyle", {
        get: function () {
            var _this = this;
            var size = this.props.size;
            var getSize = function (key) {
                if (typeof _this.state[key] === 'undefined' || _this.state[key] === 'auto') {
                    return 'auto';
                }
                if (_this.propsSize && _this.propsSize[key] && endsWith(_this.propsSize[key].toString(), '%')) {
                    if (endsWith(_this.state[key].toString(), '%')) {
                        return _this.state[key].toString();
                    }
                    var parentSize = _this.getParentSize();
                    var value = Number(_this.state[key].toString().replace('px', ''));
                    var percent = (value / parentSize[key]) * 100;
                    return percent + "%";
                }
                return getStringSize(_this.state[key]);
            };
            var width = size && typeof size.width !== 'undefined' && !this.state.isResizing
                ? getStringSize(size.width)
                : getSize('width');
            var height = size && typeof size.height !== 'undefined' && !this.state.isResizing
                ? getStringSize(size.height)
                : getSize('height');
            return { width: width, height: height };
        },
        enumerable: true,
        configurable: true
    });
    Resizable.prototype.getParentSize = function () {
        if (!this.base || !this.parentNode) {
            return { width: window.innerWidth, height: window.innerHeight };
        }
        // INFO: To calculate parent width with flex layout
        var wrapChanged = false;
        var wrap = this.parentNode.style.flexWrap;
        var minWidth = this.base.style.minWidth;
        if (wrap !== 'wrap') {
            wrapChanged = true;
            this.parentNode.style.flexWrap = 'wrap';
            // HACK: Use relative to get parent padding size
        }
        this.base.style.position = 'relative';
        this.base.style.minWidth = '100%';
        var size = {
            width: this.base.offsetWidth,
            height: this.base.offsetHeight,
        };
        this.base.style.position = 'absolute';
        if (wrapChanged) {
            this.parentNode.style.flexWrap = wrap;
        }
        this.base.style.minWidth = minWidth;
        return size;
    };
    Resizable.prototype.bindEvents = function () {
        if (typeof window !== 'undefined') {
            window.addEventListener('mouseup', this.onMouseUp);
            window.addEventListener('mousemove', this.onMouseMove);
            window.addEventListener('mouseleave', this.onMouseUp);
            window.addEventListener('touchmove', this.onMouseMove);
            window.addEventListener('touchend', this.onMouseUp);
        }
    };
    Resizable.prototype.unbindEvents = function () {
        if (typeof window !== 'undefined') {
            window.removeEventListener('mouseup', this.onMouseUp);
            window.removeEventListener('mousemove', this.onMouseMove);
            window.removeEventListener('mouseleave', this.onMouseUp);
            window.removeEventListener('touchmove', this.onMouseMove);
            window.removeEventListener('touchend', this.onMouseUp);
        }
    };
    Resizable.prototype.componentDidMount = function () {
        if (!this.resizable) {
            return;
        }
        var computedStyle = window.getComputedStyle(this.resizable);
        this.setState({
            width: this.state.width || this.size.width,
            height: this.state.height || this.size.height,
            flexBasis: computedStyle.flexBasis !== 'auto' ? computedStyle.flexBasis : undefined,
        });
        var parent = this.parentNode;
        if (!(parent instanceof HTMLElement)) {
            return;
        }
        if (this.base) {
            return;
        }
        var element = document.createElement('div');
        element.style.width = '100%';
        element.style.height = '100%';
        element.style.position = 'absolute';
        element.style.transform = 'scale(0, 0)';
        element.style.left = '0';
        element.style.flex = '0';
        if (element.classList) {
            element.classList.add(baseClassName);
        }
        else {
            element.className += baseClassName;
        }
        parent.appendChild(element);
    };
    Resizable.prototype.componentWillUnmount = function () {
        if (typeof window !== 'undefined') {
            this.unbindEvents();
            var parent_1 = this.parentNode;
            if (!this.base || !parent_1) {
                return;
            }
            if (!(parent_1 instanceof HTMLElement) || !(this.base instanceof Node)) {
                return;
            }
            parent_1.removeChild(this.base);
        }
    };
    Resizable.prototype.createSizeForCssProperty = function (newSize, kind) {
        var propsSize = this.propsSize && this.propsSize[kind];
        return this.state[kind] === 'auto' &&
            this.state.original[kind] === newSize &&
            (typeof propsSize === 'undefined' || propsSize === 'auto')
            ? 'auto'
            : newSize;
    };
    Resizable.prototype.calculateNewMaxFromBoundary = function (maxWidth, maxHeight) {
        if (this.props.bounds === 'parent') {
            var parent_2 = this.parentNode;
            if (parent_2 instanceof HTMLElement) {
                var boundWidth = parent_2.offsetWidth + (this.parentLeft - this.resizableLeft);
                var boundHeight = parent_2.offsetHeight + (this.parentTop - this.resizableTop);
                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;
                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;
            }
        }
        else if (this.props.bounds === 'window') {
            if (typeof window !== 'undefined') {
                var boundWidth = window.innerWidth - this.resizableLeft;
                var boundHeight = window.innerHeight - this.resizableTop;
                maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;
                maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;
            }
        }
        else if (this.props.bounds instanceof HTMLElement) {
            var boundWidth = this.props.bounds.offsetWidth + (this.targetLeft - this.resizableLeft);
            var boundHeight = this.props.bounds.offsetHeight + (this.targetTop - this.resizableTop);
            maxWidth = maxWidth && maxWidth < boundWidth ? maxWidth : boundWidth;
            maxHeight = maxHeight && maxHeight < boundHeight ? maxHeight : boundHeight;
        }
        return { maxWidth: maxWidth, maxHeight: maxHeight };
    };
    Resizable.prototype.calculateNewSizeFromDirection = function (clientX, clientY) {
        var scale = this.props.scale || 1;
        var resizeRatio = this.props.resizeRatio || 1;
        var _a = this.state, direction = _a.direction, original = _a.original;
        var _b = this.props, lockAspectRatio = _b.lockAspectRatio, lockAspectRatioExtraHeight = _b.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _b.lockAspectRatioExtraWidth;
        var newWidth = original.width;
        var newHeight = original.height;
        var extraHeight = lockAspectRatioExtraHeight || 0;
        var extraWidth = lockAspectRatioExtraWidth || 0;
        if (hasDirection('right', direction)) {
            newWidth = original.width + ((clientX - original.x) * resizeRatio) / scale;
            if (lockAspectRatio) {
                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;
            }
        }
        if (hasDirection('left', direction)) {
            newWidth = original.width - ((clientX - original.x) * resizeRatio) / scale;
            if (lockAspectRatio) {
                newHeight = (newWidth - extraWidth) / this.ratio + extraHeight;
            }
        }
        if (hasDirection('bottom', direction)) {
            newHeight = original.height + ((clientY - original.y) * resizeRatio) / scale;
            if (lockAspectRatio) {
                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;
            }
        }
        if (hasDirection('top', direction)) {
            newHeight = original.height - ((clientY - original.y) * resizeRatio) / scale;
            if (lockAspectRatio) {
                newWidth = (newHeight - extraHeight) * this.ratio + extraWidth;
            }
        }
        return { newWidth: newWidth, newHeight: newHeight };
    };
    Resizable.prototype.calculateNewSizeFromAspectRatio = function (newWidth, newHeight, max, min) {
        var _a = this.props, lockAspectRatio = _a.lockAspectRatio, lockAspectRatioExtraHeight = _a.lockAspectRatioExtraHeight, lockAspectRatioExtraWidth = _a.lockAspectRatioExtraWidth;
        var computedMinWidth = typeof min.width === 'undefined' ? 10 : min.width;
        var computedMaxWidth = typeof max.width === 'undefined' || max.width < 0 ? newWidth : max.width;
        var computedMinHeight = typeof min.height === 'undefined' ? 10 : min.height;
        var computedMaxHeight = typeof max.height === 'undefined' || max.height < 0 ? newHeight : max.height;
        var extraHeight = lockAspectRatioExtraHeight || 0;
        var extraWidth = lockAspectRatioExtraWidth || 0;
        if (lockAspectRatio) {
            var extraMinWidth = (computedMinHeight - extraHeight) * this.ratio + extraWidth;
            var extraMaxWidth = (computedMaxHeight - extraHeight) * this.ratio + extraWidth;
            var extraMinHeight = (computedMinWidth - extraWidth) / this.ratio + extraHeight;
            var extraMaxHeight = (computedMaxWidth - extraWidth) / this.ratio + extraHeight;
            var lockedMinWidth = Math.max(computedMinWidth, extraMinWidth);
            var lockedMaxWidth = Math.min(computedMaxWidth, extraMaxWidth);
            var lockedMinHeight = Math.max(computedMinHeight, extraMinHeight);
            var lockedMaxHeight = Math.min(computedMaxHeight, extraMaxHeight);
            newWidth = clamp(newWidth, lockedMinWidth, lockedMaxWidth);
            newHeight = clamp(newHeight, lockedMinHeight, lockedMaxHeight);
        }
        else {
            newWidth = clamp(newWidth, computedMinWidth, computedMaxWidth);
            newHeight = clamp(newHeight, computedMinHeight, computedMaxHeight);
        }
        return { newWidth: newWidth, newHeight: newHeight };
    };
    Resizable.prototype.setBoundingClientRect = function () {
        // For parent boundary
        if (this.props.bounds === 'parent') {
            var parent_3 = this.parentNode;
            if (parent_3 instanceof HTMLElement) {
                var parentRect = parent_3.getBoundingClientRect();
                this.parentLeft = parentRect.left;
                this.parentTop = parentRect.top;
            }
        }
        // For target(html element) boundary
        if (this.props.bounds instanceof HTMLElement) {
            var targetRect = this.props.bounds.getBoundingClientRect();
            this.targetLeft = targetRect.left;
            this.targetTop = targetRect.top;
        }
        // For boundary
        if (this.resizable) {
            var _a = this.resizable.getBoundingClientRect(), left = _a.left, top_1 = _a.top;
            this.resizableLeft = left;
            this.resizableTop = top_1;
        }
    };
    Resizable.prototype.onResizeStart = function (event, direction) {
        if (!this.resizable) {
            return;
        }
        var clientX = 0;
        var clientY = 0;
        if (event.nativeEvent instanceof MouseEvent) {
            clientX = event.nativeEvent.clientX;
            clientY = event.nativeEvent.clientY;
            // When user click with right button the resize is stuck in resizing mode
            // until users clicks again, dont continue if right click is used.
            // HACK: MouseEvent does not have `which` from flow-bin v0.68.
            if (event.nativeEvent.which === 3) {
                return;
            }
        }
        else if (event.nativeEvent instanceof TouchEvent) {
            clientX = event.nativeEvent.touches[0].clientX;
            clientY = event.nativeEvent.touches[0].clientY;
        }
        if (this.props.onResizeStart) {
            if (this.resizable) {
                var startResize = this.props.onResizeStart(event, direction, this.resizable);
                if (startResize === false) {
                    return;
                }
            }
        }
        // Fix #168
        if (this.props.size) {
            if (typeof this.props.size.height !== 'undefined' && this.props.size.height !== this.state.height) {
                this.setState({ height: this.props.size.height });
            }
            if (typeof this.props.size.width !== 'undefined' && this.props.size.width !== this.state.width) {
                this.setState({ width: this.props.size.width });
            }
        }
        // For lockAspectRatio case
        this.ratio =
            typeof this.props.lockAspectRatio === 'number' ? this.props.lockAspectRatio : this.size.width / this.size.height;
        var flexBasis;
        var computedStyle = window.getComputedStyle(this.resizable);
        if (computedStyle.flexBasis !== 'auto') {
            var parent_4 = this.parentNode;
            if (parent_4) {
                var dir = window.getComputedStyle(parent_4).flexDirection;
                this.flexDir = dir.startsWith('row') ? 'row' : 'column';
                flexBasis = computedStyle.flexBasis;
            }
        }
        // For boundary
        this.setBoundingClientRect();
        this.bindEvents();
        var state = {
            original: {
                x: clientX,
                y: clientY,
                width: this.size.width,
                height: this.size.height,
            },
            isResizing: true,
            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: window.getComputedStyle(event.target).cursor || 'auto' }),
            direction: direction,
            flexBasis: flexBasis,
        };
        this.setState(state);
    };
    Resizable.prototype.onMouseMove = function (event) {
        if (!this.state.isResizing || !this.resizable) {
            return;
        }
        var _a = this.props, maxWidth = _a.maxWidth, maxHeight = _a.maxHeight, minWidth = _a.minWidth, minHeight = _a.minHeight;
        var clientX = event instanceof MouseEvent ? event.clientX : event.touches[0].clientX;
        var clientY = event instanceof MouseEvent ? event.clientY : event.touches[0].clientY;
        var _b = this.state, direction = _b.direction, original = _b.original, width = _b.width, height = _b.height;
        var parentSize = this.getParentSize();
        var max = calculateNewMax(parentSize, maxWidth, maxHeight, minWidth, minHeight);
        maxWidth = max.maxWidth;
        maxHeight = max.maxHeight;
        minWidth = max.minWidth;
        minHeight = max.minHeight;
        // Calculate new size
        var _c = this.calculateNewSizeFromDirection(clientX, clientY), newHeight = _c.newHeight, newWidth = _c.newWidth;
        // Calculate max size from boundary settings
        var boundaryMax = this.calculateNewMaxFromBoundary(maxWidth, maxHeight);
        // Calculate new size from aspect ratio
        var newSize = this.calculateNewSizeFromAspectRatio(newWidth, newHeight, { width: boundaryMax.maxWidth, height: boundaryMax.maxHeight }, { width: minWidth, height: minHeight });
        newWidth = newSize.newWidth;
        newHeight = newSize.newHeight;
        if (this.props.grid) {
            var newGridWidth = snap(newWidth, this.props.grid[0]);
            var newGridHeight = snap(newHeight, this.props.grid[1]);
            var gap = this.props.snapGap || 0;
            newWidth = gap === 0 || Math.abs(newGridWidth - newWidth) <= gap ? newGridWidth : newWidth;
            newHeight = gap === 0 || Math.abs(newGridHeight - newHeight) <= gap ? newGridHeight : newHeight;
        }
        if (this.props.snap && this.props.snap.x) {
            newWidth = findClosestSnap(newWidth, this.props.snap.x, this.props.snapGap);
        }
        if (this.props.snap && this.props.snap.y) {
            newHeight = findClosestSnap(newHeight, this.props.snap.y, this.props.snapGap);
        }
        var delta = {
            width: newWidth - original.width,
            height: newHeight - original.height,
        };
        if (width && typeof width === 'string') {
            if (endsWith(width, '%')) {
                var percent = (newWidth / parentSize.width) * 100;
                newWidth = percent + "%";
            }
            else if (endsWith(width, 'vw')) {
                var vw = (newWidth / window.innerWidth) * 100;
                newWidth = vw + "vw";
            }
            else if (endsWith(width, 'vh')) {
                var vh = (newWidth / window.innerHeight) * 100;
                newWidth = vh + "vh";
            }
        }
        if (height && typeof height === 'string') {
            if (endsWith(height, '%')) {
                var percent = (newHeight / parentSize.height) * 100;
                newHeight = percent + "%";
            }
            else if (endsWith(height, 'vw')) {
                var vw = (newHeight / window.innerWidth) * 100;
                newHeight = vw + "vw";
            }
            else if (endsWith(height, 'vh')) {
                var vh = (newHeight / window.innerHeight) * 100;
                newHeight = vh + "vh";
            }
        }
        var newState = {
            width: this.createSizeForCssProperty(newWidth, 'width'),
            height: this.createSizeForCssProperty(newHeight, 'height'),
        };
        if (this.flexDir === 'row') {
            newState.flexBasis = newState.width;
        }
        else if (this.flexDir === 'column') {
            newState.flexBasis = newState.height;
        }
        this.setState(newState);
        if (this.props.onResize) {
            this.props.onResize(event, direction, this.resizable, delta);
        }
    };
    Resizable.prototype.onMouseUp = function (event) {
        var _a = this.state, isResizing = _a.isResizing, direction = _a.direction, original = _a.original;
        if (!isResizing || !this.resizable) {
            return;
        }
        var delta = {
            width: this.size.width - original.width,
            height: this.size.height - original.height,
        };
        if (this.props.onResizeStop) {
            this.props.onResizeStop(event, direction, this.resizable, delta);
        }
        if (this.props.size) {
            this.setState(this.props.size);
        }
        this.unbindEvents();
        this.setState({
            isResizing: false,
            backgroundStyle: __assign(__assign({}, this.state.backgroundStyle), { cursor: 'auto' }),
        });
    };
    Resizable.prototype.updateSize = function (size) {
        this.setState({ width: size.width, height: size.height });
    };
    Resizable.prototype.renderResizer = function () {
        var _this = this;
        var _a = this.props, enable = _a.enable, handleStyles = _a.handleStyles, handleClasses = _a.handleClasses, handleWrapperStyle = _a.handleWrapperStyle, handleWrapperClass = _a.handleWrapperClass, handleComponent = _a.handleComponent;
        if (!enable) {
            return null;
        }
        var resizers = Object.keys(enable).map(function (dir) {
            if (enable[dir] !== false) {
                return (React.createElement(resizer_1.Resizer, { key: dir, direction: dir, onResizeStart: _this.onResizeStart, replaceStyles: handleStyles && handleStyles[dir], className: handleClasses && handleClasses[dir] }, handleComponent && handleComponent[dir] ? handleComponent[dir] : null));
            }
            return null;
        });
        // #93 Wrap the resize box in span (will not break 100% width/height)
        return (React.createElement("span", { className: handleWrapperClass, style: handleWrapperStyle }, resizers));
    };
    Resizable.prototype.render = function () {
        var _this = this;
        var extendsProps = Object.keys(this.props).reduce(function (acc, key) {
            if (definedProps.indexOf(key) !== -1) {
                return acc;
            }
            acc[key] = _this.props[key];
            return acc;
        }, {});
        var style = __assign(__assign(__assign({ position: 'relative', userSelect: this.state.isResizing ? 'none' : 'auto' }, this.props.style), this.sizeStyle), { maxWidth: this.props.maxWidth, maxHeight: this.props.maxHeight, minWidth: this.props.minWidth, minHeight: this.props.minHeight, boxSizing: 'border-box', flexShrink: 0 });
        if (this.state.flexBasis) {
            style.flexBasis = this.state.flexBasis;
        }
        return (React.createElement("div", __assign({ ref: this.ref, style: style, className: this.props.className }, extendsProps),
            this.state.isResizing && React.createElement("div", { style: this.state.backgroundStyle }),
            this.props.children,
            this.renderResizer()));
    };
    Resizable.defaultProps = {
        onResizeStart: function () { },
        onResize: function () { },
        onResizeStop: function () { },
        enable: {
            top: true,
            right: true,
            bottom: true,
            left: true,
            topRight: true,
            bottomRight: true,
            bottomLeft: true,
            topLeft: true,
        },
        style: {},
        grid: [1, 1],
        lockAspectRatio: false,
        lockAspectRatioExtraWidth: 0,
        lockAspectRatioExtraHeight: 0,
        scale: 1,
        resizeRatio: 1,
        snapGap: 0,
    };
    return Resizable;
}(React.PureComponent));
exports.Resizable = Resizable;


/***/ }),

/***/ "./node_modules/re-resizable/lib/resizer.js":
/*!**************************************************!*\
  !*** ./node_modules/re-resizable/lib/resizer.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __importStar(__webpack_require__(/*! react */ "./node_modules/react/index.js"));
var styles = {
    top: {
        width: '100%',
        height: '10px',
        top: '-5px',
        left: '0px',
        cursor: 'row-resize',
    },
    right: {
        width: '10px',
        height: '100%',
        top: '0px',
        right: '-5px',
        cursor: 'col-resize',
    },
    bottom: {
        width: '100%',
        height: '10px',
        bottom: '-5px',
        left: '0px',
        cursor: 'row-resize',
    },
    left: {
        width: '10px',
        height: '100%',
        top: '0px',
        left: '-5px',
        cursor: 'col-resize',
    },
    topRight: {
        width: '20px',
        height: '20px',
        position: 'absolute',
        right: '-10px',
        top: '-10px',
        cursor: 'ne-resize',
    },
    bottomRight: {
        width: '20px',
        height: '20px',
        position: 'absolute',
        right: '-10px',
        bottom: '-10px',
        cursor: 'se-resize',
    },
    bottomLeft: {
        width: '20px',
        height: '20px',
        position: 'absolute',
        left: '-10px',
        bottom: '-10px',
        cursor: 'sw-resize',
    },
    topLeft: {
        width: '20px',
        height: '20px',
        position: 'absolute',
        left: '-10px',
        top: '-10px',
        cursor: 'nw-resize',
    },
};
var Resizer = /** @class */ (function (_super) {
    __extends(Resizer, _super);
    function Resizer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.onMouseDown = function (e) {
            _this.props.onResizeStart(e, _this.props.direction);
        };
        _this.onTouchStart = function (e) {
            _this.props.onResizeStart(e, _this.props.direction);
        };
        return _this;
    }
    Resizer.prototype.render = function () {
        return (React.createElement("div", { className: this.props.className || '', style: __assign(__assign({ position: 'absolute', userSelect: 'none' }, styles[this.props.direction]), (this.props.replaceStyles || {})), onMouseDown: this.onMouseDown, onTouchStart: this.onTouchStart }, this.props.children));
    };
    return Resizer;
}(React.PureComponent));
exports.Resizer = Resizer;


/***/ }),

/***/ "./node_modules/react-icon-base/lib/index.js":
/*!***************************************************!*\
  !*** ./node_modules/react-icon-base/lib/index.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

var IconBase = function IconBase(_ref, _ref2) {
  var children = _ref.children;
  var color = _ref.color;
  var size = _ref.size;
  var style = _ref.style;
  var width = _ref.width;
  var height = _ref.height;

  var props = _objectWithoutProperties(_ref, ['children', 'color', 'size', 'style', 'width', 'height']);

  var _ref2$reactIconBase = _ref2.reactIconBase;
  var reactIconBase = _ref2$reactIconBase === undefined ? {} : _ref2$reactIconBase;

  var computedSize = size || reactIconBase.size || '1em';
  return _react2.default.createElement('svg', _extends({
    children: children,
    fill: 'currentColor',
    preserveAspectRatio: 'xMidYMid meet',
    height: height || computedSize,
    width: width || computedSize
  }, reactIconBase, props, {
    style: _extends({
      verticalAlign: 'middle',
      color: color || reactIconBase.color
    }, reactIconBase.style || {}, style)
  }));
};

IconBase.propTypes = {
  color: _propTypes2.default.string,
  size: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  height: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),
  style: _propTypes2.default.object
};

IconBase.contextTypes = {
  reactIconBase: _propTypes2.default.shape(IconBase.propTypes)
};

exports.default = IconBase;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/alert.js":
/*!**************************************************!*\
  !*** ./node_modules/react-icons/lib/io/alert.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoAlert = function IoAlert(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm25 37.5h-10v-7.5h10v7.5z m-1.2-12.5h-7.5l-1.3-22.5h10z' })
        )
    );
};

exports.default = IoAlert;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/android-locate.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-icons/lib/io/android-locate.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoAndroidLocate = function IoAndroidLocate(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm17.5 13.8c3.4 0 6.3 2.8 6.3 6.2s-2.9 6.3-6.3 6.3-6.2-2.9-6.2-6.3 2.8-6.2 6.2-6.2z m14.9 4.6h2.6v3.2h-2.6c-0.8 7-6.3 12.5-13.3 13.3v2.6h-3.2v-2.6c-7-0.8-12.5-6.3-13.3-13.3h-2.6v-3.2h2.6c0.8-7 6.3-12.5 13.3-13.3v-2.6h3.2v2.6c7 0.8 12.5 6.3 13.3 13.3z m-14.9 13.2c6.4 0 11.6-5.2 11.6-11.6s-5.2-11.6-11.6-11.6-11.6 5.2-11.6 11.6 5.2 11.6 11.6 11.6z' })
        )
    );
};

exports.default = IoAndroidLocate;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/android-open.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-icons/lib/io/android-open.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoAndroidOpen = function IoAndroidOpen(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm31.6 31.6v-10.3h3.4v10.3c0 1.8-1.6 3.4-3.4 3.4h-23.2c-1.8 0-3.4-1.6-3.4-3.4v-23.2c0-1.8 1.6-3.4 3.4-3.4h10.4v3.4h-10.4v23.2h23.2z m-9.1-26.6h12.5v12.5h-3.4v-6.8l-16.8 16.8-2.3-2.3 16.8-16.8h-6.8v-3.4z' })
        )
    );
};

exports.default = IoAndroidOpen;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/arrow-right-a.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-icons/lib/io/arrow-right-a.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoArrowRightA = function IoArrowRightA(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm35 20l-15 15v-8.7h-15v-12.5h15v-8.8z' })
        )
    );
};

exports.default = IoArrowRightA;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/chevron-right.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-icons/lib/io/chevron-right.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoChevronRight = function IoChevronRight(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm23.3 20l-13.1-13.6c-0.3-0.3-0.3-0.9 0-1.2l2.4-2.4c0.3-0.3 0.9-0.4 1.2-0.1l16 16.7c0.1 0.1 0.2 0.4 0.2 0.6s-0.1 0.5-0.2 0.6l-16 16.7c-0.3 0.3-0.9 0.3-1.2 0l-2.4-2.5c-0.3-0.3-0.3-0.9 0-1.2z' })
        )
    );
};

exports.default = IoChevronRight;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/ios-arrow-down.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-icons/lib/io/ios-arrow-down.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoIosArrowDown = function IoIosArrowDown(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm31 12.5l1.5 1.6-12.5 13.4-12.5-13.4 1.5-1.6 11 11.7z' })
        )
    );
};

exports.default = IoIosArrowDown;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/ios-arrow-right.js":
/*!************************************************************!*\
  !*** ./node_modules/react-icons/lib/io/ios-arrow-right.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoIosArrowRight = function IoIosArrowRight(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm12.5 9l1.6-1.5 13.4 12.5-13.4 12.5-1.6-1.5 11.7-11z' })
        )
    );
};

exports.default = IoIosArrowRight;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/io/network.js":
/*!****************************************************!*\
  !*** ./node_modules/react-icons/lib/io/network.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var IoNetwork = function IoNetwork(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm35 7.5c0 1.9-1 3.4-2.5 4.3v7.3l-10 5v4.1c1.5 0.9 2.5 2.4 2.5 4.3 0 2.7-2.3 5-5 5s-5-2.3-5-5c0-1.9 1-3.4 2.5-4.3v-4.1l-10-5v-7.3c-1.5-0.9-2.5-2.4-2.5-4.3 0-2.7 2.3-5 5-5s5 2.3 5 5c0 1.9-1 3.4-2.5 4.3v4.1l7.5 3.8 7.5-3.8v-4.1c-1.5-0.9-2.5-2.4-2.5-4.3 0-2.7 2.3-5 5-5s5 2.3 5 5z m-25-2.5c-1.4 0-2.5 1.1-2.5 2.5s1.1 2.5 2.5 2.5 2.5-1.1 2.5-2.5-1.1-2.5-2.5-2.5z m10 30c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5z m10-25c1.4 0 2.5-1.1 2.5-2.5s-1.1-2.5-2.5-2.5-2.5 1.1-2.5 2.5 1.1 2.5 2.5 2.5z' })
        )
    );
};

exports.default = IoNetwork;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/md/file-upload.js":
/*!********************************************************!*\
  !*** ./node_modules/react-icons/lib/md/file-upload.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MdFileUpload = function MdFileUpload(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm8.4 30h23.2v3.4h-23.2v-3.4z m6.6-3.4v-10h-6.6l11.6-11.6 11.6 11.6h-6.6v10h-10z' })
        )
    );
};

exports.default = MdFileUpload;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/react-icons/lib/md/keyboard-arrow-right.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-icons/lib/md/keyboard-arrow-right.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactIconBase = __webpack_require__(/*! react-icon-base */ "./node_modules/react-icon-base/lib/index.js");

var _reactIconBase2 = _interopRequireDefault(_reactIconBase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MdKeyboardArrowRight = function MdKeyboardArrowRight(props) {
    return _react2.default.createElement(
        _reactIconBase2.default,
        _extends({ viewBox: '0 0 40 40' }, props),
        _react2.default.createElement(
            'g',
            null,
            _react2.default.createElement('path', { d: 'm14.3 27.3l7.7-7.7-7.7-7.7 2.3-2.3 10 10-10 10z' })
        )
    );
};

exports.default = MdKeyboardArrowRight;
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/recompose/es/Recompose.js":
/*!************************************************!*\
  !*** ./node_modules/recompose/es/Recompose.js ***!
  \************************************************/
/*! exports provided: mapProps, withProps, withPropsOnChange, withHandlers, defaultProps, renameProp, renameProps, flattenProp, withState, withStateHandlers, withReducer, branch, renderComponent, renderNothing, shouldUpdate, pure, onlyUpdateForKeys, onlyUpdateForPropTypes, withContext, getContext, lifecycle, toClass, setStatic, setPropTypes, setDisplayName, compose, getDisplayName, wrapDisplayName, shallowEqual, isClassComponent, createEagerElement, createEagerFactory, createSink, componentFromProp, nest, hoistStatics, componentFromStream, componentFromStreamWithConfig, mapPropsStream, mapPropsStreamWithConfig, createEventHandler, createEventHandlerWithConfig, setObservableConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapProps", function() { return mapProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withProps", function() { return withProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withPropsOnChange", function() { return withPropsOnChange; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withHandlers", function() { return withHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultProps", function() { return defaultProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProp", function() { return renameProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renameProps", function() { return renameProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flattenProp", function() { return flattenProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withState", function() { return withState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withStateHandlers", function() { return withStateHandlers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withReducer", function() { return withReducer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "branch", function() { return branch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderComponent", function() { return renderComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderNothing", function() { return renderNothing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shouldUpdate", function() { return shouldUpdate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pure", function() { return pure; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForKeys", function() { return onlyUpdateForKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onlyUpdateForPropTypes", function() { return onlyUpdateForPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withContext", function() { return withContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContext", function() { return getContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lifecycle", function() { return lifecycle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toClass", function() { return toClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStatic", function() { return setStatic; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPropTypes", function() { return setPropTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setDisplayName", function() { return setDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return compose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayName", function() { return getDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrapDisplayName", function() { return wrapDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClassComponent", function() { return isClassComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEagerElement", function() { return createEagerElement; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEagerFactory", function() { return createFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSink", function() { return createSink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromProp", function() { return componentFromProp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nest", function() { return nest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hoistStatics", function() { return hoistStatics; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStream", function() { return componentFromStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "componentFromStreamWithConfig", function() { return componentFromStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStream", function() { return mapPropsStream; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPropsStreamWithConfig", function() { return mapPropsStreamWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandler", function() { return createEventHandler; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEventHandlerWithConfig", function() { return createEventHandlerWithConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setObservableConfig", function() { return configureObservable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fbjs/lib/shallowEqual */ "./node_modules/fbjs/lib/shallowEqual.js");
/* harmony import */ var fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "shallowEqual", function() { return fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default.a; });
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/recompose/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! change-emitter */ "./node_modules/change-emitter/lib/index.js");
/* harmony import */ var change_emitter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(change_emitter__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! symbol-observable */ "./node_modules/symbol-observable/es/index.js");






var setStatic = function setStatic(key, value) {
  return function (BaseComponent) {
    /* eslint-disable no-param-reassign */
    BaseComponent[key] = value;
    /* eslint-enable no-param-reassign */
    return BaseComponent;
  };
};

var setDisplayName = function setDisplayName(displayName) {
  return setStatic('displayName', displayName);
};

var getDisplayName = function getDisplayName(Component$$1) {
  if (typeof Component$$1 === 'string') {
    return Component$$1;
  }

  if (!Component$$1) {
    return undefined;
  }

  return Component$$1.displayName || Component$$1.name || 'Component';
};

var wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {
  return hocName + '(' + getDisplayName(BaseComponent) + ')';
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};









var _extends = Object.assign || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};



var inherits = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
};









var objectWithoutProperties = function (obj, keys) {
  var target = {};

  for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;
    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
    target[i] = obj[i];
  }

  return target;
};

var possibleConstructorReturn = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
};

var createEagerElementUtil = function createEagerElementUtil(hasKey, isReferentiallyTransparent, type, props, children) {
  if (false) {}

  var Component$$1 = type;

  if (children) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(
      Component$$1,
      props,
      children
    );
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component$$1, props);
};

var isClassComponent = function isClassComponent(Component$$1) {
  return Boolean(Component$$1 && Component$$1.prototype && typeof Component$$1.prototype.render === 'function');
};

var isReferentiallyTransparentFunctionComponent = function isReferentiallyTransparentFunctionComponent(Component$$1) {
  return Boolean(typeof Component$$1 === 'function' && !isClassComponent(Component$$1) && !Component$$1.defaultProps && !Component$$1.contextTypes);
};

var createFactory = function createFactory(type) {
  var isReferentiallyTransparent = isReferentiallyTransparentFunctionComponent(type);
  return function (p, c) {
    return createEagerElementUtil(false, isReferentiallyTransparent, type, p, c);
  };
};

var mapProps = function mapProps(propsMapper) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);
    var MapProps = function MapProps(props) {
      return factory(propsMapper(props));
    };
    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapProps'))(MapProps);
    }
    return MapProps;
  };
};

var withProps = function withProps(input) {
  var hoc = mapProps(function (props) {
    return _extends({}, props, typeof input === 'function' ? input(props) : input);
  });
  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withProps'))(hoc(BaseComponent));
    };
  }
  return hoc;
};

var pick = function pick(obj, keys) {
  var result = {};
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    }
  }
  return result;
};

var withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);
    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {
      return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default()(pick(props, shouldMapOrKeys), pick(nextProps, shouldMapOrKeys));
    };

    var WithPropsOnChange = function (_Component) {
      inherits(WithPropsOnChange, _Component);

      function WithPropsOnChange() {
        var _temp, _this, _ret;

        classCallCheck(this, WithPropsOnChange);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.computedProps = propsMapper(_this.props), _temp), possibleConstructorReturn(_this, _ret);
      }

      WithPropsOnChange.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        if (shouldMap(this.props, nextProps)) {
          this.computedProps = propsMapper(nextProps);
        }
      };

      WithPropsOnChange.prototype.render = function render() {
        return factory(_extends({}, this.props, this.computedProps));
      };

      return WithPropsOnChange;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withPropsOnChange'))(WithPropsOnChange);
    }
    return WithPropsOnChange;
  };
};

var mapValues = function mapValues(obj, func) {
  var result = {};
  /* eslint-disable no-restricted-syntax */
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      result[key] = func(obj[key], key);
    }
  }
  /* eslint-enable no-restricted-syntax */
  return result;
};

/* eslint-disable no-console */
var withHandlers = function withHandlers(handlers) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var WithHandlers = function (_Component) {
      inherits(WithHandlers, _Component);

      function WithHandlers() {
        var _temp, _this, _ret;

        classCallCheck(this, WithHandlers);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), possibleConstructorReturn(_this, _ret);
      }

      WithHandlers.prototype.componentWillReceiveProps = function componentWillReceiveProps() {
        this.cachedHandlers = {};
      };

      WithHandlers.prototype.render = function render() {
        return factory(_extends({}, this.props, this.handlers));
      };

      return WithHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    var _initialiseProps = function _initialiseProps() {
      var _this2 = this;

      this.cachedHandlers = {};
      this.handlers = mapValues(typeof handlers === 'function' ? handlers(this.props) : handlers, function (createHandler, handlerName) {
        return function () {
          var cachedHandler = _this2.cachedHandlers[handlerName];
          if (cachedHandler) {
            return cachedHandler.apply(undefined, arguments);
          }

          var handler = createHandler(_this2.props);
          _this2.cachedHandlers[handlerName] = handler;

          if ( true && typeof handler !== 'function') {
            console.error(
            // eslint-disable-line no-console
            'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');
          }

          return handler.apply(undefined, arguments);
        };
      });
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withHandlers'))(WithHandlers);
    }
    return WithHandlers;
  };
};

var defaultProps = function defaultProps(props) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);
    var DefaultProps = function DefaultProps(ownerProps) {
      return factory(ownerProps);
    };
    DefaultProps.defaultProps = props;
    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'defaultProps'))(DefaultProps);
    }
    return DefaultProps;
  };
};

var omit = function omit(obj, keys) {
  var rest = objectWithoutProperties(obj, []);

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (rest.hasOwnProperty(key)) {
      delete rest[key];
    }
  }
  return rest;
};

var renameProp = function renameProp(oldName, newName) {
  var hoc = mapProps(function (props) {
    var _babelHelpers$extends;

    return _extends({}, omit(props, [oldName]), (_babelHelpers$extends = {}, _babelHelpers$extends[newName] = props[oldName], _babelHelpers$extends));
  });
  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProp'))(hoc(BaseComponent));
    };
  }
  return hoc;
};

var keys = Object.keys;


var mapKeys = function mapKeys(obj, func) {
  return keys(obj).reduce(function (result, key) {
    var val = obj[key];
    /* eslint-disable no-param-reassign */
    result[func(val, key)] = val;
    /* eslint-enable no-param-reassign */
    return result;
  }, {});
};

var renameProps = function renameProps(nameMap) {
  var hoc = mapProps(function (props) {
    return _extends({}, omit(props, keys(nameMap)), mapKeys(pick(props, keys(nameMap)), function (_, oldName) {
      return nameMap[oldName];
    }));
  });
  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'renameProps'))(hoc(BaseComponent));
    };
  }
  return hoc;
};

var flattenProp = function flattenProp(propName) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);
    var FlattenProp = function FlattenProp(props) {
      return factory(_extends({}, props, props[propName]));
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'flattenProp'))(FlattenProp);
    }
    return FlattenProp;
  };
};

var withState = function withState(stateName, stateUpdaterName, initialState) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var WithState = function (_Component) {
      inherits(WithState, _Component);

      function WithState() {
        var _temp, _this, _ret;

        classCallCheck(this, WithState);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {
          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState
        }, _this.updateStateValue = function (updateFn, callback) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn
            };
          }, callback);
        }, _temp), possibleConstructorReturn(_this, _ret);
      }

      WithState.prototype.render = function render() {
        var _babelHelpers$extends;

        return factory(_extends({}, this.props, (_babelHelpers$extends = {}, _babelHelpers$extends[stateName] = this.state.stateValue, _babelHelpers$extends[stateUpdaterName] = this.updateStateValue, _babelHelpers$extends)));
      };

      return WithState;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withState'))(WithState);
    }
    return WithState;
  };
};

var withStateHandlers = function withStateHandlers(initialState, stateUpdaters) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var WithStateHandlers = function (_Component) {
      inherits(WithStateHandlers, _Component);

      function WithStateHandlers() {
        var _temp, _this, _ret;

        classCallCheck(this, WithStateHandlers);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), possibleConstructorReturn(_this, _ret);
      }

      WithStateHandlers.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
        var propsChanged = nextProps !== this.props;
        // the idea is to skip render if stateUpdater handler return undefined
        // this allows to create no state update handlers with access to state and props
        var stateChanged = !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default()(nextState, this.state);
        return propsChanged || stateChanged;
      };

      WithStateHandlers.prototype.render = function render() {
        return factory(_extends({}, this.props, this.state, this.stateUpdaters));
      };

      return WithStateHandlers;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    var _initialiseProps = function _initialiseProps() {
      var _this2 = this;

      this.state = typeof initialState === 'function' ? initialState(this.props) : initialState;
      this.stateUpdaters = mapValues(stateUpdaters, function (handler) {
        return function (mayBeEvent) {
          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }

          // Having that functional form of setState can be called async
          // we need to persist SyntheticEvent
          if (mayBeEvent && typeof mayBeEvent.persist === 'function') {
            mayBeEvent.persist();
          }

          _this2.setState(function (state, props) {
            return handler(state, props).apply(undefined, [mayBeEvent].concat(args));
          });
        };
      });
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withStateHandlers'))(WithStateHandlers);
    }
    return WithStateHandlers;
  };
};

var withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var WithReducer = function (_Component) {
      inherits(WithReducer, _Component);

      function WithReducer() {
        var _temp, _this, _ret;

        classCallCheck(this, WithReducer);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {
          stateValue: _this.initializeStateValue()
        }, _this.dispatch = function (action) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: reducer(stateValue, action)
            };
          });
        }, _temp), possibleConstructorReturn(_this, _ret);
      }

      WithReducer.prototype.initializeStateValue = function initializeStateValue() {
        if (initialState !== undefined) {
          return typeof initialState === 'function' ? initialState(this.props) : initialState;
        }
        return reducer(undefined, { type: '@@recompose/INIT' });
      };

      WithReducer.prototype.render = function render() {
        var _babelHelpers$extends;

        return factory(_extends({}, this.props, (_babelHelpers$extends = {}, _babelHelpers$extends[stateName] = this.state.stateValue, _babelHelpers$extends[dispatchName] = this.dispatch, _babelHelpers$extends)));
      };

      return WithReducer;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withReducer'))(WithReducer);
    }
    return WithReducer;
  };
};

var identity = function identity(Component$$1) {
  return Component$$1;
};

var branch = function branch(test, left) {
  var right = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : identity;
  return function (BaseComponent) {
    var leftFactory = void 0;
    var rightFactory = void 0;
    var Branch = function Branch(props) {
      if (test(props)) {
        leftFactory = leftFactory || createFactory(left(BaseComponent));
        return leftFactory(props);
      }
      rightFactory = rightFactory || createFactory(right(BaseComponent));
      return rightFactory(props);
    };

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'branch'))(Branch);
    }
    return Branch;
  };
};

var renderComponent = function renderComponent(Component$$1) {
  return function (_) {
    var factory = createFactory(Component$$1);
    var RenderComponent = function RenderComponent(props) {
      return factory(props);
    };
    if (true) {
      RenderComponent.displayName = wrapDisplayName(Component$$1, 'renderComponent');
    }
    return RenderComponent;
  };
};

var Nothing = function (_Component) {
  inherits(Nothing, _Component);

  function Nothing() {
    classCallCheck(this, Nothing);
    return possibleConstructorReturn(this, _Component.apply(this, arguments));
  }

  Nothing.prototype.render = function render() {
    return null;
  };

  return Nothing;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var renderNothing = function renderNothing(_) {
  return Nothing;
};

var shouldUpdate = function shouldUpdate(test) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var ShouldUpdate = function (_Component) {
      inherits(ShouldUpdate, _Component);

      function ShouldUpdate() {
        classCallCheck(this, ShouldUpdate);
        return possibleConstructorReturn(this, _Component.apply(this, arguments));
      }

      ShouldUpdate.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return test(this.props, nextProps);
      };

      ShouldUpdate.prototype.render = function render() {
        return factory(this.props);
      };

      return ShouldUpdate;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'shouldUpdate'))(ShouldUpdate);
    }
    return ShouldUpdate;
  };
};

var pure = function pure(BaseComponent) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default()(props, nextProps);
  });

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'pure'))(hoc(BaseComponent));
  }

  return hoc(BaseComponent);
};

var onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {
  var hoc = shouldUpdate(function (props, nextProps) {
    return !fbjs_lib_shallowEqual__WEBPACK_IMPORTED_MODULE_1___default()(pick(nextProps, propKeys), pick(props, propKeys));
  });

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForKeys'))(hoc(BaseComponent));
    };
  }
  return hoc;
};

var onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {
  var propTypes = BaseComponent.propTypes;

  if (true) {
    if (!propTypes) {
      /* eslint-disable */
      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ('component with display name "' + getDisplayName(BaseComponent) + '".'));
      /* eslint-enable */
    }
  }

  var propKeys = Object.keys(propTypes || {});
  var OnlyUpdateForPropTypes = onlyUpdateForKeys(propKeys)(BaseComponent);

  if (true) {
    return setDisplayName(wrapDisplayName(BaseComponent, 'onlyUpdateForPropTypes'))(OnlyUpdateForPropTypes);
  }
  return OnlyUpdateForPropTypes;
};

var withContext = function withContext(childContextTypes, getChildContext) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    var WithContext = function (_Component) {
      inherits(WithContext, _Component);

      function WithContext() {
        var _temp, _this, _ret;

        classCallCheck(this, WithContext);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getChildContext = function () {
          return getChildContext(_this.props);
        }, _temp), possibleConstructorReturn(_this, _ret);
      }

      WithContext.prototype.render = function render() {
        return factory(this.props);
      };

      return WithContext;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    WithContext.childContextTypes = childContextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'withContext'))(WithContext);
    }
    return WithContext;
  };
};

var getContext = function getContext(contextTypes) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);
    var GetContext = function GetContext(ownerProps, context) {
      return factory(_extends({}, ownerProps, context));
    };

    GetContext.contextTypes = contextTypes;

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'getContext'))(GetContext);
    }
    return GetContext;
  };
};

/* eslint-disable no-console */
var lifecycle = function lifecycle(spec) {
  return function (BaseComponent) {
    var factory = createFactory(BaseComponent);

    if ( true && spec.hasOwnProperty('render')) {
      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');
    }

    var Lifecycle = function (_Component) {
      inherits(Lifecycle, _Component);

      function Lifecycle() {
        classCallCheck(this, Lifecycle);
        return possibleConstructorReturn(this, _Component.apply(this, arguments));
      }

      Lifecycle.prototype.render = function render() {
        return factory(_extends({}, this.props, this.state));
      };

      return Lifecycle;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

    Object.keys(spec).forEach(function (hook) {
      return Lifecycle.prototype[hook] = spec[hook];
    });

    if (true) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'lifecycle'))(Lifecycle);
    }
    return Lifecycle;
  };
};

var toClass = function toClass(baseComponent) {
  if (isClassComponent(baseComponent)) {
    return baseComponent;
  }

  var ToClass = function (_Component) {
    inherits(ToClass, _Component);

    function ToClass() {
      classCallCheck(this, ToClass);
      return possibleConstructorReturn(this, _Component.apply(this, arguments));
    }

    ToClass.prototype.render = function render() {
      if (typeof baseComponent === 'string') {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(baseComponent, this.props);
      }
      return baseComponent(this.props, this.context);
    };

    return ToClass;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

  ToClass.displayName = getDisplayName(baseComponent);
  ToClass.propTypes = baseComponent.propTypes;
  ToClass.contextTypes = baseComponent.contextTypes;
  ToClass.defaultProps = baseComponent.defaultProps;

  return ToClass;
};

var setPropTypes = function setPropTypes(propTypes) {
  return setStatic('propTypes', propTypes);
};

function compose() {
  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(undefined, arguments));
    };
  });
}

var createEagerElement = function createEagerElement(type, props, children) {
  var isReferentiallyTransparent = isReferentiallyTransparentFunctionComponent(type);
  /* eslint-disable */
  var hasKey = props && props.hasOwnProperty('key');
  /* eslint-enable */
  return createEagerElementUtil(hasKey, isReferentiallyTransparent, type, props, children);
};

var createSink = function createSink(callback) {
  return function (_Component) {
    inherits(Sink, _Component);

    function Sink() {
      classCallCheck(this, Sink);
      return possibleConstructorReturn(this, _Component.apply(this, arguments));
    }

    Sink.prototype.componentWillMount = function componentWillMount() {
      callback(this.props);
    };

    Sink.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      callback(nextProps);
    };

    Sink.prototype.render = function render() {
      return null;
    };

    return Sink;
  }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);
};

var componentFromProp = function componentFromProp(propName) {
  var Component$$1 = function Component$$1(props) {
    return createEagerElement(props[propName], omit(props, [propName]));
  };
  Component$$1.displayName = 'componentFromProp(' + propName + ')';
  return Component$$1;
};

var nest = function nest() {
  for (var _len = arguments.length, Components = Array(_len), _key = 0; _key < _len; _key++) {
    Components[_key] = arguments[_key];
  }

  var factories = Components.map(createFactory);
  var Nest = function Nest(_ref) {
    var props = objectWithoutProperties(_ref, []),
        children = _ref.children;
    return factories.reduceRight(function (child, factory) {
      return factory(props, child);
    }, children);
  };

  if (true) {
    var displayNames = Components.map(getDisplayName);
    Nest.displayName = 'nest(' + displayNames.join(', ') + ')';
  }

  return Nest;
};

var hoistStatics = function hoistStatics(higherOrderComponent) {
  return function (BaseComponent) {
    var NewComponent = higherOrderComponent(BaseComponent);
    hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default()(NewComponent, BaseComponent);
    return NewComponent;
  };
};

var _config = {
  fromESObservable: null,
  toESObservable: null
};

var configureObservable = function configureObservable(c) {
  _config = c;
};

var config = {
  fromESObservable: function fromESObservable(observable) {
    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;
  },
  toESObservable: function toESObservable(stream) {
    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;
  }
};

var componentFromStreamWithConfig = function componentFromStreamWithConfig(config$$1) {
  return function (propsToVdom) {
    return function (_Component) {
      inherits(ComponentFromStream, _Component);

      function ComponentFromStream() {
        var _config$fromESObserva;

        var _temp, _this, _ret;

        classCallCheck(this, ComponentFromStream);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = { vdom: null }, _this.propsEmitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_3__["createChangeEmitter"])(), _this.props$ = config$$1.fromESObservable((_config$fromESObserva = {
          subscribe: function subscribe(observer) {
            var unsubscribe = _this.propsEmitter.listen(function (props) {
              if (props) {
                observer.next(props);
              } else {
                observer.complete();
              }
            });
            return { unsubscribe: unsubscribe };
          }
        }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_4__["default"]] = function () {
          return this;
        }, _config$fromESObserva)), _this.vdom$ = config$$1.toESObservable(propsToVdom(_this.props$)), _temp), possibleConstructorReturn(_this, _ret);
      }

      // Stream of props


      // Stream of vdom


      ComponentFromStream.prototype.componentWillMount = function componentWillMount() {
        var _this2 = this;

        // Subscribe to child prop changes so we know when to re-render
        this.subscription = this.vdom$.subscribe({
          next: function next(vdom) {
            _this2.setState({ vdom: vdom });
          }
        });
        this.propsEmitter.emit(this.props);
      };

      ComponentFromStream.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        // Receive new props from the owner
        this.propsEmitter.emit(nextProps);
      };

      ComponentFromStream.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
        return nextState.vdom !== this.state.vdom;
      };

      ComponentFromStream.prototype.componentWillUnmount = function componentWillUnmount() {
        // Call without arguments to complete stream
        this.propsEmitter.emit();

        // Clean-up subscription before un-mounting
        this.subscription.unsubscribe();
      };

      ComponentFromStream.prototype.render = function render() {
        return this.state.vdom;
      };

      return ComponentFromStream;
    }(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);
  };
};

var componentFromStream = function componentFromStream(propsToVdom) {
  return componentFromStreamWithConfig(config)(propsToVdom);
};

var identity$1 = function identity(t) {
  return t;
};

var mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config$$1) {
  var componentFromStream = componentFromStreamWithConfig({
    fromESObservable: identity$1,
    toESObservable: identity$1
  });
  return function (transform) {
    return function (BaseComponent) {
      var factory = createFactory(BaseComponent);
      var fromESObservable = config$$1.fromESObservable,
          toESObservable = config$$1.toESObservable;

      return componentFromStream(function (props$) {
        var _ref;

        return _ref = {
          subscribe: function subscribe(observer) {
            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({
              next: function next(childProps) {
                return observer.next(factory(childProps));
              }
            });
            return {
              unsubscribe: function unsubscribe() {
                return subscription.unsubscribe();
              }
            };
          }
        }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_4__["default"]] = function () {
          return this;
        }, _ref;
      });
    };
  };
};

var mapPropsStream = function mapPropsStream(transform) {
  var hoc = mapPropsStreamWithConfig(config)(transform);

  if (true) {
    return function (BaseComponent) {
      return setDisplayName(wrapDisplayName(BaseComponent, 'mapPropsStream'))(hoc(BaseComponent));
    };
  }
  return hoc;
};

var createEventHandlerWithConfig = function createEventHandlerWithConfig(config$$1) {
  return function () {
    var _config$fromESObserva;

    var emitter = Object(change_emitter__WEBPACK_IMPORTED_MODULE_3__["createChangeEmitter"])();
    var stream = config$$1.fromESObservable((_config$fromESObserva = {
      subscribe: function subscribe(observer) {
        var unsubscribe = emitter.listen(function (value) {
          return observer.next(value);
        });
        return { unsubscribe: unsubscribe };
      }
    }, _config$fromESObserva[symbol_observable__WEBPACK_IMPORTED_MODULE_4__["default"]] = function () {
      return this;
    }, _config$fromESObserva));
    return {
      handler: emitter.emit,
      stream: stream
    };
  };
};

var createEventHandler = createEventHandlerWithConfig(config);

// Higher-order component helpers




/***/ }),

/***/ "./node_modules/recompose/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/recompose/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
    childContextTypes: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = getPrototypeOf && getPrototypeOf(Object);

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components

        if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
        }

        var keys = getOwnPropertyNames(sourceComponent);

        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }

        for (var i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {
                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try { // Avoid failures from read-only properties
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }

        return targetComponent;
    }

    return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ "./packages/jaeger-ui-components/node_modules/copy-to-clipboard/index.js":
/*!*******************************************************************************!*\
  !*** ./packages/jaeger-ui-components/node_modules/copy-to-clipboard/index.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var deselectCurrent = __webpack_require__(/*! toggle-selection */ "./node_modules/toggle-selection/index.js");

var clipboardToIE11Formatting = {
  "text/plain": "Text",
  "text/html": "Url",
  "default": "Text"
};
var defaultMessage = "Copy to clipboard: #{key}, Enter";

function format(message) {
  var copyKey = (/mac os x/i.test(navigator.userAgent) ? "" : "Ctrl") + "+C";
  return message.replace(/#{\s*key\s*}/g, copyKey);
}

function copy(text, options) {
  var debug,
      message,
      reselectPrevious,
      range,
      selection,
      mark,
      success = false;

  if (!options) {
    options = {};
  }

  debug = options.debug || false;

  try {
    reselectPrevious = deselectCurrent();
    range = document.createRange();
    selection = document.getSelection();
    mark = document.createElement("span");
    mark.textContent = text; // reset user styles for span element

    mark.style.all = "unset"; // prevents scrolling to the end of the page

    mark.style.position = "fixed";
    mark.style.top = 0;
    mark.style.clip = "rect(0, 0, 0, 0)"; // used to preserve spaces and line breaks

    mark.style.whiteSpace = "pre"; // do not inherit user-select (it may be `none`)

    mark.style.webkitUserSelect = "text";
    mark.style.MozUserSelect = "text";
    mark.style.msUserSelect = "text";
    mark.style.userSelect = "text";
    mark.addEventListener("copy", function (e) {
      e.stopPropagation();

      if (options.format) {
        e.preventDefault();

        if (typeof e.clipboardData === "undefined") {
          // IE 11
          debug && console.warn("unable to use e.clipboardData");
          debug && console.warn("trying IE specific stuff");
          window.clipboardData.clearData();
          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting["default"];
          window.clipboardData.setData(format, text);
        } else {
          // all other browsers
          e.clipboardData.clearData();
          e.clipboardData.setData(options.format, text);
        }
      }

      if (options.onCopy) {
        e.preventDefault();
        options.onCopy(e.clipboardData);
      }
    });
    document.body.appendChild(mark);
    range.selectNodeContents(mark);
    selection.addRange(range);
    var successful = document.execCommand("copy");

    if (!successful) {
      throw new Error("copy command was unsuccessful");
    }

    success = true;
  } catch (err) {
    debug && console.error("unable to copy using execCommand: ", err);
    debug && console.warn("trying IE specific stuff");

    try {
      window.clipboardData.setData(options.format || "text", text);
      options.onCopy && options.onCopy(window.clipboardData);
      success = true;
    } catch (err) {
      debug && console.error("unable to copy using clipboardData: ", err);
      debug && console.error("falling back to prompt");
      message = format("message" in options ? options.message : defaultMessage);
      window.prompt(message, text);
    }
  } finally {
    if (selection) {
      if (typeof selection.removeRange == "function") {
        selection.removeRange(range);
      } else {
        selection.removeAllRanges();
      }
    }

    if (mark) {
      document.body.removeChild(mark);
    }

    reselectPrevious();
  }

  return success;
}

module.exports = copy;

/***/ }),

/***/ "./packages/jaeger-ui-components/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!****************************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \****************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var reactIs = __webpack_require__(/*! react-is */ "./packages/jaeger-ui-components/node_modules/react-is/index.js");
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */


var REACT_STATICS = {
  childContextTypes: true,
  contextType: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  getDerivedStateFromError: true,
  getDerivedStateFromProps: true,
  mixins: true,
  propTypes: true,
  type: true
};
var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  callee: true,
  arguments: true,
  arity: true
};
var FORWARD_REF_STATICS = {
  '$$typeof': true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  '$$typeof': true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {};
TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;

function getStatics(component) {
  // React v16.11 and below
  if (reactIs.isMemo(component)) {
    return MEMO_STATICS;
  } // React v16.12 and above


  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
  if (typeof sourceComponent !== 'string') {
    // don't hoist over string (html) components
    if (objectPrototype) {
      var inheritedComponent = getPrototypeOf(sourceComponent);

      if (inheritedComponent && inheritedComponent !== objectPrototype) {
        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
      }
    }

    var keys = getOwnPropertyNames(sourceComponent);

    if (getOwnPropertySymbols) {
      keys = keys.concat(getOwnPropertySymbols(sourceComponent));
    }

    var targetStatics = getStatics(targetComponent);
    var sourceStatics = getStatics(sourceComponent);

    for (var i = 0; i < keys.length; ++i) {
      var key = keys[i];

      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);

        try {
          // Avoid failures from read-only properties
          defineProperty(targetComponent, key, descriptor);
        } catch (e) {}
      }
    }
  }

  return targetComponent;
}

module.exports = hoistNonReactStatics;

/***/ }),

/***/ "./packages/jaeger-ui-components/node_modules/react-is/cjs/react-is.development.js":
/*!*****************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/node_modules/react-is/cjs/react-is.development.js ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v16.10.2
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */


function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

if (true) {
  (function () {
    'use strict';

    Object.defineProperty(exports, '__esModule', {
      value: true
    }); // The Symbol used to tag the ReactElement-like types. If there is no native Symbol
    // nor polyfill, then a plain number is used for performance.

    var hasSymbol = typeof Symbol === 'function' && Symbol["for"];
    var REACT_ELEMENT_TYPE = hasSymbol ? Symbol["for"]('react.element') : 0xeac7;
    var REACT_PORTAL_TYPE = hasSymbol ? Symbol["for"]('react.portal') : 0xeaca;
    var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol["for"]('react.fragment') : 0xeacb;
    var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol["for"]('react.strict_mode') : 0xeacc;
    var REACT_PROFILER_TYPE = hasSymbol ? Symbol["for"]('react.profiler') : 0xead2;
    var REACT_PROVIDER_TYPE = hasSymbol ? Symbol["for"]('react.provider') : 0xeacd;
    var REACT_CONTEXT_TYPE = hasSymbol ? Symbol["for"]('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary
    // (unstable) APIs that have been removed. Can we remove the symbols?

    var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol["for"]('react.async_mode') : 0xeacf;
    var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol["for"]('react.concurrent_mode') : 0xeacf;
    var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol["for"]('react.forward_ref') : 0xead0;
    var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol["for"]('react.suspense') : 0xead1;
    var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol["for"]('react.suspense_list') : 0xead8;
    var REACT_MEMO_TYPE = hasSymbol ? Symbol["for"]('react.memo') : 0xead3;
    var REACT_LAZY_TYPE = hasSymbol ? Symbol["for"]('react.lazy') : 0xead4;
    var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol["for"]('react.fundamental') : 0xead5;
    var REACT_RESPONDER_TYPE = hasSymbol ? Symbol["for"]('react.responder') : 0xead6;
    var REACT_SCOPE_TYPE = hasSymbol ? Symbol["for"]('react.scope') : 0xead7;

    function isValidElementType(type) {
      return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || _typeof(type) === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE);
    }
    /**
     * Forked from fbjs/warning:
     * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js
     *
     * Only change is we use console.warn instead of console.error,
     * and do nothing when 'console' is not supported.
     * This really simplifies the code.
     * ---
     * Similar to invariant but only logs a warning if the condition is not met.
     * This can be used to log issues in development environments in critical
     * paths. Removing the logging code for production environments will keep the
     * same logic and follow the same code paths.
     */


    var lowPriorityWarningWithoutStack = function lowPriorityWarningWithoutStack() {};

    {
      var printWarning = function printWarning(format) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        var argIndex = 0;
        var message = 'Warning: ' + format.replace(/%s/g, function () {
          return args[argIndex++];
        });

        if (typeof console !== 'undefined') {
          console.warn(message);
        }

        try {
          // --- Welcome to debugging React ---
          // This error was thrown as a convenience so that you can use this stack
          // to find the callsite that caused this warning to fire.
          throw new Error(message);
        } catch (x) {}
      };

      lowPriorityWarningWithoutStack = function lowPriorityWarningWithoutStack(condition, format) {
        if (format === undefined) {
          throw new Error('`lowPriorityWarningWithoutStack(condition, format, ...args)` requires a warning ' + 'message argument');
        }

        if (!condition) {
          for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
            args[_key2 - 2] = arguments[_key2];
          }

          printWarning.apply(void 0, [format].concat(args));
        }
      };
    }
    var lowPriorityWarningWithoutStack$1 = lowPriorityWarningWithoutStack;

    function typeOf(object) {
      if (_typeof(object) === 'object' && object !== null) {
        var $$typeof = object.$$typeof;

        switch ($$typeof) {
          case REACT_ELEMENT_TYPE:
            var type = object.type;

            switch (type) {
              case REACT_ASYNC_MODE_TYPE:
              case REACT_CONCURRENT_MODE_TYPE:
              case REACT_FRAGMENT_TYPE:
              case REACT_PROFILER_TYPE:
              case REACT_STRICT_MODE_TYPE:
              case REACT_SUSPENSE_TYPE:
                return type;

              default:
                var $$typeofType = type && type.$$typeof;

                switch ($$typeofType) {
                  case REACT_CONTEXT_TYPE:
                  case REACT_FORWARD_REF_TYPE:
                  case REACT_PROVIDER_TYPE:
                    return $$typeofType;

                  default:
                    return $$typeof;
                }

            }

          case REACT_LAZY_TYPE:
          case REACT_MEMO_TYPE:
          case REACT_PORTAL_TYPE:
            return $$typeof;
        }
      }

      return undefined;
    } // AsyncMode is deprecated along with isAsyncMode


    var AsyncMode = REACT_ASYNC_MODE_TYPE;
    var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
    var ContextConsumer = REACT_CONTEXT_TYPE;
    var ContextProvider = REACT_PROVIDER_TYPE;
    var Element = REACT_ELEMENT_TYPE;
    var ForwardRef = REACT_FORWARD_REF_TYPE;
    var Fragment = REACT_FRAGMENT_TYPE;
    var Lazy = REACT_LAZY_TYPE;
    var Memo = REACT_MEMO_TYPE;
    var Portal = REACT_PORTAL_TYPE;
    var Profiler = REACT_PROFILER_TYPE;
    var StrictMode = REACT_STRICT_MODE_TYPE;
    var Suspense = REACT_SUSPENSE_TYPE;
    var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated

    function isAsyncMode(object) {
      {
        if (!hasWarnedAboutDeprecatedIsAsyncMode) {
          hasWarnedAboutDeprecatedIsAsyncMode = true;
          lowPriorityWarningWithoutStack$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
        }
      }
      return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
    }

    function isConcurrentMode(object) {
      return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
    }

    function isContextConsumer(object) {
      return typeOf(object) === REACT_CONTEXT_TYPE;
    }

    function isContextProvider(object) {
      return typeOf(object) === REACT_PROVIDER_TYPE;
    }

    function isElement(object) {
      return _typeof(object) === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
    }

    function isForwardRef(object) {
      return typeOf(object) === REACT_FORWARD_REF_TYPE;
    }

    function isFragment(object) {
      return typeOf(object) === REACT_FRAGMENT_TYPE;
    }

    function isLazy(object) {
      return typeOf(object) === REACT_LAZY_TYPE;
    }

    function isMemo(object) {
      return typeOf(object) === REACT_MEMO_TYPE;
    }

    function isPortal(object) {
      return typeOf(object) === REACT_PORTAL_TYPE;
    }

    function isProfiler(object) {
      return typeOf(object) === REACT_PROFILER_TYPE;
    }

    function isStrictMode(object) {
      return typeOf(object) === REACT_STRICT_MODE_TYPE;
    }

    function isSuspense(object) {
      return typeOf(object) === REACT_SUSPENSE_TYPE;
    }

    exports.typeOf = typeOf;
    exports.AsyncMode = AsyncMode;
    exports.ConcurrentMode = ConcurrentMode;
    exports.ContextConsumer = ContextConsumer;
    exports.ContextProvider = ContextProvider;
    exports.Element = Element;
    exports.ForwardRef = ForwardRef;
    exports.Fragment = Fragment;
    exports.Lazy = Lazy;
    exports.Memo = Memo;
    exports.Portal = Portal;
    exports.Profiler = Profiler;
    exports.StrictMode = StrictMode;
    exports.Suspense = Suspense;
    exports.isValidElementType = isValidElementType;
    exports.isAsyncMode = isAsyncMode;
    exports.isConcurrentMode = isConcurrentMode;
    exports.isContextConsumer = isContextConsumer;
    exports.isContextProvider = isContextProvider;
    exports.isElement = isElement;
    exports.isForwardRef = isForwardRef;
    exports.isFragment = isFragment;
    exports.isLazy = isLazy;
    exports.isMemo = isMemo;
    exports.isPortal = isPortal;
    exports.isProfiler = isProfiler;
    exports.isStrictMode = isStrictMode;
    exports.isSuspense = isSuspense;
  })();
}

/***/ }),

/***/ "./packages/jaeger-ui-components/node_modules/react-is/index.js":
/*!**********************************************************************!*\
  !*** ./packages/jaeger-ui-components/node_modules/react-is/index.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ "./packages/jaeger-ui-components/node_modules/react-is/cjs/react-is.development.js");
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/Theme.tsx":
/*!*****************************************************!*\
  !*** ./packages/jaeger-ui-components/src/Theme.tsx ***!
  \*****************************************************/
/*! exports provided: ThemeType, defaultTheme, isLight, ThemeProvider, ThemeConsumer, withTheme, useTheme, createStyle, autoColor, safeSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeType", function() { return ThemeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultTheme", function() { return defaultTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLight", function() { return isLight; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeProvider", function() { return ThemeProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeConsumer", function() { return ThemeConsumer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "withTheme", function() { return withTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useTheme", function() { return useTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStyle", function() { return createStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "autoColor", function() { return autoColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "safeSize", function() { return safeSize; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! hoist-non-react-statics */ "./packages/jaeger-ui-components/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tinycolor2 */ "./node_modules/tinycolor2/tinycolor.js");
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_3__);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var COLORS_HEX = ['#17B8BE', '#F8DCA1', '#B7885E', '#FFCB99', '#F89570', '#829AE3', '#E79FD5', '#1E96BE', '#89DAC1', '#B3AD9E', '#12939A', '#DDB27C', '#88572C', '#FF9833', '#EF5D28', '#162A65', '#DA70BF', '#125C77', '#4DC19C', '#776E57'];
var COLORS_HEX_DARK = ['#17B8BE', '#F8DCA1', '#B7885E', '#FFCB99', '#F89570', '#829AE3', '#E79FD5', '#1E96BE', '#89DAC1', '#B3AD9E', '#12939A', '#DDB27C', '#88572C', '#FF9833', '#EF5D28', '#DA70BF', '#4DC19C', '#776E57'];
var ThemeType;

(function (ThemeType) {
  ThemeType[ThemeType["Dark"] = 0] = "Dark";
  ThemeType[ThemeType["Light"] = 1] = "Light";
})(ThemeType || (ThemeType = {}));

var defaultTheme = {
  type: ThemeType.Light,
  borderStyle: '1px solid #bbb',
  servicesColorPalette: COLORS_HEX
};
function isLight(theme) {
  // Light theme is default type not set which only happens if called for ThemeOptions.
  return theme && theme.type ? theme.type === ThemeType.Light : false;
}
var ThemeContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);
ThemeContext.displayName = 'ThemeContext';
var ThemeProvider = ThemeContext.Provider;
function ThemeConsumer(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThemeContext.Consumer, null, function (value) {
    var theme = memoizedThemeMerge(value);
    return props.children(theme);
  });
}
var memoizedThemeMerge = Object(memoize_one__WEBPACK_IMPORTED_MODULE_2__["default"])(function (value) {
  var darkOverrides = {};

  if (!isLight(value)) {
    darkOverrides.servicesColorPalette = COLORS_HEX_DARK;
  }

  return value ? _objectSpread({}, defaultTheme, {}, darkOverrides, {}, value) : defaultTheme;
});
var withTheme = function withTheme(Component) {
  var WithTheme = function WithTheme(props) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThemeConsumer, null, function (theme) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Component, _objectSpread({}, props, {
        theme: theme
      }));
    });
  };

  WithTheme.displayName = "WithTheme(".concat(Component.displayName, ")");
  WithTheme = hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_1___default()(WithTheme, Component);
  WithTheme.wrapped = Component;
  return WithTheme;
};
function useTheme() {
  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(ThemeContext);
  return _objectSpread({}, defaultTheme, {}, theme);
}
var createStyle = function createStyle(fn) {
  return Object(memoize_one__WEBPACK_IMPORTED_MODULE_2__["default"])(fn);
};
/**
 * Tries to get a dark variant color. Either by simply inverting the luminosity and darkening or lightening the color
 * a bit, or if base is provided, tries 2 variants of lighter and darker colors and checks which is more readable with
 * the base.
 * @param theme
 * @param hex
 * @param base
 */

function autoColor(theme, hex, base) {
  if (isLight(theme)) {
    return hex;
  } else {
    if (base) {
      var _color = tinycolor2__WEBPACK_IMPORTED_MODULE_3___default()(hex);

      return tinycolor2__WEBPACK_IMPORTED_MODULE_3___default.a.mostReadable(base, [_color.clone().lighten(25), _color.clone().lighten(10), _color, _color.clone().darken(10), _color.clone().darken(25)], {
        includeFallbackColors: false
      }).toHex8String();
    }

    var color = tinycolor2__WEBPACK_IMPORTED_MODULE_3___default()(hex).toHsl();
    color.l = 1 - color.l;
    var newColor = tinycolor2__WEBPACK_IMPORTED_MODULE_3___default()(color);
    return newColor.isLight() ? newColor.darken(5).toHex8String() : newColor.lighten(5).toHex8String();
  }
}
/**
 * With theme overrides you can use both number or string (for things like rem units) so this makes sure we convert
 * the value accordingly or use fallback if not set
 */

function safeSize(size, fallback) {
  if (!size) {
    return fallback;
  }

  if (typeof size === 'string') {
    return size;
  } else {
    return "".concat(size, "px");
  }
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/CanvasSpanGraph.tsx":
/*!*****************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/CanvasSpanGraph.tsx ***!
  \*****************************************************************************************/
/*! exports provided: UnthemedCanvasSpanGraph, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedCanvasSpanGraph", function() { return UnthemedCanvasSpanGraph; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _render_into_canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./render-into-canvas */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/render-into-canvas.tsx");
/* harmony import */ var _utils_color_generator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/color-generator */ "./packages/jaeger-ui-components/src/utils/color-generator.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: CanvasSpanGraph;\n      background: ", ";\n      height: 60px;\n      position: absolute;\n      width: 100%;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["createStyle"])(function (theme) {
  return {
    CanvasSpanGraph: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["autoColor"])(theme, '#fafafa'))
  };
});
var UnthemedCanvasSpanGraph =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedCanvasSpanGraph, _React$PureComponent);

  function UnthemedCanvasSpanGraph(props) {
    var _this;

    _classCallCheck(this, UnthemedCanvasSpanGraph);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnthemedCanvasSpanGraph).call(this, props));

    _this.getColor = function (key) {
      return Object(_utils_color_generator__WEBPACK_IMPORTED_MODULE_3__["getRgbColorByKey"])(key, _this.props.theme);
    };

    _this._setCanvasRef = function (elm) {
      _this._canvasElm = elm;
    };

    _this._canvasElm = undefined;
    return _this;
  }

  _createClass(UnthemedCanvasSpanGraph, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this._draw();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this._draw();
    }
  }, {
    key: "_draw",
    value: function _draw() {
      if (this._canvasElm) {
        var _this$props = this.props,
            totalValueWidth = _this$props.valueWidth,
            items = _this$props.items;
        Object(_render_into_canvas__WEBPACK_IMPORTED_MODULE_2__["default"])(this._canvasElm, items, totalValueWidth, this.getColor, Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["autoColor"])(this.props.theme, '#fff'));
      }
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("canvas", {
        className: getStyles(this.props.theme).CanvasSpanGraph,
        ref: this._setCanvasRef
      });
    }
  }]);

  return UnthemedCanvasSpanGraph;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["withTheme"])(UnthemedCanvasSpanGraph));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/GraphTicks.tsx":
/*!************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/GraphTicks.tsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GraphTicks; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: GraphTick;\n      stroke: #aaa;\n      stroke-width: 1px;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_2__["createStyle"])(function () {
  return {
    GraphTick: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())
  };
});
function GraphTicks(props) {
  var numTicks = props.numTicks;
  var ticks = []; // i starts at 1, limit is `i < numTicks` so the first and last ticks aren't drawn

  for (var i = 1; i < numTicks; i++) {
    var x = "".concat(i / numTicks * 100, "%");
    ticks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("line", {
      className: getStyles().GraphTick,
      x1: x,
      y1: "0%",
      x2: x,
      y2: "100%",
      key: i / numTicks
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    "data-test": "ticks",
    "aria-hidden": "true"
  }, ticks);
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/Scrubber.tsx":
/*!**********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/Scrubber.tsx ***!
  \**********************************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Scrubber; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: ScrubberHandles;\n      &:hover > .", " {\n        fill-opacity: 1;\n      }\n      &:hover > .", " {\n        fill: #44f;\n      }\n      &:hover + .", " {\n        stroke: #44f;\n      }\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: ScrubberDragging;\n      & .", " {\n        fill-opacity: 1;\n      }\n      & .", " {\n        fill: #44f;\n      }\n      & > .", " {\n        stroke: #44f;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n    label: ScrubberLine;\n    pointer-events: none;\n    stroke: #555;\n  "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    label: ScrubberHandle;\n    cursor: col-resize;\n    fill: #555;\n  "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: ScrubberHandleExpansion;\n    cursor: col-resize;\n    fill-opacity: 0;\n    fill: #44f;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_2__["createStyle"])(function () {
  var ScrubberHandleExpansion = Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject());
  var ScrubberHandle = Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2());
  var ScrubberLine = Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3());
  return {
    ScrubberDragging: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4(), ScrubberHandleExpansion, ScrubberHandle, ScrubberLine),
    ScrubberHandles: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5(), ScrubberHandleExpansion, ScrubberHandle, ScrubberLine),
    ScrubberHandleExpansion: ScrubberHandleExpansion,
    ScrubberHandle: ScrubberHandle,
    ScrubberLine: ScrubberLine
  };
});
function Scrubber(_ref) {
  var isDragging = _ref.isDragging,
      onMouseDown = _ref.onMouseDown,
      onMouseEnter = _ref.onMouseEnter,
      onMouseLeave = _ref.onMouseLeave,
      position = _ref.position;
  var xPercent = "".concat(position * 100, "%");
  var styles = getStyles();
  var className = classnames__WEBPACK_IMPORTED_MODULE_1___default()(_defineProperty({}, styles.ScrubberDragging, isDragging));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    className: className
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("g", {
    className: styles.ScrubberHandles,
    onMouseDown: onMouseDown,
    onMouseEnter: onMouseEnter,
    onMouseLeave: onMouseLeave
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", {
    x: xPercent,
    className: styles.ScrubberHandleExpansion,
    style: {
      transform: "translate(-4.5px)"
    },
    width: "9",
    height: "20"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("rect", {
    x: xPercent,
    className: styles.ScrubberHandle,
    style: {
      transform: "translate(-1.5px)"
    },
    width: "3",
    height: "20"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("line", {
    className: styles.ScrubberLine,
    y2: "100%",
    x1: xPercent,
    x2: xPercent
  }));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/TickLabels.tsx":
/*!************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/TickLabels.tsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TickLabels; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/date */ "./packages/jaeger-ui-components/src/utils/date.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TickLabelsLabel;\n      color: #717171;\n      font-size: 0.7rem;\n      position: absolute;\n      user-select: none;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TickLabels;\n      height: 1rem;\n      position: relative;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_2__["createStyle"])(function () {
  return {
    TickLabels: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject()),
    TickLabelsLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2())
  };
});
function TickLabels(props) {
  var numTicks = props.numTicks,
      duration = props.duration;
  var styles = getStyles();
  var ticks = [];

  for (var i = 0; i < numTicks + 1; i++) {
    var portion = i / numTicks;
    var style = portion === 1 ? {
      right: '0%'
    } : {
      left: "".concat(portion * 100, "%")
    };
    ticks.push(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: portion,
      className: styles.TickLabelsLabel,
      style: style,
      "data-test": "tick"
    }, Object(_utils_date__WEBPACK_IMPORTED_MODULE_1__["formatDuration"])(duration * portion)));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.TickLabels
  }, ticks);
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/ViewingLayer.tsx":
/*!**************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/ViewingLayer.tsx ***!
  \**************************************************************************************/
/*! exports provided: getStyles, dragTypes, UnthemedViewingLayer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dragTypes", function() { return dragTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedViewingLayer", function() { return UnthemedViewingLayer; });
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _GraphTicks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GraphTicks */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/GraphTicks.tsx");
/* harmony import */ var _Scrubber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Scrubber */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/Scrubber.tsx");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../.. */ "./packages/jaeger-ui-components/src/index.ts");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/DraggableManager */ "./packages/jaeger-ui-components/src/utils/DraggableManager/index.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerFullOverlay;\n      bottom: 0;\n      cursor: col-resize;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      user-select: none;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerDrag;\n      fill: ", ";\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerDraggedShift;\n      fill-opacity: 0.2;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerCursorGuide;\n      stroke: ", ";\n      stroke-width: 1;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerInactive;\n      fill: ", ";\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayerGraph;\n      border: 1px solid ", ";\n      /* need !important here to overcome something from semantic UI */\n      overflow: visible !important;\n      position: relative;\n      transform-origin: 0 0;\n      width: 100%;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: ViewingLayer;\n      cursor: vertical-text;\n      position: relative;\n      z-index: 1;\n      &:hover > .", " {\n        display: unset;\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: ViewingLayerResetZoom;\n    display: none;\n    position: absolute;\n    right: 1%;\n    top: 10%;\n    z-index: 1;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.









var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["createStyle"])(function (theme) {
  // Need this cause emotion will merge emotion generated classes into single className if used with cx from emotion
  // package and the selector won't work
  var ViewingLayerResetZoomHoverClassName = 'JaegerUiComponents__ViewingLayerResetZoomHoverClassName';
  var ViewingLayerResetZoom = Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject());
  return {
    ViewingLayer: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2(), ViewingLayerResetZoomHoverClassName),
    ViewingLayerGraph: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#999')),
    ViewingLayerInactive: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, 'rgba(214, 214, 214, 0.5)')),
    ViewingLayerCursorGuide: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject5(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#f44')),
    ViewingLayerDraggedShift: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject6()),
    ViewingLayerDrag: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject7(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#44f')),
    ViewingLayerFullOverlay: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject8()),
    ViewingLayerResetZoom: ViewingLayerResetZoom,
    ViewingLayerResetZoomHoverClassName: ViewingLayerResetZoomHoverClassName
  };
});

/**
 * Designate the tags for the different dragging managers. Exported for tests.
 */
var dragTypes = {
  /**
   * Tag for dragging the right scrubber, e.g. end of the current view range.
   */
  SHIFT_END: 'SHIFT_END',

  /**
   * Tag for dragging the left scrubber, e.g. start of the current view range.
   */
  SHIFT_START: 'SHIFT_START',

  /**
   * Tag for dragging a new view range.
   */
  REFRAME: 'REFRAME'
};
/**
 * Returns the layout information for drawing the view-range differential, e.g.
 * show what will change when the mouse is released. Basically, this is the
 * difference from the start of the drag to the current position.
 *
 * @returns {{ x: string, width: string, leadginX: string }}
 */

function getNextViewLayout(start, position) {
  var _ref = start < position ? [start, position] : [position, start],
      _ref2 = _slicedToArray(_ref, 2),
      left = _ref2[0],
      right = _ref2[1];

  return {
    x: "".concat(left * 100, "%"),
    width: "".concat((right - left) * 100, "%"),
    leadingX: "".concat(position * 100, "%")
  };
}
/**
 * `ViewingLayer` is rendered on top of the Canvas rendering of the minimap and
 * handles showing the current view range and handles mouse UX for modifying it.
 */


var UnthemedViewingLayer =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedViewingLayer, _React$PureComponent);

  /**
   * `_draggerReframe` handles clicking and dragging on the `ViewingLayer` to
   * redefined the view range.
   */

  /**
   * `_draggerStart` handles dragging the left scrubber to adjust the start of
   * the view range.
   */

  /**
   * `_draggerEnd` handles dragging the right scrubber to adjust the end of
   * the view range.
   */
  function UnthemedViewingLayer(props) {
    var _this;

    _classCallCheck(this, UnthemedViewingLayer);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnthemedViewingLayer).call(this, props));

    _this._setRoot = function (elm) {
      _this._root = elm;
    };

    _this._getDraggingBounds = function (tag) {
      if (!_this._root) {
        throw new Error('invalid state');
      }

      var _this$_root$getBoundi = _this._root.getBoundingClientRect(),
          clientXLeft = _this$_root$getBoundi.left,
          width = _this$_root$getBoundi.width;

      var _this$props$viewRange = _slicedToArray(_this.props.viewRange.time.current, 2),
          viewStart = _this$props$viewRange[0],
          viewEnd = _this$props$viewRange[1];

      var maxValue = 1;
      var minValue = 0;

      if (tag === dragTypes.SHIFT_START) {
        maxValue = viewEnd;
      } else if (tag === dragTypes.SHIFT_END) {
        minValue = viewStart;
      }

      return {
        clientXLeft: clientXLeft,
        maxValue: maxValue,
        minValue: minValue,
        width: width
      };
    };

    _this._handleReframeMouseMove = function (_ref3) {
      var value = _ref3.value;

      _this.props.updateNextViewRangeTime({
        cursor: value
      });
    };

    _this._handleReframeMouseLeave = function () {
      _this.props.updateNextViewRangeTime({
        cursor: null
      });
    };

    _this._handleReframeDragUpdate = function (_ref4) {
      var value = _ref4.value;
      var shift = value;
      var time = _this.props.viewRange.time;
      var anchor = time.reframe ? time.reframe.anchor : shift;
      var update = {
        reframe: {
          anchor: anchor,
          shift: shift
        }
      };

      _this.props.updateNextViewRangeTime(update);
    };

    _this._handleReframeDragEnd = function (_ref5) {
      var manager = _ref5.manager,
          value = _ref5.value;
      var time = _this.props.viewRange.time;
      var anchor = time.reframe ? time.reframe.anchor : value;

      var _ref6 = value < anchor ? [value, anchor] : [anchor, value],
          _ref7 = _slicedToArray(_ref6, 2),
          start = _ref7[0],
          end = _ref7[1];

      manager.resetBounds();

      _this.props.updateViewRangeTime(start, end, 'minimap');
    };

    _this._handleScrubberEnterLeave = function (_ref8) {
      var type = _ref8.type;
      var preventCursorLine = type === _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__["EUpdateTypes"].MouseEnter;

      _this.setState({
        preventCursorLine: preventCursorLine
      });
    };

    _this._handleScrubberDragUpdate = function (_ref9) {
      var event = _ref9.event,
          tag = _ref9.tag,
          type = _ref9.type,
          value = _ref9.value;

      if (type === _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__["EUpdateTypes"].DragStart) {
        event.stopPropagation();
      }

      if (tag === dragTypes.SHIFT_START) {
        _this.props.updateNextViewRangeTime({
          shiftStart: value
        });
      } else if (tag === dragTypes.SHIFT_END) {
        _this.props.updateNextViewRangeTime({
          shiftEnd: value
        });
      }
    };

    _this._handleScrubberDragEnd = function (_ref10) {
      var manager = _ref10.manager,
          tag = _ref10.tag,
          value = _ref10.value;

      var _this$props$viewRange2 = _slicedToArray(_this.props.viewRange.time.current, 2),
          viewStart = _this$props$viewRange2[0],
          viewEnd = _this$props$viewRange2[1];

      var update;

      if (tag === dragTypes.SHIFT_START) {
        update = [value, viewEnd];
      } else if (tag === dragTypes.SHIFT_END) {
        update = [viewStart, value];
      } else {
        // to satisfy flow
        throw new Error('bad state');
      }

      manager.resetBounds();

      _this.setState({
        preventCursorLine: false
      });

      _this.props.updateViewRangeTime(update[0], update[1], 'minimap');
    };

    _this._resetTimeZoomClickHandler = function () {
      _this.props.updateViewRangeTime(0, 1);
    };

    _this._draggerReframe = new _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__["default"]({
      getBounds: _this._getDraggingBounds,
      onDragEnd: _this._handleReframeDragEnd,
      onDragMove: _this._handleReframeDragUpdate,
      onDragStart: _this._handleReframeDragUpdate,
      onMouseMove: _this._handleReframeMouseMove,
      onMouseLeave: _this._handleReframeMouseLeave,
      tag: dragTypes.REFRAME
    });
    _this._draggerStart = new _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__["default"]({
      getBounds: _this._getDraggingBounds,
      onDragEnd: _this._handleScrubberDragEnd,
      onDragMove: _this._handleScrubberDragUpdate,
      onDragStart: _this._handleScrubberDragUpdate,
      onMouseEnter: _this._handleScrubberEnterLeave,
      onMouseLeave: _this._handleScrubberEnterLeave,
      tag: dragTypes.SHIFT_START
    });
    _this._draggerEnd = new _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_7__["default"]({
      getBounds: _this._getDraggingBounds,
      onDragEnd: _this._handleScrubberDragEnd,
      onDragMove: _this._handleScrubberDragUpdate,
      onDragStart: _this._handleScrubberDragUpdate,
      onMouseEnter: _this._handleScrubberEnterLeave,
      onMouseLeave: _this._handleScrubberEnterLeave,
      tag: dragTypes.SHIFT_END
    });
    _this._root = undefined;
    _this.state = {
      preventCursorLine: false
    };
    return _this;
  }

  _createClass(UnthemedViewingLayer, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._draggerReframe.dispose();

      this._draggerEnd.dispose();

      this._draggerStart.dispose();
    }
  }, {
    key: "_getMarkers",

    /**
     * Renders the difference between where the drag started and the current
     * position, e.g. the red or blue highlight.
     *
     * @returns React.Node[]
     */
    value: function _getMarkers(from, to) {
      var styles = getStyles(this.props.theme);
      var layout = getNextViewLayout(from, to);
      return [react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("rect", {
        key: "fill",
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(styles.ViewingLayerDraggedShift, styles.ViewingLayerDrag),
        x: layout.x,
        y: "0",
        width: layout.width,
        height: this.props.height - 2
      }), react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("rect", {
        key: "edge",
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(styles.ViewingLayerDrag),
        x: layout.leadingX,
        y: "0",
        width: "1",
        height: this.props.height - 2
      })];
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          height = _this$props.height,
          viewRange = _this$props.viewRange,
          numTicks = _this$props.numTicks,
          theme = _this$props.theme;
      var preventCursorLine = this.state.preventCursorLine;
      var _viewRange$time = viewRange.time,
          current = _viewRange$time.current,
          cursor = _viewRange$time.cursor,
          shiftStart = _viewRange$time.shiftStart,
          shiftEnd = _viewRange$time.shiftEnd,
          reframe = _viewRange$time.reframe;
      var haveNextTimeRange = shiftStart != null || shiftEnd != null || reframe != null;

      var _current = _slicedToArray(current, 2),
          viewStart = _current[0],
          viewEnd = _current[1];

      var leftInactive = 0;

      if (viewStart) {
        leftInactive = viewStart * 100;
      }

      var rightInactive = 100;

      if (viewEnd) {
        rightInactive = 100 - viewEnd * 100;
      }

      var cursorPosition;

      if (!haveNextTimeRange && cursor != null && !preventCursorLine) {
        cursorPosition = "".concat(cursor * 100, "%");
      }

      var styles = getStyles(theme);
      return react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("div", {
        "aria-hidden": true,
        className: styles.ViewingLayer,
        style: {
          height: height
        }
      }, (viewStart !== 0 || viewEnd !== 1) && react__WEBPACK_IMPORTED_MODULE_1__["createElement"](___WEBPACK_IMPORTED_MODULE_5__["UIButton"], {
        onClick: this._resetTimeZoomClickHandler,
        className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(styles.ViewingLayerResetZoom, styles.ViewingLayerResetZoomHoverClassName),
        htmlType: "button"
      }, "Reset Selection"), react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("svg", {
        height: height,
        className: styles.ViewingLayerGraph,
        ref: this._setRoot,
        onMouseDown: this._draggerReframe.handleMouseDown,
        onMouseLeave: this._draggerReframe.handleMouseLeave,
        onMouseMove: this._draggerReframe.handleMouseMove
      }, leftInactive > 0 && react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("rect", {
        x: 0,
        y: 0,
        height: "100%",
        width: "".concat(leftInactive, "%"),
        className: styles.ViewingLayerInactive
      }), rightInactive > 0 && react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("rect", {
        x: "".concat(100 - rightInactive, "%"),
        y: 0,
        height: "100%",
        width: "".concat(rightInactive, "%"),
        className: styles.ViewingLayerInactive
      }), react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_GraphTicks__WEBPACK_IMPORTED_MODULE_3__["default"], {
        numTicks: numTicks
      }), cursorPosition && react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("line", {
        className: styles.ViewingLayerCursorGuide,
        x1: cursorPosition,
        y1: "0",
        x2: cursorPosition,
        y2: height - 2,
        strokeWidth: "1"
      }), shiftStart != null && this._getMarkers(viewStart, shiftStart), shiftEnd != null && this._getMarkers(viewEnd, shiftEnd), react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_Scrubber__WEBPACK_IMPORTED_MODULE_4__["default"], {
        isDragging: shiftStart != null,
        onMouseDown: this._draggerStart.handleMouseDown,
        onMouseEnter: this._draggerStart.handleMouseEnter,
        onMouseLeave: this._draggerStart.handleMouseLeave,
        position: viewStart || 0
      }), react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_Scrubber__WEBPACK_IMPORTED_MODULE_4__["default"], {
        isDragging: shiftEnd != null,
        position: viewEnd || 1,
        onMouseDown: this._draggerEnd.handleMouseDown,
        onMouseEnter: this._draggerEnd.handleMouseEnter,
        onMouseLeave: this._draggerEnd.handleMouseLeave
      }), reframe != null && this._getMarkers(reframe.anchor, reframe.shift)), haveNextTimeRange && react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("div", {
        className: styles.ViewingLayerFullOverlay
      }));
    }
  }]);

  return UnthemedViewingLayer;
}(react__WEBPACK_IMPORTED_MODULE_1__["PureComponent"]);
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["withTheme"])(UnthemedViewingLayer));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/index.tsx":
/*!*******************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/index.tsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpanGraph; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _CanvasSpanGraph__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CanvasSpanGraph */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/CanvasSpanGraph.tsx");
/* harmony import */ var _TickLabels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TickLabels */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/TickLabels.tsx");
/* harmony import */ var _ViewingLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ViewingLayer */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/ViewingLayer.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.






var DEFAULT_HEIGHT = 60;
var TIMELINE_TICK_INTERVAL = 4;

function getItem(span) {
  return {
    valueOffset: span.relativeStartTime,
    valueWidth: span.duration,
    serviceName: span.process.serviceName
  };
}

var SpanGraph =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(SpanGraph, _React$PureComponent);

  function SpanGraph(props) {
    var _this;

    _classCallCheck(this, SpanGraph);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SpanGraph).call(this, props));
    var trace = props.trace;
    _this.state = {
      items: trace ? trace.spans.map(getItem) : []
    };
    return _this;
  }

  _createClass(SpanGraph, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var trace = nextProps.trace;

      if (this.props.trace !== trace) {
        this.setState({
          items: trace ? trace.spans.map(getItem) : []
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          height = _this$props.height,
          trace = _this$props.trace,
          viewRange = _this$props.viewRange,
          updateNextViewRangeTime = _this$props.updateNextViewRangeTime,
          updateViewRangeTime = _this$props.updateViewRangeTime;

      if (!trace) {
        return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null);
      }

      var items = this.state.items;
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_5__["ubPb2"], _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_5__["ubPx2"])
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TickLabels__WEBPACK_IMPORTED_MODULE_3__["default"], {
        numTicks: TIMELINE_TICK_INTERVAL,
        duration: trace.duration
      }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_5__["ubRelative"]
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_CanvasSpanGraph__WEBPACK_IMPORTED_MODULE_2__["default"], {
        valueWidth: trace.duration,
        items: items
      }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ViewingLayer__WEBPACK_IMPORTED_MODULE_4__["default"], {
        viewRange: viewRange,
        numTicks: TIMELINE_TICK_INTERVAL,
        height: height || DEFAULT_HEIGHT,
        updateViewRangeTime: updateViewRangeTime,
        updateNextViewRangeTime: updateNextViewRangeTime
      })));
    }
  }]);

  return SpanGraph;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

SpanGraph.defaultProps = {
  height: DEFAULT_HEIGHT
};


/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/render-into-canvas.tsx":
/*!********************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/render-into-canvas.tsx ***!
  \********************************************************************************************/
/*! exports provided: ITEM_ALPHA, MIN_ITEM_HEIGHT, MAX_TOTAL_HEIGHT, MIN_ITEM_WIDTH, MIN_TOTAL_HEIGHT, MAX_ITEM_HEIGHT, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ITEM_ALPHA", function() { return ITEM_ALPHA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_ITEM_HEIGHT", function() { return MIN_ITEM_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_TOTAL_HEIGHT", function() { return MAX_TOTAL_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_ITEM_WIDTH", function() { return MIN_ITEM_WIDTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_TOTAL_HEIGHT", function() { return MIN_TOTAL_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_ITEM_HEIGHT", function() { return MAX_ITEM_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return renderIntoCanvas; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// exported for tests
var ITEM_ALPHA = 0.8;
var MIN_ITEM_HEIGHT = 2;
var MAX_TOTAL_HEIGHT = 200;
var MIN_ITEM_WIDTH = 10;
var MIN_TOTAL_HEIGHT = 60;
var MAX_ITEM_HEIGHT = 6;
function renderIntoCanvas(canvas, items, totalValueWidth, getFillColor, bgColor) {
  var fillCache = new Map();
  var cHeight = items.length < MIN_TOTAL_HEIGHT ? MIN_TOTAL_HEIGHT : Math.min(items.length, MAX_TOTAL_HEIGHT);
  var cWidth = window.innerWidth * 2; // eslint-disable-next-line no-param-reassign

  canvas.width = cWidth; // eslint-disable-next-line no-param-reassign

  canvas.height = cHeight;
  var itemHeight = Math.min(MAX_ITEM_HEIGHT, Math.max(MIN_ITEM_HEIGHT, cHeight / items.length));
  var itemYChange = cHeight / items.length;
  var ctx = canvas.getContext('2d', {
    alpha: false
  });
  ctx.fillStyle = bgColor;
  ctx.fillRect(0, 0, cWidth, cHeight);

  for (var i = 0; i < items.length; i++) {
    var _items$i = items[i],
        valueWidth = _items$i.valueWidth,
        valueOffset = _items$i.valueOffset,
        _serviceName = _items$i.serviceName;
    var x = valueOffset / totalValueWidth * cWidth;
    var width = valueWidth / totalValueWidth * cWidth;

    if (width < MIN_ITEM_WIDTH) {
      width = MIN_ITEM_WIDTH;
    }

    var fillStyle = fillCache.get(_serviceName);

    if (!fillStyle) {
      fillStyle = "rgba(".concat(getFillColor(_serviceName).concat(ITEM_ALPHA).join(), ")");
      fillCache.set(_serviceName, fillStyle);
    }

    ctx.fillStyle = fillStyle;
    ctx.fillRect(x, i * itemYChange, width, itemHeight);
  }
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageHeader.tsx":
/*!*******************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/TracePageHeader.tsx ***!
  \*******************************************************************************/
/*! exports provided: HEADER_ITEMS, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HEADER_ITEMS", function() { return HEADER_ITEMS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TracePageHeader; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/maxBy */ "./node_modules/lodash/maxBy.js");
/* harmony import */ var lodash_maxBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_maxBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_values__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/values */ "./node_modules/lodash/values.js");
/* harmony import */ var lodash_values__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_values__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_icons_lib_md_keyboard_arrow_right__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/lib/md/keyboard-arrow-right */ "./node_modules/react-icons/lib/md/keyboard-arrow-right.js");
/* harmony import */ var react_icons_lib_md_keyboard_arrow_right__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_md_keyboard_arrow_right__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _SpanGraph__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SpanGraph */ "./packages/jaeger-ui-components/src/TracePageHeader/SpanGraph/index.tsx");
/* harmony import */ var _TracePageSearchBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TracePageSearchBar */ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.tsx");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! .. */ "./packages/jaeger-ui-components/src/index.ts");
/* harmony import */ var _common_LabeledList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/LabeledList */ "./packages/jaeger-ui-components/src/common/LabeledList.tsx");
/* harmony import */ var _common_TraceName__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../common/TraceName */ "./packages/jaeger-ui-components/src/common/TraceName.tsx");
/* harmony import */ var _model_trace_viewer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../model/trace-viewer */ "./packages/jaeger-ui-components/src/model/trace-viewer.ts");
/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/date */ "./packages/jaeger-ui-components/src/utils/date.tsx");
/* harmony import */ var _model_link_patterns__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../model/link-patterns */ "./packages/jaeger-ui-components/src/model/link-patterns.tsx");
/* harmony import */ var _common_ExternalLinks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/ExternalLinks */ "./packages/jaeger-ui-components/src/common/ExternalLinks.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject13() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderTraceId;\n      white-space: nowrap;\n    "]);

  _templateObject13 = function _templateObject13() {
    return data;
  };

  return data;
}

function _templateObject12() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderArchiveIcon;\n      font-size: 1.78em;\n      margin-right: 0.15em;\n    "]);

  _templateObject12 = function _templateObject12() {
    return data;
  };

  return data;
}

function _templateObject11() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderOverviewItemValue;\n      &:hover > .", " {\n        color: unset;\n      }\n    "]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderOverviewItems;\n      border-bottom: 1px solid #e4e4e4;\n      padding: 0.25rem 0.5rem !important;\n    "]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderTitleCollapsible;\n      margin-left: 0;\n    "]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderTitle;\n      color: inherit;\n      flex: 1;\n      font-size: 1.7em;\n      line-height: 1em;\n      margin: 0 0 0 0.5em;\n      padding: 0.5em 0;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderDetailToggleExpanded;\n      transform: rotate(90deg);\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderDetailToggle;\n      font-size: 2.5rem;\n      transition: transform 0.07s ease-out;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderTitleLink;\n      align-items: center;\n      display: flex;\n      flex: 1;\n\n      &:hover * {\n        text-decoration: underline;\n      }\n      &:hover > *,\n      &:hover small {\n        text-decoration: none;\n      }\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderBack;\n      align-items: center;\n      align-self: stretch;\n      background-color: #fafafa;\n      border-bottom: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n      color: inherit;\n      display: flex;\n      font-size: 1.4rem;\n      padding: 0 1rem;\n      margin-bottom: -1px;\n      &:hover {\n        background-color: #f0f0f0;\n        border-color: #ccc;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeaderTitleRow;\n      align-items: center;\n      display: flex;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageHeader;\n      & > :first-child {\n        border-bottom: 1px solid ", ";\n      }\n      & > :nth-child(2) {\n        background-color: ", ";\n        border-bottom: 1px solid ", ";\n      }\n      & > :last-child {\n        border-bottom: 1px solid ", ";\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: TracePageHeaderOverviewItemValueDetail;\n    color: #aaa;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



















var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_16__["createStyle"])(function (theme) {
  var TracePageHeaderOverviewItemValueDetail = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject());
  return {
    TracePageHeader: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject2(), Object(___WEBPACK_IMPORTED_MODULE_9__["autoColor"])(theme, '#e8e8e8'), Object(___WEBPACK_IMPORTED_MODULE_9__["autoColor"])(theme, '#eee'), Object(___WEBPACK_IMPORTED_MODULE_9__["autoColor"])(theme, '#e4e4e4'), Object(___WEBPACK_IMPORTED_MODULE_9__["autoColor"])(theme, '#ccc')),
    TracePageHeaderTitleRow: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject3()),
    TracePageHeaderBack: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject4()),
    TracePageHeaderTitleLink: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject5()),
    TracePageHeaderDetailToggle: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject6()),
    TracePageHeaderDetailToggleExpanded: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject7()),
    TracePageHeaderTitle: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject8()),
    TracePageHeaderTitleCollapsible: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject9()),
    TracePageHeaderOverviewItems: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject10()),
    TracePageHeaderOverviewItemValueDetail: TracePageHeaderOverviewItemValueDetail,
    TracePageHeaderOverviewItemValue: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject11(), TracePageHeaderOverviewItemValueDetail),
    TracePageHeaderArchiveIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject12()),
    TracePageHeaderTraceId: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject13())
  };
});
var HEADER_ITEMS = [{
  key: 'timestamp',
  label: 'Trace Start',
  renderer: function renderer(trace) {
    var styles = getStyles(Object(___WEBPACK_IMPORTED_MODULE_9__["useTheme"])());
    var dateStr = Object(_utils_date__WEBPACK_IMPORTED_MODULE_13__["formatDatetime"])(trace.startTime);
    var match = dateStr.match(/^(.+)(:\d\d\.\d+)$/);
    return match ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.TracePageHeaderOverviewItemValue
    }, match[1], react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.TracePageHeaderOverviewItemValueDetail
    }, match[2])) : dateStr;
  }
}, {
  key: 'duration',
  label: 'Duration',
  renderer: function renderer(trace) {
    return Object(_utils_date__WEBPACK_IMPORTED_MODULE_13__["formatDuration"])(trace.duration);
  }
}, {
  key: 'service-count',
  label: 'Services',
  renderer: function renderer(trace) {
    return new Set(lodash_values__WEBPACK_IMPORTED_MODULE_3___default()(trace.processes).map(function (p) {
      return p.serviceName;
    })).size;
  }
}, {
  key: 'depth',
  label: 'Depth',
  renderer: function renderer(trace) {
    return lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lodash_maxBy__WEBPACK_IMPORTED_MODULE_2___default()(trace.spans, 'depth'), 'depth', 0) + 1;
  }
}, {
  key: 'span-count',
  label: 'Total Spans',
  renderer: function renderer(trace) {
    return trace.spans.length;
  }
}];
function TracePageHeader(props) {
  var canCollapse = props.canCollapse,
      clearSearch = props.clearSearch,
      focusUiFindMatches = props.focusUiFindMatches,
      hideMap = props.hideMap,
      hideSummary = props.hideSummary,
      nextResult = props.nextResult,
      onSlimViewClicked = props.onSlimViewClicked,
      prevResult = props.prevResult,
      resultCount = props.resultCount,
      slimView = props.slimView,
      textFilter = props.textFilter,
      trace = props.trace,
      traceGraphView = props.traceGraphView,
      updateNextViewRangeTime = props.updateNextViewRangeTime,
      updateViewRangeTime = props.updateViewRangeTime,
      viewRange = props.viewRange,
      searchValue = props.searchValue,
      onSearchValueChange = props.onSearchValueChange,
      hideSearchButtons = props.hideSearchButtons;

  if (!trace) {
    return null;
  }

  var links = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Object(_model_link_patterns__WEBPACK_IMPORTED_MODULE_14__["getTraceLinks"])(trace);
  }, [trace]);
  var summaryItems = !hideSummary && !slimView && HEADER_ITEMS.map(function (item) {
    var renderer = item.renderer,
        rest = _objectWithoutProperties(item, ["renderer"]);

    return _objectSpread({}, rest, {
      value: renderer(trace)
    });
  });
  var styles = getStyles(Object(___WEBPACK_IMPORTED_MODULE_9__["useTheme"])());
  var title = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("h1", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.TracePageHeaderTitle, canCollapse && styles.TracePageHeaderTitleCollapsible)
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_common_TraceName__WEBPACK_IMPORTED_MODULE_11__["default"], {
    traceName: Object(_model_trace_viewer__WEBPACK_IMPORTED_MODULE_12__["getTraceName"])(trace.spans)
  }), ' ', react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("small", {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.TracePageHeaderTraceId, _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_17__["uTxMuted"])
  }, trace.traceID));
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("header", {
    className: styles.TracePageHeader
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: styles.TracePageHeaderTitleRow
  }, links && links.length > 0 && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_common_ExternalLinks__WEBPACK_IMPORTED_MODULE_15__["default"], {
    links: links,
    className: styles.TracePageHeaderBack
  }), canCollapse ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", {
    className: styles.TracePageHeaderTitleLink,
    onClick: onSlimViewClicked,
    role: "switch",
    "aria-checked": !slimView
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_md_keyboard_arrow_right__WEBPACK_IMPORTED_MODULE_4___default.a, {
    className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.TracePageHeaderDetailToggle, !slimView && styles.TracePageHeaderDetailToggleExpanded)
  }), title) : title, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TracePageSearchBar__WEBPACK_IMPORTED_MODULE_8__["default"], {
    clearSearch: clearSearch,
    focusUiFindMatches: focusUiFindMatches,
    nextResult: nextResult,
    prevResult: prevResult,
    resultCount: resultCount,
    textFilter: textFilter,
    navigable: !traceGraphView,
    searchValue: searchValue,
    onSearchValueChange: onSearchValueChange,
    hideSearchButtons: hideSearchButtons
  })), summaryItems && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_common_LabeledList__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: styles.TracePageHeaderOverviewItems,
    items: summaryItems
  }), !hideMap && !slimView && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SpanGraph__WEBPACK_IMPORTED_MODULE_7__["default"], {
    trace: trace,
    viewRange: viewRange,
    updateNextViewRangeTime: updateNextViewRangeTime,
    updateViewRangeTime: updateViewRangeTime
  }));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.markers.tsx":
/*!******************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.markers.tsx ***!
  \******************************************************************************************/
/*! exports provided: IN_TRACE_SEARCH */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IN_TRACE_SEARCH", function() { return IN_TRACE_SEARCH; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var IN_TRACE_SEARCH = 'in-trace-search';

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.tsx":
/*!**********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.tsx ***!
  \**********************************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_android_locate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/android-locate */ "./node_modules/react-icons/lib/io/android-locate.js");
/* harmony import */ var react_icons_lib_io_android_locate__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_android_locate__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _TracePageSearchBar_markers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TracePageSearchBar.markers */ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageSearchBar.markers.tsx");
/* harmony import */ var _common_UiFindInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/UiFindInput */ "./packages/jaeger-ui-components/src/common/UiFindInput.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBarLocateBtn;\n      padding: 1px 8px 4px;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBarBtnDisabled;\n      opacity: 0.5;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBarBtn;\n      border-left: none;\n      transition: 0.2s;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBarCount;\n      opacity: 0.6;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBarBar;\n      max-width: 20rem;\n      transition: max-width 0.5s;\n      &:focus-within {\n        max-width: 100%;\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TracePageSearchBar;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2018 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.










var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function () {
  return {
    TracePageSearchBar: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject()),
    TracePageSearchBarBar: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2()),
    TracePageSearchBarCount: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3()),
    TracePageSearchBarBtn: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4()),
    TracePageSearchBarBtnDisabled: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5()),
    TracePageSearchBarLocateBtn: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject6())
  };
});
/* harmony default export */ __webpack_exports__["default"] = (Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(function TracePageSearchBar(props) {
  var clearSearch = props.clearSearch,
      focusUiFindMatches = props.focusUiFindMatches,
      navigable = props.navigable,
      nextResult = props.nextResult,
      prevResult = props.prevResult,
      resultCount = props.resultCount,
      textFilter = props.textFilter,
      onSearchValueChange = props.onSearchValueChange,
      searchValue = props.searchValue,
      hideSearchButtons = props.hideSearchButtons;
  var styles = getStyles();
  var count = textFilter ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
    className: styles.TracePageSearchBarCount
  }, resultCount) : null;
  var btnClass = classnames__WEBPACK_IMPORTED_MODULE_1___default()(styles.TracePageSearchBarBtn, _defineProperty({}, styles.TracePageSearchBarBtnDisabled, !textFilter));
  var uiFindInputInputProps = {
    'data-test': _TracePageSearchBar_markers__WEBPACK_IMPORTED_MODULE_4__["IN_TRACE_SEARCH"],
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(styles.TracePageSearchBarBar, _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["ubFlexAuto"]),
    name: 'search',
    suffix: count
  };
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: styles.TracePageSearchBar
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIInputGroup"], {
    className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["ubJustifyEnd"],
    compact: true,
    style: {
      display: 'flex'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_common_UiFindInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onChange: onSearchValueChange,
    value: searchValue,
    inputProps: uiFindInputInputProps
  }), !hideSearchButtons && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, navigable && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIButton"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(btnClass, styles.TracePageSearchBarLocateBtn),
    disabled: !textFilter,
    htmlType: "button",
    onClick: focusUiFindMatches
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_android_locate__WEBPACK_IMPORTED_MODULE_2___default.a, null)), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIButton"], {
    className: btnClass,
    disabled: !textFilter,
    htmlType: "button",
    icon: "up",
    onClick: prevResult
  }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIButton"], {
    className: btnClass,
    disabled: !textFilter,
    htmlType: "button",
    icon: "down",
    onClick: nextResult
  })), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIButton"], {
    className: btnClass,
    disabled: !textFilter,
    htmlType: "button",
    icon: "close",
    onClick: clearSearch
  }))));
}));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TracePageHeader/index.tsx":
/*!*********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TracePageHeader/index.tsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TracePageHeader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TracePageHeader */ "./packages/jaeger-ui-components/src/TracePageHeader/TracePageHeader.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _TracePageHeader__WEBPACK_IMPORTED_MODULE_0__["default"]; });

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/Positions.tsx":
/*!**************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/Positions.tsx ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Positions; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Keeps track of the height and y-position for anything sequenctial where
 * y-positions follow one-after-another and can be derived from the height of
 * the prior entries. The height is known from an accessor function parameter
 * to the methods that require new knowledge the heights.
 *
 * @export
 * @class Positions
 */
var Positions =
/*#__PURE__*/
function () {
  /**
   * Indicates how far past the explicitly required height or y-values should
   * checked.
   */

  /**
   * `lastI` keeps track of which values have already been visited. In many
   * scenarios, values do not need to be revisited. But, revisiting is required
   * when heights have changed, so `lastI` can be forced.
   */
  function Positions(bufferLen) {
    _classCallCheck(this, Positions);

    this.ys = [];
    this.heights = [];
    this.bufferLen = bufferLen;
    this.dataLen = -1;
    this.lastI = -1;
  }
  /**
   * Used to make sure the length of y-values and heights is consistent with
   * the context; in particular `lastI` needs to remain valid.
   */


  _createClass(Positions, [{
    key: "profileData",
    value: function profileData(dataLength) {
      if (dataLength !== this.dataLen) {
        this.dataLen = dataLength;
        this.ys.length = dataLength;
        this.heights.length = dataLength;

        if (this.lastI >= dataLength) {
          this.lastI = dataLength - 1;
        }
      }
    }
    /**
     * Calculate and save the heights and y-values, based on `heightGetter`, from
     * `lastI` until the`max` index; the starting point (`lastI`) can be forced
     * via the `forcedLastI` parameter.
     * @param {number=} forcedLastI
     */

  }, {
    key: "calcHeights",
    value: function calcHeights(max, heightGetter, forcedLastI) {
      if (forcedLastI != null) {
        this.lastI = forcedLastI;
      }

      var _max = max + this.bufferLen;

      if (_max <= this.lastI) {
        return;
      }

      if (_max >= this.heights.length) {
        _max = this.heights.length - 1;
      }

      var i = this.lastI;

      if (this.lastI === -1) {
        i = 0;
        this.ys[0] = 0;
      }

      while (i <= _max) {
        // eslint-disable-next-line no-multi-assign
        var h = this.heights[i] = heightGetter(i);
        this.ys[i + 1] = this.ys[i] + h;
        i++;
      }

      this.lastI = _max;
    }
    /**
     * Verify the height and y-values from `lastI` up to `yValue`.
     */

  }, {
    key: "calcYs",
    value: function calcYs(yValue, heightGetter) {
      while ((this.ys[this.lastI] == null || yValue > this.ys[this.lastI]) && this.lastI < this.dataLen - 1) {
        this.calcHeights(this.lastI, heightGetter);
      }
    }
    /**
     * Get the latest height for index `_i`. If it's in new terretory
     * (_i > lastI), find the heights (and y-values) leading up to it. If it's in
     * known territory (_i <= lastI) and the height is different than what is
     * known, recalculate subsequent y values, but don't confirm the heights of
     * those items, just update based on the difference.
     */

  }, {
    key: "confirmHeight",
    value: function confirmHeight(_i, heightGetter) {
      var i = _i;

      if (i > this.lastI) {
        this.calcHeights(i, heightGetter);
        return;
      }

      var h = heightGetter(i);

      if (h === this.heights[i]) {
        return;
      }

      var chg = h - this.heights[i];
      this.heights[i] = h; // shift the y positions by `chg` for all known y positions

      while (++i <= this.lastI) {
        this.ys[i] += chg;
      }

      if (this.ys[this.lastI + 1] != null) {
        this.ys[this.lastI + 1] += chg;
      }
    }
    /**
     * Given a target y-value (`yValue`), find the closest index (in the `.ys`
     * array) that is prior to the y-value; e.g. map from y-value to index in
     * `.ys`.
     */

  }, {
    key: "findFloorIndex",
    value: function findFloorIndex(yValue, heightGetter) {
      this.calcYs(yValue, heightGetter);
      var imin = 0;
      var imax = this.lastI;

      if (this.ys.length < 2 || yValue < this.ys[1]) {
        return 0;
      }

      if (yValue > this.ys[imax]) {
        return imax;
      }

      var i;

      while (imin < imax) {
        // eslint-disable-next-line no-bitwise
        i = imin + 0.5 * (imax - imin) | 0;

        if (yValue > this.ys[i]) {
          if (yValue <= this.ys[i + 1]) {
            return i;
          }

          imin = i;
        } else if (yValue < this.ys[i]) {
          if (yValue >= this.ys[i - 1]) {
            return i - 1;
          }

          imax = i;
        } else {
          return i;
        }
      }

      throw new Error("unable to find floor index for y=".concat(yValue));
    }
    /**
     * Get the `y` and `height` for a given row.
     *
     * @returns {{ height: number, y: number }}
     */

  }, {
    key: "getRowPosition",
    value: function getRowPosition(index, heightGetter) {
      this.confirmHeight(index, heightGetter);
      return {
        height: this.heights[index],
        y: this.ys[index]
      };
    }
    /**
     * Get the estimated height of the whole shebang by extrapolating based on
     * the average known height.
     */

  }, {
    key: "getEstimatedHeight",
    value: function getEstimatedHeight() {
      var known = this.ys[this.lastI] + this.heights[this.lastI];

      if (this.lastI >= this.dataLen - 1) {
        // eslint-disable-next-line no-bitwise
        return known | 0;
      } // eslint-disable-next-line no-bitwise


      return known / (this.lastI + 1) * this.heights.length | 0;
    }
  }]);

  return Positions;
}();



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/index.tsx":
/*!**********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/index.tsx ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ListView; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Positions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Positions */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/Positions.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


var DEFAULT_INITIAL_DRAW = 300;
/**
 * Virtualized list view component, for the most part, only renders the window
 * of items that are in-view with some buffer before and after. Listens for
 * scroll events and updates which items are rendered. See react-virtualized
 * for a suite of components with similar, but generalized, functinality.
 * https://github.com/bvaughn/react-virtualized
 *
 * Note: Presently, ListView cannot be a PureComponent. This is because ListView
 * is sensitive to the underlying state that drives the list items, but it
 * doesn't actually receive that state. So, a render may still be required even
 * if ListView's props are unchanged.
 *
 * @export
 * @class ListView
 */

var ListView =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ListView, _React$Component);

  /**
   * Keeps track of the height and y-value of items, by item index, in the
   * ListView.
   */

  /**
   * Keep track of the known / measured heights of the rendered items; populated
   * with values through observation and keyed on the item key, not the item
   * index.
   */

  /**
   * The start index of the items currently drawn.
   */

  /**
   * The end index of the items currently drawn.
   */

  /**
   * The start index of the items currently in view.
   */

  /**
   * The end index of the items currently in view.
   */

  /**
   * Height of the visual window, e.g. height of the scroller element.
   */

  /**
   * `scrollTop` of the current scroll position.
   */

  /**
   * Used to keep track of whether or not a re-calculation of what should be
   * drawn / viewable has been scheduled.
   */

  /**
   * If `windowScroller` is true, this notes how far down the page the scroller
   * is located. (Note: repositioning and below-the-fold views are untested)
   */

  /**
   * HTMLElement holding the scroller.
   */

  /**
   * HTMLElement holding the rendered items.
   */
  function ListView(props) {
    var _this;

    _classCallCheck(this, ListView);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListView).call(this, props));

    _this.getViewHeight = function () {
      return _this._viewHeight;
    };

    _this.getBottomVisibleIndex = function () {
      var bottomY = _this._scrollTop + _this._viewHeight;
      return _this._yPositions.findFloorIndex(bottomY, _this._getHeight);
    };

    _this.getTopVisibleIndex = function () {
      return _this._yPositions.findFloorIndex(_this._scrollTop, _this._getHeight);
    };

    _this.getRowPosition = function (index) {
      return _this._yPositions.getRowPosition(index, _this._getHeight);
    };

    _this._onScroll = function () {
      if (!_this._isScrolledOrResized) {
        _this._isScrolledOrResized = true;
        window.requestAnimationFrame(_this._positionList);
      }
    };

    _this._positionList = function () {
      _this._isScrolledOrResized = false;

      if (!_this._wrapperElm) {
        return;
      }

      _this._calcViewIndexes(); // indexes drawn should be padded by at least props.viewBufferMin


      var maxStart = _this.props.viewBufferMin > _this._startIndex ? 0 : _this._startIndex - _this.props.viewBufferMin;
      var minEnd = _this.props.viewBufferMin < _this.props.dataLength - _this._endIndex ? _this._endIndex + _this.props.viewBufferMin : _this.props.dataLength - 1;

      if (maxStart < _this._startIndexDrawn || minEnd > _this._endIndexDrawn) {
        _this.forceUpdate();
      }
    };

    _this._initWrapper = function (elm) {
      _this._wrapperElm = elm;

      if (!_this.props.windowScroller && elm) {
        _this._viewHeight = elm.clientHeight;
      }
    };

    _this._initItemHolder = function (elm) {
      _this._itemHolderElm = elm;

      _this._scanItemHeights();
    };

    _this._scanItemHeights = function () {
      var getIndexFromKey = _this.props.getIndexFromKey;

      if (!_this._itemHolderElm) {
        return;
      } // note the keys for the first and last altered heights, the `yPositions`
      // needs to be updated


      var lowDirtyKey = null;
      var highDirtyKey = null;
      var isDirty = false; // iterating childNodes is faster than children
      // https://jsperf.com/large-htmlcollection-vs-large-nodelist

      var nodes = _this._itemHolderElm.childNodes;
      var max = nodes.length;

      for (var i = 0; i < max; i++) {
        var node = nodes[i]; // use `.getAttribute(...)` instead of `.dataset` for jest / JSDOM

        var _itemKey = node.getAttribute('data-item-key');

        if (!_itemKey) {
          // eslint-disable-next-line no-console
          console.warn('itemKey not found');
          continue;
        } // measure the first child, if it's available, otherwise the node itself
        // (likely not transferable to other contexts, and instead is specific to
        // how we have the items rendered)


        var measureSrc = node.firstElementChild || node;
        var observed = measureSrc.clientHeight;

        var known = _this._knownHeights.get(_itemKey);

        if (observed !== known) {
          _this._knownHeights.set(_itemKey, observed);

          if (!isDirty) {
            isDirty = true; // eslint-disable-next-line no-multi-assign

            lowDirtyKey = highDirtyKey = _itemKey;
          } else {
            highDirtyKey = _itemKey;
          }
        }
      }

      if (lowDirtyKey != null && highDirtyKey != null) {
        // update yPositions, then redraw
        var imin = getIndexFromKey(lowDirtyKey);
        var imax = highDirtyKey === lowDirtyKey ? imin : getIndexFromKey(highDirtyKey);

        _this._yPositions.calcHeights(imax, _this._getHeight, imin);

        _this.forceUpdate();
      }
    };

    _this._getHeight = function (i) {
      var key = _this.props.getKeyFromIndex(i);

      var known = _this._knownHeights.get(key); // known !== known iff known is NaN
      // eslint-disable-next-line no-self-compare


      if (known != null && known === known) {
        return known;
      }

      return _this.props.itemHeightGetter(i, key);
    };

    _this._yPositions = new _Positions__WEBPACK_IMPORTED_MODULE_1__["default"](200); // _knownHeights is (item-key -> observed height) of list items

    _this._knownHeights = new Map();
    _this._startIndexDrawn = Math.pow(2, 20);
    _this._endIndexDrawn = -Math.pow(2, 20);
    _this._startIndex = 0;
    _this._endIndex = 0;
    _this._viewHeight = -1;
    _this._scrollTop = -1;
    _this._isScrolledOrResized = false;
    _this._htmlTopOffset = -1;
    _this._windowScrollListenerAdded = false; // _htmlElm is only relevant if props.windowScroller is true

    _this._htmlElm = document.documentElement;
    _this._wrapperElm = undefined;
    _this._itemHolderElm = undefined;
    return _this;
  }

  _createClass(ListView, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.props.windowScroller) {
        if (this._wrapperElm) {
          var _this$_wrapperElm$get = this._wrapperElm.getBoundingClientRect(),
              top = _this$_wrapperElm$get.top;

          this._htmlTopOffset = top + this._htmlElm.scrollTop;
        }

        window.addEventListener('scroll', this._onScroll);
        this._windowScrollListenerAdded = true;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      if (this._itemHolderElm) {
        this._scanItemHeights();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._windowScrollListenerAdded) {
        window.removeEventListener('scroll', this._onScroll);
      }
    }
  }, {
    key: "_isViewChanged",

    /**
     * Returns true is the view height (scroll window) or scroll position have
     * changed.
     */
    value: function _isViewChanged() {
      if (!this._wrapperElm) {
        return false;
      }

      var useRoot = this.props.windowScroller;
      var clientHeight = useRoot ? this._htmlElm.clientHeight : this._wrapperElm.clientHeight;
      var scrollTop = useRoot ? this._htmlElm.scrollTop : this._wrapperElm.scrollTop;
      return clientHeight !== this._viewHeight || scrollTop !== this._scrollTop;
    }
    /**
     * Recalculate _startIndex and _endIndex, e.g. which items are in view.
     */

  }, {
    key: "_calcViewIndexes",
    value: function _calcViewIndexes() {
      var useRoot = this.props.windowScroller; // funky if statement is to satisfy flow

      if (!useRoot) {
        /* istanbul ignore next */
        if (!this._wrapperElm) {
          this._viewHeight = -1;
          this._startIndex = 0;
          this._endIndex = 0;
          return;
        }

        this._viewHeight = this._wrapperElm.clientHeight;
        this._scrollTop = this._wrapperElm.scrollTop;
      } else {
        this._viewHeight = window.innerHeight - this._htmlTopOffset;
        this._scrollTop = window.scrollY;
      }

      var yStart = this._scrollTop;
      var yEnd = this._scrollTop + this._viewHeight;
      this._startIndex = this._yPositions.findFloorIndex(yStart, this._getHeight);
      this._endIndex = this._yPositions.findFloorIndex(yEnd, this._getHeight);
    }
    /**
     * Checked to see if the currently rendered items are sufficient, if not,
     * force an update to trigger more items to be rendered.
     */

  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          dataLength = _this$props.dataLength,
          getKeyFromIndex = _this$props.getKeyFromIndex,
          _this$props$initialDr = _this$props.initialDraw,
          initialDraw = _this$props$initialDr === void 0 ? DEFAULT_INITIAL_DRAW : _this$props$initialDr,
          itemRenderer = _this$props.itemRenderer,
          viewBuffer = _this$props.viewBuffer,
          viewBufferMin = _this$props.viewBufferMin;
      var heightGetter = this._getHeight;
      var items = [];
      var start;
      var end;

      this._yPositions.profileData(dataLength);

      if (!this._wrapperElm) {
        start = 0;
        end = (initialDraw < dataLength ? initialDraw : dataLength) - 1;
      } else {
        if (this._isViewChanged()) {
          this._calcViewIndexes();
        }

        var maxStart = viewBufferMin > this._startIndex ? 0 : this._startIndex - viewBufferMin;
        var minEnd = viewBufferMin < dataLength - this._endIndex ? this._endIndex + viewBufferMin : dataLength - 1;

        if (maxStart < this._startIndexDrawn || minEnd > this._endIndexDrawn) {
          start = viewBuffer > this._startIndex ? 0 : this._startIndex - viewBuffer;
          end = this._endIndex + viewBuffer;

          if (end >= dataLength) {
            end = dataLength - 1;
          }
        } else {
          start = this._startIndexDrawn;
          end = this._endIndexDrawn > dataLength - 1 ? dataLength - 1 : this._endIndexDrawn;
        }
      }

      this._yPositions.calcHeights(end, heightGetter, start || -1);

      this._startIndexDrawn = start;
      this._endIndexDrawn = end;
      items.length = end - start + 1;

      for (var i = start; i <= end; i++) {
        var _this$_yPositions$get = this._yPositions.getRowPosition(i, heightGetter),
            top = _this$_yPositions$get.y,
            height = _this$_yPositions$get.height;

        var _style = {
          height: height,
          top: top,
          position: 'absolute'
        };

        var _itemKey2 = getKeyFromIndex(i);

        var attrs = {
          'data-item-key': _itemKey2
        };
        items.push(itemRenderer(_itemKey2, _style, i, attrs));
      }

      var wrapperProps = {
        style: {
          position: 'relative'
        },
        ref: this._initWrapper
      };

      if (!this.props.windowScroller) {
        wrapperProps.onScroll = this._onScroll;
        wrapperProps.style.height = '100%';
        wrapperProps.style.overflowY = 'auto';
      }

      var scrollerStyle = {
        position: 'relative',
        height: this._yPositions.getEstimatedHeight()
      };
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", wrapperProps, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        style: scrollerStyle
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        style: {
          position: 'absolute',
          top: 0,
          margin: 0,
          padding: 0
        },
        className: this.props.itemsWrapperClassName,
        ref: this._initItemHolder
      }, items)));
    }
  }]);

  return ListView;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

ListView.defaultProps = {
  initialDraw: DEFAULT_INITIAL_DRAW,
  itemsWrapperClassName: '',
  windowScroller: false
};


/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ReferencesButton.tsx":
/*!************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/ReferencesButton.tsx ***!
  \************************************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ReferencesButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _common_NewWindowIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/NewWindowIcon */ "./packages/jaeger-ui-components/src/common/NewWindowIcon.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _url_ReferenceLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../url/ReferenceLink */ "./packages/jaeger-ui-components/src/url/ReferenceLink.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      max-width: none;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      margin: 0.2em 0 0;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      justify-content: space-between;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      padding: 0 5px;\n      color: #000;\n      & ~ & {\n        margin-left: 5px;\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2019 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.






var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["createStyle"])(function () {
  return {
    MultiParent: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    TraceRefLink: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    NewWindowIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    tooltip: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4())
  };
});

var ReferencesButton =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(ReferencesButton, _React$PureComponent);

  function ReferencesButton() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, ReferencesButton);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ReferencesButton)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.referencesList = function (references) {
      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIMenu"], null, references.map(function (ref) {
        var span = ref.span,
            spanID = ref.spanID;
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIMenuItem"], {
          key: "".concat(spanID)
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_url_ReferenceLink__WEBPACK_IMPORTED_MODULE_4__["default"], {
          reference: ref,
          focusSpan: _this.props.focusSpan,
          className: styles.TraceRefLink
        }, span ? "".concat(span.process.serviceName, ":").concat(span.operationName, " - ").concat(ref.spanID) : "(another trace) - ".concat(ref.spanID), !span && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_NewWindowIcon__WEBPACK_IMPORTED_MODULE_2__["default"], {
          className: styles.NewWindowIcon
        })));
      }));
    };

    return _this;
  }

  _createClass(ReferencesButton, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          references = _this$props.references,
          children = _this$props.children,
          tooltipText = _this$props.tooltipText,
          focusSpan = _this$props.focusSpan;
      var styles = getStyles();
      var tooltipProps = {
        arrowPointAtCenter: true,
        mouseLeaveDelay: 0.5,
        placement: 'bottom',
        title: tooltipText,
        overlayClassName: styles.tooltip
      };

      if (references.length > 1) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], tooltipProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIDropdown"], {
          overlay: this.referencesList(references),
          placement: "bottomRight",
          trigger: ['click']
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
          className: styles.MultiParent
        }, children)));
      }

      var ref = references[0];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], tooltipProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_url_ReferenceLink__WEBPACK_IMPORTED_MODULE_4__["default"], {
        reference: ref,
        focusSpan: focusSpan,
        className: styles.MultiParent
      }, children));
    }
  }]);

  return ReferencesButton;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBar.tsx":
/*!***************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBar.tsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/groupBy */ "./node_modules/lodash/groupBy.js");
/* harmony import */ var lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_groupBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/es/Recompose.js");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SpanDetail_AccordianLogs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SpanDetail/AccordianLogs */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianLogs.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: logHint;\n      pointer-events: none;\n      // TODO won't work with different UI elements injected\n      & .ant-popover-inner-content {\n        padding: 0.25rem;\n      }\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: logMarker;\n      background-color: rgba(0, 0, 0, 0.5);\n      cursor: pointer;\n      height: 60%;\n      min-width: 1px;\n      position: absolute;\n      top: 20%;\n      &:hover {\n        background-color: #000;\n      }\n      &::before,\n      &::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        border: 1px solid transparent;\n      }\n      &::after {\n        left: 0;\n      }\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: label;\n      color: #aaa;\n      font-size: 12px;\n      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n      line-height: 1em;\n      white-space: nowrap;\n      padding: 0 0.5em;\n      position: absolute;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: rpc;\n      position: absolute;\n      top: 35%;\n      bottom: 35%;\n      z-index: 1;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: bar;\n      border-radius: 3px;\n      min-width: 2px;\n      position: absolute;\n      height: 36%;\n      top: 32%;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: wrapper;\n      bottom: 0;\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n      overflow: hidden;\n      z-index: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.








var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function () {
  return {
    wrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject()),
    bar: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2()),
    rpc: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3()),
    label: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4()),
    logMarker: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5()),
    logHint: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject6())
  };
});

function toPercent(value) {
  return "".concat((value * 100).toFixed(1), "%");
}

function SpanBar(props) {
  var viewEnd = props.viewEnd,
      viewStart = props.viewStart,
      getViewedBounds = props.getViewedBounds,
      color = props.color,
      label = props.label,
      onClick = props.onClick,
      setLongLabel = props.setLongLabel,
      setShortLabel = props.setShortLabel,
      rpc = props.rpc,
      traceStartTime = props.traceStartTime,
      span = props.span,
      className = props.className,
      labelClassName = props.labelClassName; // group logs based on timestamps

  var logGroups = lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default()(span.logs, function (log) {
    var posPercent = getViewedBounds(log.timestamp, log.timestamp).start; // round to the nearest 0.2%

    return toPercent(Math.round(posPercent * 500) / 500);
  });

  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(styles.wrapper, className),
    onClick: onClick,
    onMouseOut: setShortLabel,
    onMouseOver: setLongLabel,
    "aria-hidden": true,
    "data-test-id": "SpanBar--wrapper"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": label,
    className: styles.bar,
    style: {
      background: color,
      left: toPercent(viewStart),
      width: toPercent(viewEnd - viewStart)
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(styles.label, labelClassName),
    "data-test-id": "SpanBar--label"
  }, label)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, Object.keys(logGroups).map(function (positionKey) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_6__["UIPopover"], {
      key: positionKey,
      arrowPointAtCenter: true,
      overlayClassName: styles.logHint,
      placement: "topLeft",
      content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SpanDetail_AccordianLogs__WEBPACK_IMPORTED_MODULE_5__["default"], {
        interactive: false,
        isOpen: true,
        logs: logGroups[positionKey],
        timestamp: traceStartTime
      })
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: styles.logMarker,
      style: {
        left: positionKey
      }
    }));
  })), rpc && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.rpc,
    style: {
      background: rpc.color,
      left: toPercent(rpc.viewStart),
      width: toPercent(rpc.viewEnd - rpc.viewStart)
    }
  }));
}

/* harmony default export */ __webpack_exports__["default"] = (Object(recompose__WEBPACK_IMPORTED_MODULE_2__["compose"])(Object(recompose__WEBPACK_IMPORTED_MODULE_2__["withState"])('label', 'setLabel', function (props) {
  return props.shortLabel;
}), Object(recompose__WEBPACK_IMPORTED_MODULE_2__["withProps"])(function (_ref) {
  var setLabel = _ref.setLabel,
      shortLabel = _ref.shortLabel,
      longLabel = _ref.longLabel;
  return {
    setLongLabel: function setLongLabel() {
      return setLabel(longLabel);
    },
    setShortLabel: function setShortLabel() {
      return setLabel(shortLabel);
    }
  };
}), Object(recompose__WEBPACK_IMPORTED_MODULE_2__["onlyUpdateForKeys"])(['label', 'rpc', 'viewStart', 'viewEnd']))(SpanBar));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBarRow.tsx":
/*!******************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBarRow.tsx ***!
  \******************************************************************************/
/*! exports provided: UnthemedSpanBarRow, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedSpanBarRow", function() { return UnthemedSpanBarRow; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_icons_lib_io_alert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-icons/lib/io/alert */ "./node_modules/react-icons/lib/io/alert.js");
/* harmony import */ var react_icons_lib_io_alert__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_alert__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_arrow_right_a__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/arrow-right-a */ "./node_modules/react-icons/lib/io/arrow-right-a.js");
/* harmony import */ var react_icons_lib_io_arrow_right_a__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_arrow_right_a__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_lib_io_network__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/lib/io/network */ "./node_modules/react-icons/lib/io/network.js");
/* harmony import */ var react_icons_lib_io_network__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_network__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_icons_lib_md_file_upload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/lib/md/file-upload */ "./node_modules/react-icons/lib/md/file-upload.js");
/* harmony import */ var react_icons_lib_md_file_upload__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_md_file_upload__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _ReferencesButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ReferencesButton */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ReferencesButton.tsx");
/* harmony import */ var _TimelineRow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TimelineRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineRow.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx");
/* harmony import */ var _SpanTreeOffset__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SpanTreeOffset */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanTreeOffset.tsx");
/* harmony import */ var _SpanBar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SpanBar */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBar.tsx");
/* harmony import */ var _Ticks__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Ticks */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/Ticks.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject23() {
  var data = _taggedTemplateLiteral(["\n      label: labelLeft;\n      right: 100%;\n    "]);

  _templateObject23 = function _templateObject23() {
    return data;
  };

  return data;
}

function _templateObject22() {
  var data = _taggedTemplateLiteral(["\n      label: labelRight;\n      left: 100%;\n    "]);

  _templateObject22 = function _templateObject22() {
    return data;
  };

  return data;
}

function _templateObject21() {
  var data = _taggedTemplateLiteral(["\n      label: rpcColorMarker;\n      border-radius: 6.5px;\n      display: inline-block;\n      font-size: 0.85em;\n      height: 1em;\n      margin-right: 0.25rem;\n      padding: 1px;\n      width: 1em;\n      vertical-align: middle;\n    "]);

  _templateObject21 = function _templateObject21() {
    return data;
  };

  return data;
}

function _templateObject20() {
  var data = _taggedTemplateLiteral(["\n      label: errorIcon;\n      border-radius: 6.5px;\n      color: ", ";\n      font-size: 0.85em;\n      margin-right: 0.25rem;\n      padding: 1px;\n    "]);

  _templateObject20 = function _templateObject20() {
    return data;
  };

  return data;
}

function _templateObject19() {
  var data = _taggedTemplateLiteral(["\n      label: svcNameChildrenCollapsed;\n      font-weight: bold;\n      font-style: italic;\n    "]);

  _templateObject19 = function _templateObject19() {
    return data;
  };

  return data;
}

function _templateObject18() {
  var data = _taggedTemplateLiteral(["\n      label: svcName;\n      padding: 0 0.25rem 0 0.5rem;\n      font-size: 1.05em;\n    "]);

  _templateObject18 = function _templateObject18() {
    return data;
  };

  return data;
}

function _templateObject17() {
  var data = _taggedTemplateLiteral(["\n      label: nameDetailExpanded;\n      &::before {\n        bottom: 0;\n      }\n    "]);

  _templateObject17 = function _templateObject17() {
    return data;
  };

  return data;
}

function _templateObject16() {
  var data = _taggedTemplateLiteral(["\n      label: name;\n      color: ", ";\n      cursor: pointer;\n      flex: 1 1 auto;\n      outline: none;\n      overflow: hidden;\n      padding-left: 4px;\n      padding-right: 0.25em;\n      position: relative;\n      text-overflow: ellipsis;\n      &::before {\n        content: ' ';\n        position: absolute;\n        top: 4px;\n        bottom: 4px;\n        left: 0;\n        border-left: 4px solid;\n        border-left-color: inherit;\n      }\n\n      /* This is so the hit area of the span-name extends the rest of the width of the span-name column */\n      &::after {\n        background: transparent;\n        bottom: 0;\n        content: ' ';\n        left: 0;\n        position: absolute;\n        top: 0;\n        width: 1000px;\n      }\n      &:focus {\n        text-decoration: none;\n      }\n      &:hover > .", " {\n        color: ", ";\n      }\n    "]);

  _templateObject16 = function _templateObject16() {
    return data;
  };

  return data;
}

function _templateObject15() {
  var data = _taggedTemplateLiteral(["\n      label: rowExpandedAndMatchingFilter;\n      &:hover .", " {\n        background: ", ";\n      }\n    "]);

  _templateObject15 = function _templateObject15() {
    return data;
  };

  return data;
}

function _templateObject14() {
  var data = _taggedTemplateLiteral(["\n      label: rowMatchingFilter;\n      background-color: ", ";\n      &:hover .", " {\n        background: linear-gradient(\n          90deg,\n          ", ",\n          ", " 75%,\n          ", "\n        );\n      }\n      &:hover .", " {\n        background-color: ", ";\n        outline: 1px solid ", ";\n      }\n    "]);

  _templateObject14 = function _templateObject14() {
    return data;
  };

  return data;
}

function _templateObject13() {
  var data = _taggedTemplateLiteral(["\n      label: rowExpanded;\n      & .", " {\n        opacity: 1;\n      }\n      & .", " {\n        color: ", ";\n      }\n      & .", ", &:hover .", " {\n        background: ", ";\n        box-shadow: 0 1px 0 ", ";\n      }\n      & .", " {\n        background: ", ";\n      }\n      &:hover .", " {\n        background: ", ";\n      }\n    "]);

  _templateObject13 = function _templateObject13() {
    return data;
  };

  return data;
}

function _templateObject12() {
  var data = _taggedTemplateLiteral(["\n      label: rowClippingRight;\n      & .", "::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to left,\n          ", ",\n          ", "\n        );\n        right: 0%;\n        z-index: 1;\n      }\n    "]);

  _templateObject12 = function _templateObject12() {
    return data;
  };

  return data;
}

function _templateObject11() {
  var data = _taggedTemplateLiteral(["\n      label: rowClippingLeft;\n      & .", "::before {\n        content: ' ';\n        height: 100%;\n        position: absolute;\n        width: 6px;\n        background-image: linear-gradient(\n          to right,\n          ", ",\n          ", "\n        );\n        left: 100%;\n        z-index: -1;\n      }\n    "]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n      label: row;\n      &:hover .", " {\n        opacity: 1;\n      }\n      &:hover .", " {\n        color: ", ";\n      }\n      &:hover .", " {\n        background: #f8f8f8;\n        background: linear-gradient(\n          90deg,\n          ", ",\n          ", " 75%,\n          ", "\n        );\n      }\n      &:hover .", " {\n        background-color: ", ";\n        outline: 1px solid ", ";\n      }\n    "]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n    label: nameColumn;\n    position: relative;\n    white-space: nowrap;\n    z-index: 1;\n    &:hover {\n      z-index: 1;\n    }\n  "]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n    label: viewExpandedAndMatchingFilter;\n    background: ", ";\n    outline: 1px solid ", ";\n  "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n    label: viewExpanded;\n    background: ", ";\n    outline: 1px solid ", ";\n  "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n    label: view;\n    position: relative;\n  "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n    label: endpointName;\n    color: ", ";\n  "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n    label: nameWrapperMatchingFilter;\n    background-color: ", ";\n  "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n    label: nameWrapper;\n    background: ", ";\n    line-height: 27px;\n    overflow: hidden;\n    display: flex;\n    &:hover {\n      border-right: 1px solid ", ";\n      float: left;\n      min-width: calc(100% + 1px);\n      overflow: visible;\n    }\n  "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    label: spanBarLabel;\n  "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: spanBar;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.














var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["createStyle"])(function (theme) {
  var spanBar = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject());
  var spanBarLabel = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject2());
  var nameWrapper = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#f8f8f8'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#bbb'));
  var nameWrapperMatchingFilter = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fffce4'));
  var endpointName = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject5(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#808080'));
  var view = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject6());
  var viewExpanded = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject7(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#f8f8f8'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ddd'));
  var viewExpandedAndMatchingFilter = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject8(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff3d7'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ddd'));
  var nameColumn = Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject9());
  return {
    spanBar: spanBar,
    spanBarLabel: spanBarLabel,
    nameWrapper: nameWrapper,
    nameWrapperMatchingFilter: nameWrapperMatchingFilter,
    nameColumn: nameColumn,
    endpointName: endpointName,
    view: view,
    viewExpanded: viewExpanded,
    viewExpandedAndMatchingFilter: viewExpandedAndMatchingFilter,
    row: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject10(), spanBar, spanBarLabel, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#000'), nameWrapper, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fafafa'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#f8f8f8'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#eee'), view, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#f5f5f5'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ddd')),
    rowClippingLeft: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject11(), nameColumn, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, 'rgba(25, 25, 25, 0.25)'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, 'rgba(32, 32, 32, 0)')),
    rowClippingRight: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject12(), view, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, 'rgba(25, 25, 25, 0.25)'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, 'rgba(25, 25, 25, 0.25)')),
    rowExpanded: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject13(), spanBar, spanBarLabel, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#000'), nameWrapper, nameWrapper, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#f0f0f0'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ddd'), nameWrapperMatchingFilter, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff3d7'), view, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#eee')),
    rowMatchingFilter: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject14(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fffce4'), nameWrapper, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff5e1'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff5e1'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ffe6c9'), view, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff3d7'), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ddd')),
    rowExpandedAndMatchingFilter: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject15(), view, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#ffeccf')),
    name: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject16(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#000'), endpointName, Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#000')),
    nameDetailExpanded: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject17()),
    svcName: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject18()),
    svcNameChildrenCollapsed: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject19()),
    errorIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject20(), Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#fff')),
    rpcColorMarker: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject21()),
    labelRight: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject22()),
    labelLeft: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject23())
  };
});

/**
 * This was originally a stateless function, but changing to a PureComponent
 * reduced the render time of expanding a span row detail by ~50%. This is
 * even true in the case where the stateless function has the same prop types as
 * this class and arrow functions are created in the stateless function as
 * handlers to the onClick props. E.g. for now, the PureComponent is more
 * performance than the stateless function.
 */
var UnthemedSpanBarRow =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedSpanBarRow, _React$PureComponent);

  function UnthemedSpanBarRow() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UnthemedSpanBarRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UnthemedSpanBarRow)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this._detailToggle = function () {
      _this.props.onDetailToggled(_this.props.span.spanID);
    };

    _this._childrenToggle = function () {
      _this.props.onChildrenToggled(_this.props.span.spanID);
    };

    return _this;
  }

  _createClass(UnthemedSpanBarRow, [{
    key: "render",
    value: function render() {
      var _cx, _cx5;

      var _this$props = this.props,
          className = _this$props.className,
          color = _this$props.color,
          columnDivision = _this$props.columnDivision,
          isChildrenExpanded = _this$props.isChildrenExpanded,
          isDetailExpanded = _this$props.isDetailExpanded,
          isMatchingFilter = _this$props.isMatchingFilter,
          numTicks = _this$props.numTicks,
          rpc = _this$props.rpc,
          showErrorIcon = _this$props.showErrorIcon,
          getViewedBounds = _this$props.getViewedBounds,
          traceStartTime = _this$props.traceStartTime,
          span = _this$props.span,
          focusSpan = _this$props.focusSpan,
          hoverIndentGuideIds = _this$props.hoverIndentGuideIds,
          addHoverIndentGuideId = _this$props.addHoverIndentGuideId,
          removeHoverIndentGuideId = _this$props.removeHoverIndentGuideId,
          clippingLeft = _this$props.clippingLeft,
          clippingRight = _this$props.clippingRight,
          theme = _this$props.theme;
      var duration = span.duration,
          isParent = span.hasChildren,
          operationName = span.operationName,
          serviceName = span.process.serviceName;
      var label = Object(_utils__WEBPACK_IMPORTED_MODULE_9__["formatDuration"])(duration);
      var viewBounds = getViewedBounds(span.startTime, span.startTime + span.duration);
      var viewStart = viewBounds.start;
      var viewEnd = viewBounds.end;
      var styles = getStyles(theme);
      var labelDetail = "".concat(serviceName, "::").concat(operationName);
      var longLabel;
      var hintClassName;

      if (viewStart > 1 - viewEnd) {
        longLabel = "".concat(labelDetail, " | ").concat(label);
        hintClassName = styles.labelLeft;
      } else {
        longLabel = "".concat(label, " | ").concat(labelDetail);
        hintClassName = styles.labelRight;
      }

      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_8__["default"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.row, (_cx = {}, _defineProperty(_cx, styles.rowExpanded, isDetailExpanded), _defineProperty(_cx, styles.rowMatchingFilter, isMatchingFilter), _defineProperty(_cx, styles.rowExpandedAndMatchingFilter, isMatchingFilter && isDetailExpanded), _defineProperty(_cx, styles.rowClippingLeft, clippingLeft), _defineProperty(_cx, styles.rowClippingRight, clippingRight), _cx), className)
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_8__["default"].Cell, {
        className: styles.nameColumn,
        width: columnDivision
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.nameWrapper, _defineProperty({}, styles.nameWrapperMatchingFilter, isMatchingFilter))
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SpanTreeOffset__WEBPACK_IMPORTED_MODULE_10__["default"], {
        childrenVisible: isChildrenExpanded,
        span: span,
        onClick: isParent ? this._childrenToggle : undefined,
        hoverIndentGuideIds: hoverIndentGuideIds,
        addHoverIndentGuideId: addHoverIndentGuideId,
        removeHoverIndentGuideId: removeHoverIndentGuideId
      }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.name, _defineProperty({}, styles.nameDetailExpanded, isDetailExpanded)),
        "aria-checked": isDetailExpanded,
        onClick: this._detailToggle,
        role: "switch",
        style: {
          borderColor: color
        },
        tabIndex: 0
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.svcName, _defineProperty({}, styles.svcNameChildrenCollapsed, isParent && !isChildrenExpanded))
      }, showErrorIcon && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_alert__WEBPACK_IMPORTED_MODULE_1___default.a, {
        style: {
          backgroundColor: span.errorIconColor ? Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, span.errorIconColor) : Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["autoColor"])(theme, '#db2828')
        },
        className: styles.errorIcon
      }), serviceName, ' ', rpc && react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_arrow_right_a__WEBPACK_IMPORTED_MODULE_2___default.a, null), " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("i", {
        className: styles.rpcColorMarker,
        style: {
          background: rpc.color
        }
      }), rpc.serviceName)), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("small", {
        className: styles.endpointName
      }, rpc ? rpc.operationName : operationName)), span.references && span.references.length > 1 && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ReferencesButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
        references: span.references,
        tooltipText: "Contains multiple references",
        focusSpan: focusSpan
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_network__WEBPACK_IMPORTED_MODULE_3___default.a, null)), span.subsidiarilyReferencedBy && span.subsidiarilyReferencedBy.length > 0 && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ReferencesButton__WEBPACK_IMPORTED_MODULE_7__["default"], {
        references: span.subsidiarilyReferencedBy,
        tooltipText: "This span is referenced by ".concat(span.subsidiarilyReferencedBy.length === 1 ? 'another span' : 'multiple other spans'),
        focusSpan: focusSpan
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_md_file_upload__WEBPACK_IMPORTED_MODULE_4___default.a, null)))), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_8__["default"].Cell, {
        className: classnames__WEBPACK_IMPORTED_MODULE_6___default()(styles.view, (_cx5 = {}, _defineProperty(_cx5, styles.viewExpanded, isDetailExpanded), _defineProperty(_cx5, styles.viewExpandedAndMatchingFilter, isMatchingFilter && isDetailExpanded), _cx5)),
        "data-test-id": "span-view",
        style: {
          cursor: 'pointer'
        },
        width: 1 - columnDivision,
        onClick: this._detailToggle
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Ticks__WEBPACK_IMPORTED_MODULE_12__["default"], {
        numTicks: numTicks
      }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SpanBar__WEBPACK_IMPORTED_MODULE_11__["default"], {
        rpc: rpc,
        viewStart: viewStart,
        viewEnd: viewEnd,
        getViewedBounds: getViewedBounds,
        color: color,
        shortLabel: label,
        longLabel: longLabel,
        traceStartTime: traceStartTime,
        span: span,
        labelClassName: "".concat(styles.spanBarLabel, " ").concat(hintClassName),
        className: styles.spanBar
      })));
    }
  }]);

  return UnthemedSpanBarRow;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);
UnthemedSpanBarRow.displayName = 'UnthemedSpanBarRow';
UnthemedSpanBarRow.defaultProps = {
  className: '',
  rpc: null
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_13__["withTheme"])(UnthemedSpanBarRow));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.markers.tsx":
/*!*********************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.markers.tsx ***!
  \*********************************************************************************************************/
/*! exports provided: LABEL */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LABEL", function() { return LABEL; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var LABEL = 'label';

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.tsx":
/*!*************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.tsx ***!
  \*************************************************************************************************/
/*! exports provided: getStyles, KeyValuesSummary, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyValuesSummary", function() { return KeyValuesSummary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AccordianKeyValues; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-down */ "./node_modules/react-icons/lib/io/ios-arrow-down.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-right */ "./node_modules/react-icons/lib/io/ios-arrow-right.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _AccordianKeyValues_markers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AccordianKeyValues.markers */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.markers.tsx");
/* harmony import */ var _KeyValuesTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./KeyValuesTable */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/KeyValuesTable.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: summaryDelim;\n      color: ", ";\n      padding: 0 0.2em;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: summaryLabel;\n      color: ", ";\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: summaryItem;\n      display: inline;\n      margin-left: 0.7em;\n      padding-right: 0.5rem;\n      border-right: 1px solid ", ";\n      &:last-child {\n        padding-right: 0;\n        border-right: none;\n      }\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: summary;\n      display: inline;\n      list-style: none;\n      padding: 0;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: emptyIcon;\n      color: ", ";\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: headerHighContrast;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: headerEmpty;\n      background: none;\n      cursor: initial;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: header;\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.









var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function (theme) {
  return {
    header: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#e8e8e8')),
    headerEmpty: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2()),
    headerHighContrast: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#ddd')),
    emptyIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#aaa')),
    summary: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5()),
    summaryItem: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject6(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#ddd')),
    summaryLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject7(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#777')),
    summaryDelim: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject8(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#bbb'))
  };
});
// export for tests
function KeyValuesSummary(props) {
  var data = props.data;

  if (!Array.isArray(data) || !data.length) {
    return null;
  }

  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("ul", {
    className: styles.summary
  }, data.map(function (item, i) {
    return (// `i` is necessary in the key because item.key can repeat
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", {
        className: styles.summaryItem,
        key: "".concat(item.key, "-").concat(i)
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
        className: styles.summaryLabel
      }, item.key), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
        className: styles.summaryDelim
      }, "="), String(item.value))
    );
  }));
}
KeyValuesSummary.defaultProps = {
  data: null
};
function AccordianKeyValues(props) {
  var _cx2;

  var className = props.className,
      data = props.data,
      highContrast = props.highContrast,
      interactive = props.interactive,
      isOpen = props.isOpen,
      label = props.label,
      linksGetter = props.linksGetter,
      onToggle = props.onToggle;
  var isEmpty = !Array.isArray(data) || !data.length;
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["useTheme"])());
  var iconCls = classnames__WEBPACK_IMPORTED_MODULE_4___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["uAlignIcon"], _defineProperty({}, styles.emptyIcon, isEmpty));
  var arrow = null;
  var headerProps = null;

  if (interactive) {
    arrow = isOpen ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_1___default.a, {
      className: iconCls
    }) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_2___default.a, {
      className: iconCls
    });
    headerProps = {
      'aria-checked': isOpen,
      onClick: isEmpty ? null : onToggle,
      role: 'switch'
    };
  }

  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(className, _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["uTxEllipsis"])
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_4___default()(styles.header, (_cx2 = {}, _defineProperty(_cx2, styles.headerEmpty, isEmpty), _defineProperty(_cx2, styles.headerHighContrast, highContrast && !isEmpty), _cx2))
  }, headerProps, {
    "data-test-id": "AccordianKeyValues--header"
  }), arrow, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("strong", {
    "data-test": _AccordianKeyValues_markers__WEBPACK_IMPORTED_MODULE_5__["LABEL"]
  }, label, isOpen || ':'), !isOpen && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](KeyValuesSummary, {
    data: data
  })), isOpen && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_KeyValuesTable__WEBPACK_IMPORTED_MODULE_6__["default"], {
    data: data,
    linksGetter: linksGetter
  }));
}
AccordianKeyValues.defaultProps = {
  className: null,
  highContrast: false,
  interactive: true,
  onToggle: null
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianLogs.tsx":
/*!********************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianLogs.tsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AccordianLogs; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/sortBy */ "./node_modules/lodash/sortBy.js");
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-down */ "./node_modules/react-icons/lib/io/ios-arrow-down.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-right */ "./node_modules/react-icons/lib/io/ios-arrow-right.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _AccordianKeyValues__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AccordianKeyValues */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianLogsFooter;\n      color: ", ";\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianLogsContent;\n      background: ", ";\n      border-top: 1px solid ", ";\n      padding: 0.5rem 0.5rem 0.25rem 0.5rem;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianLogsHeader;\n      background: ", ";\n      color: inherit;\n      display: block;\n      padding: 0.25rem 0.5rem;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianLogs;\n      border: 1px solid ", ";\n      position: relative;\n      margin-bottom: 0.25rem;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.









var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function (theme) {
  return {
    AccordianLogs: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#d8d8d8')),
    AccordianLogsHeader: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject2(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#e4e4e4'), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#dadada')),
    AccordianLogsContent: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#f0f0f0'), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#d8d8d8')),
    AccordianLogsFooter: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#999'))
  };
});
function AccordianLogs(props) {
  var interactive = props.interactive,
      isOpen = props.isOpen,
      linksGetter = props.linksGetter,
      logs = props.logs,
      openedItems = props.openedItems,
      onItemToggle = props.onItemToggle,
      onToggle = props.onToggle,
      timestamp = props.timestamp;
  var arrow = null;
  var HeaderComponent = 'span';
  var headerProps = null;

  if (interactive) {
    arrow = isOpen ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_2___default.a, {
      className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["uAlignIcon"]
    }) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_3___default.a, {
      className: "u-align-icon"
    });
    HeaderComponent = 'a';
    headerProps = {
      'aria-checked': isOpen,
      onClick: onToggle,
      role: 'switch'
    };
  }

  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: styles.AccordianLogs
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](HeaderComponent, _extends({
    className: styles.AccordianLogsHeader
  }, headerProps), arrow, " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("strong", null, "\u65E5\u5FD7"), " (", logs.length, ")"), isOpen && react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: styles.AccordianLogsContent
  }, lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default()(logs, 'timestamp').map(function (log, i) {
    return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_AccordianKeyValues__WEBPACK_IMPORTED_MODULE_5__["default"] // `i` is necessary in the key because timestamps can repeat
    , {
      key: "".concat(log.timestamp, "-").concat(i),
      className: i < logs.length - 1 ? _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["ubMb1"] : null,
      data: log.fields || [],
      highContrast: true,
      interactive: interactive,
      isOpen: openedItems ? openedItems.has(log) : false,
      label: "".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_6__["formatDuration"])(log.timestamp - timestamp)),
      linksGetter: linksGetter,
      onToggle: interactive && onItemToggle ? function () {
        return onItemToggle(log);
      } : null
    });
  }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("small", {
    className: styles.AccordianLogsFooter
  }, "\u65E5\u5FD7\u65F6\u95F4\u6233\u662F\u76F8\u5BF9\u4E8E\u5B8C\u6574\u8DDF\u8E2A\u7684\u5F00\u59CB\u65F6\u95F4\u7684\u3002")));
}
AccordianLogs.defaultProps = {
  interactive: true,
  linksGetter: undefined,
  onItemToggle: undefined,
  onToggle: undefined,
  openedItems: undefined
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianReferences.tsx":
/*!**************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianReferences.tsx ***!
  \**************************************************************************************************/
/*! exports provided: References, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "References", function() { return References; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AccordianReferences; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-down */ "./node_modules/react-icons/lib/io/ios-arrow-down.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-right */ "./node_modules/react-icons/lib/io/ios-arrow-right.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _url_ReferenceLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../url/ReferenceLink */ "./packages/jaeger-ui-components/src/url/ReferenceLink.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      margin: 0 5px 0 5px;\n      &::before {\n        color: #bbb;\n        content: attr(data-label);\n      }\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      letter-spacing: 0.25px;\n      margin: 0.5em 0 0;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      &:nth-child(2n) {\n        background: #f5f5f5;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      padding: 0.25rem 0.5rem;\n      display: flex;\n      width: 100%;\n      justify-content: space-between;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      background: #fff;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      background: #fff;\n      border: 1px solid #ddd;\n      margin-bottom: 0.7em;\n      max-height: 450px;\n      overflow: auto;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2019 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.








var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["createStyle"])(function () {
  return {
    ReferencesList: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    list: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    itemContent: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    item: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4()),
    debugInfo: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5()),
    debugLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6())
  };
});
// export for test
function References(props) {
  var data = props.data,
      focusSpan = props.focusSpan;
  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.ReferencesList)
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("ul", {
    className: styles.list
  }, data.map(function (reference) {
    return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", {
      className: styles.item,
      key: "".concat(reference.spanID)
    }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_url_ReferenceLink__WEBPACK_IMPORTED_MODULE_5__["default"], {
      reference: reference,
      focusSpan: focusSpan
    }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.itemContent
    }, reference.span ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: "span-svc-name"
    }, reference.span.process.serviceName), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("small", {
      className: "endpoint-name"
    }, reference.span.operationName)) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: "span-svc-name"
    }, "< \u8DE8\u5EA6\u53E6\u4E00\u4E2A\u8DDF\u8E2A >"), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("small", {
      className: styles.debugInfo
    }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.debugLabel,
      "data-label": "Reference Type:"
    }, reference.refType), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.debugLabel,
      "data-label": "SpanID:"
    }, reference.spanID)))));
  })));
}

var AccordianReferences =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(AccordianReferences, _React$PureComponent);

  function AccordianReferences() {
    _classCallCheck(this, AccordianReferences);

    return _possibleConstructorReturn(this, _getPrototypeOf(AccordianReferences).apply(this, arguments));
  }

  _createClass(AccordianReferences, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          data = _this$props.data,
          interactive = _this$props.interactive,
          isOpen = _this$props.isOpen,
          onToggle = _this$props.onToggle,
          focusSpan = _this$props.focusSpan;
      var isEmpty = !Array.isArray(data) || !data.length;
      var iconCls = _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_7__["uAlignIcon"];
      var arrow = null;
      var headerProps = null;

      if (interactive) {
        arrow = isOpen ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default.a, {
          className: iconCls
        }) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4___default.a, {
          className: iconCls
        });
        headerProps = {
          'aria-checked': isOpen,
          onClick: isEmpty ? null : onToggle,
          role: 'switch'
        };
      }

      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", headerProps, arrow, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("strong", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", null, "\u53C2\u8003\u6587\u732E")), ' ', "(", data.length, ")"), isOpen && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](References, {
        data: data,
        focusSpan: focusSpan
      }));
    }
  }]);

  return AccordianReferences;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

AccordianReferences.defaultProps = {
  highContrast: false,
  interactive: true,
  onToggle: null
};


/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianText.tsx":
/*!********************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianText.tsx ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AccordianText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-down */ "./node_modules/react-icons/lib/io/ios-arrow-down.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-right */ "./node_modules/react-icons/lib/io/ios-arrow-right.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _TextList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextList */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/TextList.tsx");
/* harmony import */ var _AccordianKeyValues__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AccordianKeyValues */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      cursor: pointer;\n      overflow: hidden;\n      padding: 0.25em 0.1em;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.









var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function (theme) {
  return {
    header: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#e8e8e8'))
  };
});

function DefaultTextComponent(_ref) {
  var data = _ref.data;
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TextList__WEBPACK_IMPORTED_MODULE_5__["default"], {
    data: data
  });
}

function AccordianText(props) {
  var className = props.className,
      data = props.data,
      headerClassName = props.headerClassName,
      interactive = props.interactive,
      isOpen = props.isOpen,
      label = props.label,
      onToggle = props.onToggle,
      _props$TextComponent = props.TextComponent,
      TextComponent = _props$TextComponent === void 0 ? DefaultTextComponent : _props$TextComponent;
  var isEmpty = !Array.isArray(data) || !data.length;
  var accordianKeyValuesStyles = Object(_AccordianKeyValues__WEBPACK_IMPORTED_MODULE_6__["getStyles"])(Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["useTheme"])());
  var iconCls = classnames__WEBPACK_IMPORTED_MODULE_2___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_8__["uAlignIcon"], _defineProperty({}, accordianKeyValuesStyles.emptyIcon, isEmpty));
  var arrow = null;
  var headerProps = null;

  if (interactive) {
    arrow = isOpen ? react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default.a, {
      className: iconCls
    }) : react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react_icons_lib_io_ios_arrow_right__WEBPACK_IMPORTED_MODULE_4___default.a, {
      className: iconCls
    });
    headerProps = {
      'aria-checked': isOpen,
      onClick: isEmpty ? null : onToggle,
      role: 'switch'
    };
  }

  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: className || ''
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.header, headerClassName)
  }, headerProps, {
    "data-test-id": "AccordianText--header"
  }), arrow, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("strong", null, label), " (", data.length, ")"), isOpen && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](TextComponent, {
    data: data
  }));
}
AccordianText.defaultProps = {
  className: null,
  highContrast: false,
  interactive: true,
  onToggle: null
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/DetailState.tsx":
/*!******************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/DetailState.tsx ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailState; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Which items of a {@link SpanDetail} component are expanded.
 */
var DetailState =
/*#__PURE__*/
function () {
  function DetailState(oldState) {
    _classCallCheck(this, DetailState);

    var _ref = oldState || {},
        isTagsOpen = _ref.isTagsOpen,
        isProcessOpen = _ref.isProcessOpen,
        isReferencesOpen = _ref.isReferencesOpen,
        isWarningsOpen = _ref.isWarningsOpen,
        isStackTracesOpen = _ref.isStackTracesOpen,
        logs = _ref.logs;

    this.isTagsOpen = Boolean(isTagsOpen);
    this.isProcessOpen = Boolean(isProcessOpen);
    this.isReferencesOpen = Boolean(isReferencesOpen);
    this.isWarningsOpen = Boolean(isWarningsOpen);
    this.isStackTracesOpen = Boolean(isStackTracesOpen);
    this.logs = {
      isOpen: Boolean(logs && logs.isOpen),
      openedItems: logs && logs.openedItems ? new Set(logs.openedItems) : new Set()
    };
  }

  _createClass(DetailState, [{
    key: "toggleTags",
    value: function toggleTags() {
      var next = new DetailState(this);
      next.isTagsOpen = !this.isTagsOpen;
      return next;
    }
  }, {
    key: "toggleProcess",
    value: function toggleProcess() {
      var next = new DetailState(this);
      next.isProcessOpen = !this.isProcessOpen;
      return next;
    }
  }, {
    key: "toggleReferences",
    value: function toggleReferences() {
      var next = new DetailState(this);
      next.isReferencesOpen = !this.isReferencesOpen;
      return next;
    }
  }, {
    key: "toggleWarnings",
    value: function toggleWarnings() {
      var next = new DetailState(this);
      next.isWarningsOpen = !this.isWarningsOpen;
      return next;
    }
  }, {
    key: "toggleStackTraces",
    value: function toggleStackTraces() {
      var next = new DetailState(this);
      next.isStackTracesOpen = !this.isStackTracesOpen;
      return next;
    }
  }, {
    key: "toggleLogs",
    value: function toggleLogs() {
      var next = new DetailState(this);
      next.logs.isOpen = !this.logs.isOpen;
      return next;
    }
  }, {
    key: "toggleLogItem",
    value: function toggleLogItem(logItem) {
      var next = new DetailState(this);

      if (next.logs.openedItems.has(logItem)) {
        next.logs.openedItems.delete(logItem);
      } else {
        next.logs.openedItems.add(logItem);
      }

      return next;
    }
  }]);

  return DetailState;
}();



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/KeyValuesTable.tsx":
/*!*********************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/KeyValuesTable.tsx ***!
  \*********************************************************************************************/
/*! exports provided: getStyles, LinkValue, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkValue", function() { return LinkValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KeyValuesTable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var json_markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! json-markup */ "./node_modules/json-markup/index.js");
/* harmony import */ var json_markup__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(json_markup__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _common_CopyIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/CopyIcon */ "./packages/jaeger-ui-components/src/common/CopyIcon.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: linkIcon;\n      vertical-align: middle;\n      font-weight: bold;\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: copyColumn;\n      text-align: right;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: keyColumn;\n      color: ", ";\n      white-space: pre;\n      width: 125px;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: row;\n      & > td {\n        padding: 0.25rem 0.5rem;\n        padding: 0.25rem 0.5rem;\n        vertical-align: top;\n      }\n      &:nth-child(2n) > td {\n        background: ", ";\n      }\n      &:not(:hover) .", " {\n        display: none;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: body;\n      vertical-align: baseline;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: KeyValueTable;\n      background: ", ";\n      border: 1px solid ", ";\n      margin-bottom: 0.7em;\n      max-height: 450px;\n      overflow: auto;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: copyIcon;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.








var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["createStyle"])(function (theme) {
  var copyIcon = Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject());
  return {
    KeyValueTable: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#fff'), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#ddd')),
    body: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3()),
    row: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#f5f5f5'), copyIcon),
    keyColumn: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject5(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["autoColor"])(theme, '#888')),
    copyColumn: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject6()),
    linkIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject7()),
    copyIcon: copyIcon
  };
});
var jsonObjectOrArrayStartRegex = /^(\[|\{)/;

function parseIfComplexJson(value) {
  // if the value is a string representing actual json object or array, then use json-markup
  if (typeof value === 'string' && jsonObjectOrArrayStartRegex.test(value)) {
    // otherwise just return as is
    try {
      return JSON.parse(value); // eslint-disable-next-line no-empty
    } catch (_) {}
  }

  return value;
}

var LinkValue = function LinkValue(props) {
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", {
    href: props.href,
    title: props.title,
    target: "_blank",
    rel: "noopener noreferrer"
  }, props.children, " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_5__["UIIcon"], {
    className: styles.linkIcon,
    type: "export"
  }));
};
LinkValue.defaultProps = {
  title: ''
};

var linkValueList = function linkValueList(links) {
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_5__["UIMenu"], null, links.map(function (_ref, index) {
    var text = _ref.text,
        url = _ref.url;
    return (// `index` is necessary in the key because url can repeat
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_5__["UIMenuItem"], {
        key: "".concat(url, "-").concat(index)
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](LinkValue, {
        href: url
      }, text))
    );
  }));
};

function KeyValuesTable(props) {
  var data = props.data,
      linksGetter = props.linksGetter;
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(styles.KeyValueTable),
    "data-test-id": "KeyValueTable"
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("table", {
    className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_7__["uWidth100"]
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("tbody", {
    className: styles.body
  }, data.map(function (row, i) {
    var markup = {
      __html: json_markup__WEBPACK_IMPORTED_MODULE_1___default()(parseIfComplexJson(row.value))
    };
    var jsonTable = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
      className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_7__["ubInlineBlock"],
      dangerouslySetInnerHTML: markup
    });
    var links = linksGetter ? linksGetter(data, i) : null;
    var valueMarkup;

    if (links && links.length === 1) {
      valueMarkup = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](LinkValue, {
        href: links[0].url,
        title: links[0].text
      }, jsonTable));
    } else if (links && links.length > 1) {
      valueMarkup = react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_5__["UIDropdown"], {
        overlay: linkValueList(links),
        placement: "bottomRight",
        trigger: ['click']
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", null, jsonTable, " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_5__["UIIcon"], {
        className: styles.linkIcon,
        type: "profile"
      }))));
    } else {
      valueMarkup = jsonTable;
    }

    return (// `i` is necessary in the key because row.key can repeat
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("tr", {
        className: styles.row,
        key: "".concat(row.key, "-").concat(i)
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("td", {
        className: styles.keyColumn,
        "data-test-id": "KeyValueTable--keyColumn"
      }, row.key), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("td", null, valueMarkup), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("td", {
        className: styles.copyColumn
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_common_CopyIcon__WEBPACK_IMPORTED_MODULE_4__["default"], {
        className: styles.copyIcon,
        copyText: JSON.stringify(row, null, 2),
        tooltipTitle: "Copy JSON"
      })))
    );
  }))));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/TextList.tsx":
/*!***************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/TextList.tsx ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      padding: 0.25rem 0.5rem;\n      vertical-align: top;\n      &:nth-child(2n) {\n        background: #f5f5f5;\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n      list-style: none;\n      padding: 0;\n      margin: 0;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      max-height: 450px;\n      overflow: auto;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["createStyle"])(function () {
  return {
    TextList: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    List: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    item: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3())
  };
});
function TextList(props) {
  var data = props.data;
  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.TextList),
    "data-test-id": "TextList"
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("ul", {
    className: styles.List
  }, data.map(function (row, i) {
    return (// `i` is necessary in the key because row.key can repeat
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", {
        className: styles.item,
        key: "".concat(i)
      }, row)
    );
  })));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/index.tsx":
/*!************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/index.tsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpanDetail; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _AccordianKeyValues__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AccordianKeyValues */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianKeyValues.tsx");
/* harmony import */ var _AccordianLogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AccordianLogs */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianLogs.tsx");
/* harmony import */ var _AccordianText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AccordianText */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianText.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx");
/* harmony import */ var _common_CopyIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/CopyIcon */ "./packages/jaeger-ui-components/src/common/CopyIcon.tsx");
/* harmony import */ var _common_LabeledList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/LabeledList */ "./packages/jaeger-ui-components/src/common/LabeledList.tsx");
/* harmony import */ var _AccordianReferences__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AccordianReferences */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/AccordianReferences.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n      word-break: break-all;\n      white-space: pre;\n    "]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianWarningsLabel;\n      color: ", ";\n    "]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianWarningsHeaderOpen;\n      border-bottom: 1px solid ", ";\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianWarningsHeader;\n      background: ", ";\n      padding: 0.25rem 0.5rem;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: AccordianWarnings;\n      background: ", ";\n      border: 1px solid ", ";\n      margin-bottom: 0.25rem;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: debugValue;\n      background-color: inherit;\n      border: none;\n      color: ", ";\n      cursor: pointer;\n      &:hover {\n        color: ", ";\n      }\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: debugLabel;\n      &::before {\n        color: ", ";\n        content: attr(data-label);\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: debugInfo;\n      display: block;\n      letter-spacing: 0.25px;\n      margin: 0.5em 0 -0.75em;\n      text-align: right;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: dividerVertical;\n      display: block;\n      height: 1px;\n      width: 100%;\n      margin: 24px 0;\n      clear: both;\n      vertical-align: middle;\n      position: relative;\n      top: -0.06em;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: divider;\n      background: ", ";\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.














var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["createStyle"])(function (theme) {
  return {
    divider: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#ddd')),
    dividerVertical: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    debugInfo: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    debugLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#bbb')),
    debugValue: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#888'), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#333')),
    AccordianWarnings: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#fafafa'), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#e4e4e4')),
    AccordianWarningsHeader: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject7(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#fff7e6'), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#ffe7ba')),
    AccordianWarningsHeaderOpen: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject8(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#e8e8e8')),
    AccordianWarningsLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject9(), Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["autoColor"])(theme, '#d36c08')),
    Textarea: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject10())
  };
});
function SpanDetail(props) {
  var detailState = props.detailState,
      linksGetter = props.linksGetter,
      logItemToggle = props.logItemToggle,
      logsToggle = props.logsToggle,
      processToggle = props.processToggle,
      span = props.span,
      tagsToggle = props.tagsToggle,
      traceStartTime = props.traceStartTime,
      warningsToggle = props.warningsToggle,
      stackTracesToggle = props.stackTracesToggle,
      referencesToggle = props.referencesToggle,
      focusSpan = props.focusSpan;
  var isTagsOpen = detailState.isTagsOpen,
      isProcessOpen = detailState.isProcessOpen,
      logsState = detailState.logs,
      isWarningsOpen = detailState.isWarningsOpen,
      isReferencesOpen = detailState.isReferencesOpen,
      isStackTracesOpen = detailState.isStackTracesOpen;
  var operationName = span.operationName,
      process = span.process,
      duration = span.duration,
      relativeStartTime = span.relativeStartTime,
      spanID = span.spanID,
      logs = span.logs,
      tags = span.tags,
      warnings = span.warnings,
      references = span.references,
      stackTraces = span.stackTraces;
  var overviewItems = [{
    key: 'svc',
    label: 'Service:',
    value: process.serviceName
  }, {
    key: 'duration',
    label: 'Duration:',
    value: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["formatDuration"])(duration)
  }, {
    key: 'start',
    label: 'Start Time:',
    value: Object(_utils__WEBPACK_IMPORTED_MODULE_6__["formatDuration"])(relativeStartTime)
  }];
  var deepLinkCopyText = "".concat(window.location.origin).concat(window.location.pathname, "?uiFind=").concat(spanID);
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_10__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubFlex"], _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubItemsCenter"])
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubFlexAuto"], _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubM0"])
  }, operationName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_LabeledList__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubTxRightAlign"],
    dividerClassName: styles.divider,
    items: overviewItems
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_11__["UIDivider"], {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.divider, styles.dividerVertical, _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubMy1"])
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianKeyValues__WEBPACK_IMPORTED_MODULE_3__["default"], {
    data: tags,
    label: "Tags",
    linksGetter: linksGetter,
    isOpen: isTagsOpen,
    onToggle: function onToggle() {
      return tagsToggle(spanID);
    }
  }), process.tags && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianKeyValues__WEBPACK_IMPORTED_MODULE_3__["default"], {
    className: _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_12__["ubMb1"],
    data: process.tags,
    label: "Process",
    linksGetter: linksGetter,
    isOpen: isProcessOpen,
    onToggle: function onToggle() {
      return processToggle(spanID);
    }
  })), logs && logs.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianLogs__WEBPACK_IMPORTED_MODULE_4__["default"], {
    linksGetter: linksGetter,
    logs: logs,
    isOpen: logsState.isOpen,
    openedItems: logsState.openedItems,
    onToggle: function onToggle() {
      return logsToggle(spanID);
    },
    onItemToggle: function onItemToggle(logItem) {
      return logItemToggle(spanID, logItem);
    },
    timestamp: traceStartTime
  }), warnings && warnings.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianText__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: styles.AccordianWarnings,
    headerClassName: styles.AccordianWarningsHeader,
    label: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: styles.AccordianWarningsLabel
    }, "Warnings"),
    data: warnings,
    isOpen: isWarningsOpen,
    onToggle: function onToggle() {
      return warningsToggle(spanID);
    }
  }), stackTraces && stackTraces.length && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianText__WEBPACK_IMPORTED_MODULE_5__["default"], {
    label: "Stack trace",
    data: stackTraces,
    isOpen: isStackTracesOpen,
    TextComponent: function TextComponent(textComponentProps) {
      var _textComponentProps$d;

      var text;

      if (((_textComponentProps$d = textComponentProps.data) === null || _textComponentProps$d === void 0 ? void 0 : _textComponentProps$d.length) > 1) {
        text = textComponentProps.data.map(function (stackTrace, index) {
          return "StackTrace ".concat(index + 1, ":\n").concat(stackTrace);
        }).join('\n');
      } else {
        var _textComponentProps$d2;

        text = (_textComponentProps$d2 = textComponentProps.data) === null || _textComponentProps$d2 === void 0 ? void 0 : _textComponentProps$d2[0];
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__["TextArea"], {
        className: styles.Textarea,
        style: {
          cursor: 'unset'
        },
        readOnly: true,
        cols: 10,
        rows: 10,
        value: text
      });
    },
    onToggle: function onToggle() {
      return stackTracesToggle(spanID);
    }
  }), references && references.length > 1 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AccordianReferences__WEBPACK_IMPORTED_MODULE_9__["default"], {
    data: references,
    isOpen: isReferencesOpen,
    onToggle: function onToggle() {
      return referencesToggle(spanID);
    },
    focusSpan: focusSpan
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("small", {
    className: styles.debugInfo
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: styles.debugLabel,
    "data-label": "SpanID:"
  }), " ", spanID, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common_CopyIcon__WEBPACK_IMPORTED_MODULE_7__["default"], {
    copyText: deepLinkCopyText,
    icon: "link",
    placement: "topRight",
    tooltipTitle: "Copy deep link to this span"
  }))));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetailRow.tsx":
/*!*********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetailRow.tsx ***!
  \*********************************************************************************/
/*! exports provided: UnthemedSpanDetailRow, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedSpanDetailRow", function() { return UnthemedSpanDetailRow; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _SpanDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SpanDetail */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/index.tsx");
/* harmony import */ var _SpanTreeOffset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SpanTreeOffset */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanTreeOffset.tsx");
/* harmony import */ var _TimelineRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TimelineRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineRow.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      background: ", ";\n      border: 1px solid ", ";\n      border-top: 3px solid;\n      padding: 0.75rem;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      cursor: pointer;\n      height: 100%;\n      overflow: hidden;\n      position: absolute;\n      width: 100%;\n      &::before {\n        border-left: 4px solid;\n        pointer-events: none;\n        width: 1000px;\n      }\n      &::after {\n        border-right: 1000px solid;\n        border-color: inherit;\n        cursor: pointer;\n        opacity: 0.2;\n      }\n\n      /* border-color inherit must come AFTER other border declarations for accent */\n      &::before,\n      &::after {\n        border-color: inherit;\n        content: ' ';\n        position: absolute;\n        height: 100%;\n      }\n\n      &:hover::after {\n        opacity: 0.35;\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.






var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["createStyle"])(function (theme) {
  return {
    expandedAccent: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    infoWrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, '#f5f5f5'), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, '#d3d3d3'))
  };
});
var UnthemedSpanDetailRow =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedSpanDetailRow, _React$PureComponent);

  function UnthemedSpanDetailRow() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UnthemedSpanDetailRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UnthemedSpanDetailRow)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this._detailToggle = function () {
      _this.props.onDetailToggled(_this.props.span.spanID);
    };

    _this._linksGetter = function (items, itemIndex) {
      var _this$props = _this.props,
          linksGetter = _this$props.linksGetter,
          span = _this$props.span;
      return linksGetter(span, items, itemIndex);
    };

    return _this;
  }

  _createClass(UnthemedSpanDetailRow, [{
    key: "render",
    value: function render() {
      var _this$props2 = this.props,
          color = _this$props2.color,
          columnDivision = _this$props2.columnDivision,
          detailState = _this$props2.detailState,
          logItemToggle = _this$props2.logItemToggle,
          logsToggle = _this$props2.logsToggle,
          processToggle = _this$props2.processToggle,
          referencesToggle = _this$props2.referencesToggle,
          warningsToggle = _this$props2.warningsToggle,
          stackTracesToggle = _this$props2.stackTracesToggle,
          span = _this$props2.span,
          tagsToggle = _this$props2.tagsToggle,
          traceStartTime = _this$props2.traceStartTime,
          focusSpan = _this$props2.focusSpan,
          hoverIndentGuideIds = _this$props2.hoverIndentGuideIds,
          addHoverIndentGuideId = _this$props2.addHoverIndentGuideId,
          removeHoverIndentGuideId = _this$props2.removeHoverIndentGuideId,
          theme = _this$props2.theme;
      var styles = getStyles(theme);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TimelineRow__WEBPACK_IMPORTED_MODULE_4__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TimelineRow__WEBPACK_IMPORTED_MODULE_4__["default"].Cell, {
        width: columnDivision
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SpanTreeOffset__WEBPACK_IMPORTED_MODULE_3__["default"], {
        span: span,
        showChildrenIcon: false,
        hoverIndentGuideIds: hoverIndentGuideIds,
        addHoverIndentGuideId: addHoverIndentGuideId,
        removeHoverIndentGuideId: removeHoverIndentGuideId
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: styles.expandedAccent,
        "aria-checked": "true",
        onClick: this._detailToggle,
        role: "switch",
        style: {
          borderColor: color
        },
        "data-test-id": "detail-row-expanded-accent"
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TimelineRow__WEBPACK_IMPORTED_MODULE_4__["default"].Cell, {
        width: 1 - columnDivision
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: styles.infoWrapper,
        style: {
          borderTopColor: color
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SpanDetail__WEBPACK_IMPORTED_MODULE_2__["default"], {
        detailState: detailState,
        linksGetter: this._linksGetter,
        logItemToggle: logItemToggle,
        logsToggle: logsToggle,
        processToggle: processToggle,
        referencesToggle: referencesToggle,
        warningsToggle: warningsToggle,
        stackTracesToggle: stackTracesToggle,
        span: span,
        tagsToggle: tagsToggle,
        traceStartTime: traceStartTime,
        focusSpan: focusSpan
      }))));
    }
  }]);

  return UnthemedSpanDetailRow;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["withTheme"])(UnthemedSpanDetailRow));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanTreeOffset.tsx":
/*!**********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanTreeOffset.tsx ***!
  \**********************************************************************************/
/*! exports provided: getStyles, UnthemedSpanTreeOffset, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedSpanTreeOffset", function() { return UnthemedSpanTreeOffset; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_chevron_right__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/chevron-right */ "./node_modules/react-icons/lib/io/chevron-right.js");
/* harmony import */ var react_icons_lib_io_chevron_right__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_chevron_right__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/lib/io/ios-arrow-down */ "./node_modules/react-icons/lib/io/ios-arrow-down.js");
/* harmony import */ var react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_span_ancestor_ids__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/span-ancestor-ids */ "./packages/jaeger-ui-components/src/utils/span-ancestor-ids.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: iconWrapper;\n      position: absolute;\n      right: 0.25rem;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: indentGuideActive;\n      border-color: ", ";\n      &::before {\n        background-color: transparent;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: indentGuide;\n      /* The size of the indentGuide is based off of the iconWrapper */\n      padding-right: calc(0.5rem + 12px);\n      height: 100%;\n      border-left: 3px solid transparent;\n      display: inline-flex;\n      &::before {\n        content: '';\n        padding-left: 1px;\n        background-color: ", ";\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: SpanTreeOffsetParent;\n      &:hover {\n        background-color: ", ";\n        cursor: pointer;\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: SpanTreeOffset;\n      color: ", ";\n      position: relative;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.








var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function (theme) {
  return {
    SpanTreeOffset: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#000')),
    SpanTreeOffsetParent: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject2(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, '#e8e8e8')),
    indentGuide: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, 'lightgrey')),
    indentGuideActive: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject4(), Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["autoColor"])(theme, 'darkgrey')),
    iconWrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject5())
  };
});
var UnthemedSpanTreeOffset =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedSpanTreeOffset, _React$PureComponent);

  function UnthemedSpanTreeOffset(props) {
    var _this;

    _classCallCheck(this, UnthemedSpanTreeOffset);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnthemedSpanTreeOffset).call(this, props));

    _this.handleMouseLeave = function (event, ancestorId) {
      if (!(event.relatedTarget instanceof HTMLSpanElement) || lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(event, 'relatedTarget.dataset.ancestorId') !== ancestorId) {
        _this.props.removeHoverIndentGuideId(ancestorId);
      }
    };

    _this.handleMouseEnter = function (event, ancestorId) {
      if (!(event.relatedTarget instanceof HTMLSpanElement) || lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(event, 'relatedTarget.dataset.ancestorId') !== ancestorId) {
        _this.props.addHoverIndentGuideId(ancestorId);
      }
    };

    _this.ancestorIds = Object(_utils_span_ancestor_ids__WEBPACK_IMPORTED_MODULE_6__["default"])(props.span); // Some traces have multiple root-level spans, this connects them all under one guideline and adds the
    // necessary padding for the collapse icon on root-level spans.

    _this.ancestorIds.push('root');

    _this.ancestorIds.reverse();

    return _this;
  }
  /**
   * If the mouse leaves to anywhere except another span with the same ancestor id, this span's ancestor id is
   * removed from the set of hoverIndentGuideIds.
   *
   * @param {Object} event - React Synthetic event tied to mouseleave. Includes the related target which is
   *     the element the user is now hovering.
   * @param {string} ancestorId - The span id that the user was hovering over.
   */


  _createClass(UnthemedSpanTreeOffset, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          childrenVisible = _this$props.childrenVisible,
          onClick = _this$props.onClick,
          showChildrenIcon = _this$props.showChildrenIcon,
          span = _this$props.span,
          theme = _this$props.theme;
      var hasChildren = span.hasChildren,
          spanID = span.spanID;
      var wrapperProps = hasChildren ? {
        onClick: onClick,
        role: 'switch',
        'aria-checked': childrenVisible
      } : null;
      var icon = showChildrenIcon && hasChildren && (childrenVisible ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_lib_io_ios_arrow_down__WEBPACK_IMPORTED_MODULE_3___default.a, null) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_lib_io_chevron_right__WEBPACK_IMPORTED_MODULE_2___default.a, null));
      var styles = getStyles(theme);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", _extends({
        className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(styles.SpanTreeOffset, _defineProperty({}, styles.SpanTreeOffsetParent, hasChildren))
      }, wrapperProps), this.ancestorIds.map(function (ancestorId) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
          key: ancestorId,
          className: classnames__WEBPACK_IMPORTED_MODULE_5___default()(styles.indentGuide, _defineProperty({}, styles.indentGuideActive, _this2.props.hoverIndentGuideIds.has(ancestorId))),
          "data-ancestor-id": ancestorId,
          "data-test-id": "SpanTreeOffset--indentGuide",
          onMouseEnter: function onMouseEnter(event) {
            return _this2.handleMouseEnter(event, ancestorId);
          },
          onMouseLeave: function onMouseLeave(event) {
            return _this2.handleMouseLeave(event, ancestorId);
          }
        });
      }), icon && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: styles.iconWrapper,
        onMouseEnter: function onMouseEnter(event) {
          return _this2.handleMouseEnter(event, spanID);
        },
        onMouseLeave: function onMouseLeave(event) {
          return _this2.handleMouseLeave(event, spanID);
        },
        "data-test-id": "icon-wrapper"
      }, icon));
    }
  }]);

  return UnthemedSpanTreeOffset;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);
UnthemedSpanTreeOffset.displayName = 'UnthemedSpanTreeOffset';
UnthemedSpanTreeOffset.defaultProps = {
  childrenVisible: false,
  showChildrenIcon: true
};
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["withTheme"])(UnthemedSpanTreeOffset));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/Ticks.tsx":
/*!*************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/Ticks.tsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Ticks; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: TicksTickLabelEndAnchor;\n      left: initial;\n      right: 0.25rem;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: TicksTickLabel;\n      left: 0.25rem;\n      position: absolute;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TicksTick;\n      position: absolute;\n      height: 100%;\n      width: 1px;\n      background: ", ";\n      &:last-child {\n        width: 0;\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: Ticks;\n      pointer-events: none;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["createStyle"])(function (theme) {
  return {
    Ticks: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    TicksTick: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["autoColor"])(theme, '#d8d8d8')),
    TicksTickLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    TicksTickLabelEndAnchor: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4())
  };
});
function Ticks(props) {
  var endTime = props.endTime,
      numTicks = props.numTicks,
      showLabels = props.showLabels,
      startTime = props.startTime;
  var labels;

  if (showLabels) {
    labels = [];
    var viewingDuration = (endTime || 0) - (startTime || 0);

    for (var i = 0; i < numTicks; i++) {
      var durationAtTick = (startTime || 0) + i / (numTicks - 1) * viewingDuration;
      labels.push(Object(_utils__WEBPACK_IMPORTED_MODULE_3__["formatDuration"])(durationAtTick));
    }
  }

  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["useTheme"])());
  var ticks = [];

  for (var _i = 0; _i < numTicks; _i++) {
    var portion = _i / (numTicks - 1);
    ticks.push(react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
      key: portion,
      className: styles.TicksTick,
      style: {
        left: "".concat(portion * 100, "%")
      }
    }, labels && react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.TicksTickLabel, _defineProperty({}, styles.TicksTickLabelEndAnchor, portion >= 1))
    }, labels[_i])));
  }

  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: styles.Ticks
  }, ticks);
}
Ticks.defaultProps = {
  endTime: null,
  showLabels: null,
  startTime: null
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineCollapser.tsx":
/*!*******************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineCollapser.tsx ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TimelineCollapser; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      transform: rotate(90deg);\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      color: rgba(0, 0, 0, 0.5);\n      cursor: pointer;\n      margin-right: 0.3rem;\n      padding: 0.1rem;\n      &:hover {\n        color: rgba(0, 0, 0, 0.85);\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      white-space: pre;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      align-items: center;\n      display: flex;\n      flex: none;\n      justify-content: center;\n      margin-right: 0.5rem;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      border-bottom: 1px solid #bbb;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["createStyle"])(function () {
  return {
    TraceTimelineViewer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    TimelineCollapser: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    tooltipTitle: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    btn: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4()),
    btnExpanded: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5())
  };
});

function getTitle(value) {
  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: styles.tooltipTitle
  }, value);
}

var TimelineCollapser =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(TimelineCollapser, _React$PureComponent);

  function TimelineCollapser(props) {
    var _this;

    _classCallCheck(this, TimelineCollapser);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TimelineCollapser).call(this, props));

    _this.getContainer = function () {
      return _this.containerRef.current || document.createElement('div');
    };

    _this.containerRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    return _this;
  } // TODO: Something less hacky than createElement to help TypeScript / AntD


  _createClass(TimelineCollapser, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          onExpandAll = _this$props.onExpandAll,
          onExpandOne = _this$props.onExpandOne,
          onCollapseAll = _this$props.onCollapseAll,
          onCollapseOne = _this$props.onCollapseOne;
      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: styles.TimelineCollapser,
        ref: this.containerRef,
        "data-test-id": "TimelineCollapser"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], {
        title: getTitle('Expand +1'),
        getPopupContainer: this.getContainer
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIIcon"], {
        type: "right",
        onClick: onExpandOne,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.btn, styles.btnExpanded)
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], {
        title: getTitle('Collapse +1'),
        getPopupContainer: this.getContainer
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIIcon"], {
        type: "right",
        onClick: onCollapseOne,
        className: styles.btn
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], {
        title: getTitle('Expand All'),
        getPopupContainer: this.getContainer
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIIcon"], {
        type: "double-right",
        onClick: onExpandAll,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.btn, styles.btnExpanded)
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UITooltip"], {
        title: getTitle('Collapse All'),
        getPopupContainer: this.getContainer
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_3__["UIIcon"], {
        type: "double-right",
        onClick: onCollapseAll,
        className: styles.btn
      })));
    }
  }]);

  return TimelineCollapser;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineColumnResizer.tsx":
/*!***********************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineColumnResizer.tsx ***!
  \***********************************************************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TimelineColumnResizer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/DraggableManager */ "./packages/jaeger-ui-components/src/utils/DraggableManager/index.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      &::before,\n      &::after {\n        border-right: 1px solid rgba(136, 0, 136, 0.5);\n      }\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      &::before,\n      &::after {\n        border-right: 1px solid #ccc;\n        content: ' ';\n        height: 9px;\n        position: absolute;\n        right: 9px;\n        top: 25px;\n      }\n      &::after {\n        right: 5px;\n      }\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      border-left: 1px solid #999;\n      border-right: 2px solid #808;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      border-left: 2px solid #808;\n      border-right: 1px solid #999;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      background: rgba(136, 0, 136, 0.05);\n      width: unset;\n      &::before {\n        left: -2000px;\n        right: -2000px;\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      border-left: 2px solid transparent;\n      cursor: col-resize;\n      height: 5000px;\n      margin-left: -1px;\n      position: absolute;\n      top: 0;\n      width: 1px;\n      z-index: 10;\n      &:hover {\n        border-left: 2px solid rgba(0, 0, 0, 0.3);\n      }\n      &::before {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: -8px;\n        right: 0;\n        content: ' ';\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      bottom: 0;\n      position: absolute;\n      top: 0;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["createStyle"])(function () {
  return {
    TimelineColumnResizer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    wrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    dragger: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    draggerDragging: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4()),
    draggerDraggingLeft: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5()),
    draggerDraggingRight: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6()),
    gripIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject7()),
    gripIconDragging: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject8())
  };
});

var TimelineColumnResizer =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(TimelineColumnResizer, _React$PureComponent);

  function TimelineColumnResizer(props) {
    var _this;

    _classCallCheck(this, TimelineColumnResizer);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TimelineColumnResizer).call(this, props));

    _this._setRootElm = function (elm) {
      _this._rootElm = elm;
    };

    _this._getDraggingBounds = function () {
      if (!_this._rootElm) {
        throw new Error('invalid state');
      }

      var _this$_rootElm$getBou = _this._rootElm.getBoundingClientRect(),
          clientXLeft = _this$_rootElm$getBou.left,
          width = _this$_rootElm$getBou.width;

      var _this$props = _this.props,
          min = _this$props.min,
          max = _this$props.max;
      return {
        clientXLeft: clientXLeft,
        width: width,
        maxValue: max,
        minValue: min
      };
    };

    _this._handleDragUpdate = function (_ref) {
      var value = _ref.value;

      _this.setState({
        dragPosition: value
      });
    };

    _this._handleDragEnd = function (_ref2) {
      var manager = _ref2.manager,
          value = _ref2.value;
      manager.resetBounds();

      _this.setState({
        dragPosition: null
      });

      _this.props.onChange(value);
    };

    _this._dragManager = new _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_3__["default"]({
      getBounds: _this._getDraggingBounds,
      onDragEnd: _this._handleDragEnd,
      onDragMove: _this._handleDragUpdate,
      onDragStart: _this._handleDragUpdate
    });
    _this._rootElm = undefined;
    _this.state = {
      dragPosition: null
    };
    return _this;
  }

  _createClass(TimelineColumnResizer, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._dragManager.dispose();
    }
  }, {
    key: "render",
    value: function render() {
      var left;
      var draggerStyle;
      var _this$props2 = this.props,
          position = _this$props2.position,
          columnResizeHandleHeight = _this$props2.columnResizeHandleHeight;
      var dragPosition = this.state.dragPosition;
      left = "".concat(position * 100, "%");
      var gripStyle = {
        left: left
      };
      var isDraggingLeft = false;
      var isDraggingRight = false;
      var styles = getStyles();

      if (this._dragManager.isDragging() && this._rootElm && dragPosition != null) {
        isDraggingLeft = dragPosition < position;
        isDraggingRight = dragPosition > position;
        left = "".concat(dragPosition * 100, "%"); // Draw a highlight from the current dragged position back to the original
        // position, e.g. highlight the change. Draw the highlight via `left` and
        // `right` css styles (simpler than using `width`).

        var draggerLeft = "".concat(Math.min(position, dragPosition) * 100, "%"); // subtract 1px for draggerRight to deal with the right border being off
        // by 1px when dragging left

        var draggerRight = "calc(".concat((1 - Math.max(position, dragPosition)) * 100, "% - 1px)");
        draggerStyle = {
          left: draggerLeft,
          right: draggerRight
        };
      } else {
        draggerStyle = gripStyle;
      }

      draggerStyle.height = columnResizeHandleHeight;
      var isDragging = isDraggingLeft || isDraggingRight;
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: styles.TimelineColumnResizer,
        ref: this._setRootElm,
        "data-test-id": "TimelineColumnResizer"
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.gripIcon, isDragging && styles.gripIconDragging),
        style: gripStyle,
        "data-test-id": "TimelineColumnResizer--gripIcon"
      }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        "aria-hidden": true,
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.dragger, isDragging && styles.draggerDragging, isDraggingRight && styles.draggerDraggingRight, isDraggingLeft && styles.draggerDraggingLeft),
        onMouseDown: this._dragManager.handleMouseDown,
        style: draggerStyle,
        "data-test-id": "TimelineColumnResizer--dragger"
      }));
    }
  }]);

  return TimelineColumnResizer;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineHeaderRow.tsx":
/*!*******************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineHeaderRow.tsx ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TimelineHeaderRow; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _TimelineCollapser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TimelineCollapser */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineCollapser.tsx");
/* harmony import */ var _TimelineColumnResizer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TimelineColumnResizer */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineColumnResizer.tsx");
/* harmony import */ var _TimelineViewingLayer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TimelineViewingLayer */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineViewingLayer.tsx");
/* harmony import */ var _Ticks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Ticks */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/Ticks.tsx");
/* harmony import */ var _TimelineRow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../TimelineRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineRow.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineHeaderWrapper;\n      align-items: center;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineHeaderRowTitle;\n      flex: 1;\n      overflow: hidden;\n      margin: 0;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineHeaderRow;\n      background: ", ";\n      border-bottom: 1px solid ", ";\n      height: 38px;\n      line-height: 38px;\n      width: 100%;\n      z-index: 4;\n      position: relative;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.










var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_8__["createStyle"])(function (theme) {
  return {
    TimelineHeaderRow: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_8__["autoColor"])(theme, '#ececec'), Object(_Theme__WEBPACK_IMPORTED_MODULE_8__["autoColor"])(theme, '#ccc')),
    TimelineHeaderRowTitle: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    TimelineHeaderWrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3())
  };
});
function TimelineHeaderRow(props) {
  var duration = props.duration,
      nameColumnWidth = props.nameColumnWidth,
      numTicks = props.numTicks,
      onCollapseAll = props.onCollapseAll,
      onCollapseOne = props.onCollapseOne,
      onColummWidthChange = props.onColummWidthChange,
      onExpandAll = props.onExpandAll,
      onExpandOne = props.onExpandOne,
      updateViewRangeTime = props.updateViewRangeTime,
      updateNextViewRangeTime = props.updateNextViewRangeTime,
      viewRangeTime = props.viewRangeTime,
      columnResizeHandleHeight = props.columnResizeHandleHeight;

  var _viewRangeTime$curren = _slicedToArray(viewRangeTime.current, 2),
      viewStart = _viewRangeTime$curren[0],
      viewEnd = _viewRangeTime$curren[1];

  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_8__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: styles.TimelineHeaderRow,
    "data-test-id": "TimelineHeaderRow"
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_7__["default"].Cell, {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_9__["ubFlex"], _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_9__["ubPx2"], styles.TimelineHeaderWrapper),
    width: nameColumnWidth
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("h4", {
    className: styles.TimelineHeaderRowTitle
  }, "Service & Operation"), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineCollapser__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onCollapseAll: onCollapseAll,
    onExpandAll: onExpandAll,
    onCollapseOne: onCollapseOne,
    onExpandOne: onExpandOne
  })), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineRow__WEBPACK_IMPORTED_MODULE_7__["default"].Cell, {
    width: 1 - nameColumnWidth
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineViewingLayer__WEBPACK_IMPORTED_MODULE_5__["default"], {
    boundsInvalidator: nameColumnWidth,
    updateNextViewRangeTime: updateNextViewRangeTime,
    updateViewRangeTime: updateViewRangeTime,
    viewRangeTime: viewRangeTime
  }), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_Ticks__WEBPACK_IMPORTED_MODULE_6__["default"], {
    numTicks: numTicks,
    startTime: viewStart * duration,
    endTime: viewEnd * duration,
    showLabels: true
  })), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_TimelineColumnResizer__WEBPACK_IMPORTED_MODULE_4__["default"], {
    columnResizeHandleHeight: columnResizeHandleHeight,
    position: nameColumnWidth,
    onChange: onColummWidthChange,
    min: 0.2,
    max: 0.85
  }));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineViewingLayer.tsx":
/*!**********************************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineViewingLayer.tsx ***!
  \**********************************************************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TimelineViewingLayer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/DraggableManager */ "./packages/jaeger-ui-components/src/utils/DraggableManager/index.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerFullOverlay;\n      bottom: 0;\n      cursor: col-resize;\n      left: 0;\n      position: fixed;\n      right: 0;\n      top: 0;\n      user-select: none;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerDraggedReframeDrag;\n      background-color: rgba(255, 68, 68, 0.2);\n      border-color: #f44;\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerDraggedShiftDrag;\n      background-color: rgba(68, 68, 255, 0.2);\n      border-color: #44f;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerDraggedDraggingRight;\n      border-right: 1px solid;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerDraggedDraggingLeft;\n      border-left: 1px solid;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerDragged;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayerCursorGuide;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      width: 1px;\n      background-color: red;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TimelineViewingLayer;\n      bottom: 0;\n      cursor: vertical-text;\n      left: 0;\n      position: absolute;\n      right: 0;\n      top: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



 // exported for testing

var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["createStyle"])(function () {
  return {
    TimelineViewingLayer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    TimelineViewingLayerCursorGuide: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    TimelineViewingLayerDragged: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    TimelineViewingLayerDraggedDraggingLeft: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4()),
    TimelineViewingLayerDraggedDraggingRight: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5()),
    TimelineViewingLayerDraggedShiftDrag: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6()),
    TimelineViewingLayerDraggedReframeDrag: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject7()),
    TimelineViewingLayerFullOverlay: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject8())
  };
});

function isOutOfView(layout) {
  return Reflect.has(layout, 'isOutOfView');
}
/**
 * Map from a sub range to the greater view range, e.g, when the view range is
 * the middle half ([0.25, 0.75]), a value of 0.25 befomes 3/8.
 * @returns {number}
 */


function mapFromViewSubRange(viewStart, viewEnd, value) {
  return viewStart + value * (viewEnd - viewStart);
}
/**
 * Map a value from the view ([0, 1]) to a sub-range, e.g, when the view range is
 * the middle half ([0.25, 0.75]), a value of 3/8 becomes 1/4.
 * @returns {number}
 */


function mapToViewSubRange(viewStart, viewEnd, value) {
  return (value - viewStart) / (viewEnd - viewStart);
}
/**
 * Get the layout for the "next" view range time, e.g. the difference from the
 * drag start and the drag end. This is driven by `shiftStart`, `shiftEnd` or
 * `reframe` on `props.viewRangeTime`, not by the current state of the
 * component. So, it reflects in-progress dragging from the span minimap.
 */


function getNextViewLayout(start, position) {
  var _ref = start < position ? [start, position] : [position, start],
      _ref2 = _slicedToArray(_ref, 2),
      left = _ref2[0],
      right = _ref2[1];

  if (left >= 1 || right <= 0) {
    return {
      isOutOfView: true
    };
  }

  if (left < 0) {
    left = 0;
  }

  if (right > 1) {
    right = 1;
  }

  return {
    isDraggingLeft: start > position,
    left: "".concat(left * 100, "%"),
    width: "".concat((right - left) * 100, "%")
  };
}
/**
 * Render the visual indication of the "next" view range.
 */


function getMarkers(viewStart, viewEnd, from, to, isShift) {
  var _cx;

  var mappedFrom = mapToViewSubRange(viewStart, viewEnd, from);
  var mappedTo = mapToViewSubRange(viewStart, viewEnd, to);
  var layout = getNextViewLayout(mappedFrom, mappedTo);

  if (isOutOfView(layout)) {
    return null;
  }

  var isDraggingLeft = layout.isDraggingLeft,
      left = layout.left,
      width = layout.width;
  var styles = getStyles();
  var cls = Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])((_cx = {}, _defineProperty(_cx, styles.TimelineViewingLayerDraggedDraggingRight, !isDraggingLeft), _defineProperty(_cx, styles.TimelineViewingLayerDraggedReframeDrag, !isShift), _defineProperty(_cx, styles.TimelineViewingLayerDraggedShiftDrag, isShift), _cx));
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])(styles.TimelineViewingLayerDragged, styles.TimelineViewingLayerDraggedDraggingLeft, cls),
    style: {
      left: left,
      width: width
    },
    "data-test-id": "Dragged"
  });
}
/**
 * `TimelineViewingLayer` is rendered on top of the TimelineHeaderRow time
 * labels; it handles showing the current view range and handles mouse UX for
 * modifying it.
 */


var TimelineViewingLayer =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(TimelineViewingLayer, _React$PureComponent);

  function TimelineViewingLayer(props) {
    var _this;

    _classCallCheck(this, TimelineViewingLayer);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TimelineViewingLayer).call(this, props));

    _this._setRoot = function (elm) {
      _this._root = elm;
    };

    _this._getDraggingBounds = function () {
      if (!_this._root) {
        throw new Error('invalid state');
      }

      var _this$_root$getBoundi = _this._root.getBoundingClientRect(),
          clientXLeft = _this$_root$getBoundi.left,
          width = _this$_root$getBoundi.width;

      return {
        clientXLeft: clientXLeft,
        width: width
      };
    };

    _this._handleReframeMouseMove = function (_ref3) {
      var value = _ref3.value;

      var _this$props$viewRange = _slicedToArray(_this.props.viewRangeTime.current, 2),
          viewStart = _this$props$viewRange[0],
          viewEnd = _this$props$viewRange[1];

      var cursor = mapFromViewSubRange(viewStart, viewEnd, value);

      _this.props.updateNextViewRangeTime({
        cursor: cursor
      });
    };

    _this._handleReframeMouseLeave = function () {
      _this.props.updateNextViewRangeTime({
        cursor: undefined
      });
    };

    _this._handleReframeDragUpdate = function (_ref4) {
      var value = _ref4.value;
      var _this$props$viewRange2 = _this.props.viewRangeTime,
          current = _this$props$viewRange2.current,
          reframe = _this$props$viewRange2.reframe;

      var _current = _slicedToArray(current, 2),
          viewStart = _current[0],
          viewEnd = _current[1];

      var shift = mapFromViewSubRange(viewStart, viewEnd, value);
      var anchor = reframe ? reframe.anchor : shift;
      var update = {
        reframe: {
          anchor: anchor,
          shift: shift
        }
      };

      _this.props.updateNextViewRangeTime(update);
    };

    _this._handleReframeDragEnd = function (_ref5) {
      var manager = _ref5.manager,
          value = _ref5.value;
      var _this$props$viewRange3 = _this.props.viewRangeTime,
          current = _this$props$viewRange3.current,
          reframe = _this$props$viewRange3.reframe;

      var _current2 = _slicedToArray(current, 2),
          viewStart = _current2[0],
          viewEnd = _current2[1];

      var shift = mapFromViewSubRange(viewStart, viewEnd, value);
      var anchor = reframe ? reframe.anchor : shift;

      var _ref6 = shift < anchor ? [shift, anchor] : [anchor, shift],
          _ref7 = _slicedToArray(_ref6, 2),
          start = _ref7[0],
          end = _ref7[1];

      manager.resetBounds();

      _this.props.updateViewRangeTime(start, end, 'timeline-header');
    };

    _this._draggerReframe = new _utils_DraggableManager__WEBPACK_IMPORTED_MODULE_2__["default"]({
      getBounds: _this._getDraggingBounds,
      onDragEnd: _this._handleReframeDragEnd,
      onDragMove: _this._handleReframeDragUpdate,
      onDragStart: _this._handleReframeDragUpdate,
      onMouseLeave: _this._handleReframeMouseLeave,
      onMouseMove: _this._handleReframeMouseMove
    });
    _this._root = undefined;
    return _this;
  }

  _createClass(TimelineViewingLayer, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var boundsInvalidator = this.props.boundsInvalidator;

      if (boundsInvalidator !== nextProps.boundsInvalidator) {
        this._draggerReframe.resetBounds();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this._draggerReframe.dispose();
    }
  }, {
    key: "render",
    value: function render() {
      var viewRangeTime = this.props.viewRangeTime;
      var current = viewRangeTime.current,
          cursor = viewRangeTime.cursor,
          reframe = viewRangeTime.reframe,
          shiftEnd = viewRangeTime.shiftEnd,
          shiftStart = viewRangeTime.shiftStart;

      var _current3 = _slicedToArray(current, 2),
          viewStart = _current3[0],
          viewEnd = _current3[1];

      var haveNextTimeRange = reframe != null || shiftEnd != null || shiftStart != null;
      var cusrorPosition;

      if (!haveNextTimeRange && cursor != null && cursor >= viewStart && cursor <= viewEnd) {
        cusrorPosition = "".concat(mapToViewSubRange(viewStart, viewEnd, cursor) * 100, "%");
      }

      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        "aria-hidden": true,
        className: styles.TimelineViewingLayer,
        ref: this._setRoot,
        onMouseDown: this._draggerReframe.handleMouseDown,
        onMouseLeave: this._draggerReframe.handleMouseLeave,
        onMouseMove: this._draggerReframe.handleMouseMove,
        "data-test-id": "TimelineViewingLayer"
      }, cusrorPosition != null && react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", {
        className: styles.TimelineViewingLayerCursorGuide,
        style: {
          left: cusrorPosition
        },
        "data-test-id": "TimelineViewingLayer--cursorGuide"
      }), reframe != null && getMarkers(viewStart, viewEnd, reframe.anchor, reframe.shift, false), shiftEnd != null && getMarkers(viewStart, viewEnd, viewEnd, shiftEnd, true), shiftStart != null && getMarkers(viewStart, viewEnd, viewStart, shiftStart, true));
    }
  }]);

  return TimelineViewingLayer;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/index.tsx":
/*!*******************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/index.tsx ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TimelineHeaderRow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TimelineHeaderRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/TimelineHeaderRow.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _TimelineHeaderRow__WEBPACK_IMPORTED_MODULE_0__["default"]; });

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineRow.tsx":
/*!*******************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineRow.tsx ***!
  \*******************************************************************************/
/*! exports provided: default, TimelineRowCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TimelineRow; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimelineRowCell", function() { return TimelineRowCell; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uberUtilityStyles__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../uberUtilityStyles */ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      flex: 0 1 auto;\n      flex-direction: row;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["createStyle"])(function () {
  return {
    flexRow: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())
  };
});
function TimelineRow(props) {
  var children = props.children,
      _props$className = props.className,
      className = _props$className === void 0 ? '' : _props$className,
      rest = _objectWithoutProperties(props, ["children", "className"]);

  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.flexRow, className)
  }, rest), children);
}
TimelineRow.defaultProps = {
  className: ''
};
function TimelineRowCell(props) {
  var children = props.children,
      _props$className2 = props.className,
      className = _props$className2 === void 0 ? '' : _props$className2,
      width = props.width,
      style = props.style,
      rest = _objectWithoutProperties(props, ["children", "className", "width", "style"]);

  var widthPercent = "".concat(width * 100, "%");

  var mergedStyle = _objectSpread({}, style, {
    flexBasis: widthPercent,
    maxWidth: widthPercent
  });

  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_uberUtilityStyles__WEBPACK_IMPORTED_MODULE_4__["ubRelative"], className),
    style: mergedStyle
  }, rest), children);
}
TimelineRowCell.defaultProps = {
  className: '',
  style: {}
};
TimelineRow.Cell = TimelineRowCell;

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/VirtualizedTraceView.tsx":
/*!****************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/VirtualizedTraceView.tsx ***!
  \****************************************************************************************/
/*! exports provided: DEFAULT_HEIGHTS, UnthemedVirtualizedTraceView, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_HEIGHTS", function() { return DEFAULT_HEIGHTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedVirtualizedTraceView", function() { return UnthemedVirtualizedTraceView; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _ListView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ListView */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/ListView/index.tsx");
/* harmony import */ var _SpanBarRow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SpanBarRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanBarRow.tsx");
/* harmony import */ var _SpanDetailRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SpanDetailRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetailRow.tsx");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx");
/* harmony import */ var _utils_color_generator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/color-generator */ "./packages/jaeger-ui-components/src/utils/color-generator.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.








var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["createStyle"])(function () {
  return {
    rowsWrapper: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    row: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2())
  };
});
// export for tests
var DEFAULT_HEIGHTS = {
  bar: 28,
  detail: 161,
  detailWithLogs: 197
};
var NUM_TICKS = 5;

function generateRowStates(spans, childrenHiddenIDs, detailStates) {
  if (!spans) {
    return [];
  }

  var collapseDepth = null;
  var rowStates = [];

  for (var i = 0; i < spans.length; i++) {
    var _span = spans[i];
    var _spanID2 = _span.spanID,
        depth = _span.depth;
    var hidden = false;

    if (collapseDepth != null) {
      if (depth >= collapseDepth) {
        hidden = true;
      } else {
        collapseDepth = null;
      }
    }

    if (hidden) {
      continue;
    }

    if (childrenHiddenIDs.has(_spanID2)) {
      collapseDepth = depth + 1;
    }

    rowStates.push({
      span: _span,
      isDetail: false,
      spanIndex: i
    });

    if (detailStates.has(_spanID2)) {
      rowStates.push({
        span: _span,
        isDetail: true,
        spanIndex: i
      });
    }
  }

  return rowStates;
}

function getClipping(currentViewRange) {
  var _currentViewRange = _slicedToArray(currentViewRange, 2),
      zoomStart = _currentViewRange[0],
      zoomEnd = _currentViewRange[1];

  return {
    left: zoomStart > 0,
    right: zoomEnd < 1
  };
} // export from tests


var UnthemedVirtualizedTraceView =
/*#__PURE__*/
function (_React$Component) {
  _inherits(UnthemedVirtualizedTraceView, _React$Component);

  function UnthemedVirtualizedTraceView(props) {
    var _this;

    _classCallCheck(this, UnthemedVirtualizedTraceView);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnthemedVirtualizedTraceView).call(this, props)); // keep "prop derivations" on the instance instead of calculating in
    // `.render()` to avoid recalculating in every invocation of `.renderRow()`

    _this.getViewRange = function () {
      return _this.props.currentViewRangeTime;
    };

    _this.getSearchedSpanIDs = function () {
      return _this.props.findMatchesIDs;
    };

    _this.getCollapsedChildren = function () {
      return _this.props.childrenHiddenIDs;
    };

    _this.mapRowIndexToSpanIndex = function (index) {
      return _this.rowStates[index].spanIndex;
    };

    _this.mapSpanIndexToRowIndex = function (index) {
      var max = _this.rowStates.length;

      for (var i = 0; i < max; i++) {
        var spanIndex = _this.rowStates[i].spanIndex;

        if (spanIndex === index) {
          return i;
        }
      }

      throw new Error("unable to find row for span index: ".concat(index));
    };

    _this.setListView = function (listView) {
      var isChanged = _this.listView !== listView;
      _this.listView = listView;

      if (listView && isChanged) {
        _this.props.registerAccessors(_this.getAccessors());
      }
    };

    _this.getKeyFromIndex = function (index) {
      var _this$rowStates$index = _this.rowStates[index],
          isDetail = _this$rowStates$index.isDetail,
          span = _this$rowStates$index.span;
      return "".concat(span.spanID, "--").concat(isDetail ? 'detail' : 'bar');
    };

    _this.getIndexFromKey = function (key) {
      var parts = key.split('--');
      var _spanID = parts[0];

      var _isDetail = parts[1] === 'detail';

      var max = _this.rowStates.length;

      for (var i = 0; i < max; i++) {
        var _this$rowStates$i = _this.rowStates[i],
            _span2 = _this$rowStates$i.span,
            isDetail = _this$rowStates$i.isDetail;

        if (_span2.spanID === _spanID && isDetail === _isDetail) {
          return i;
        }
      }

      return -1;
    };

    _this.getRowHeight = function (index) {
      var _this$rowStates$index2 = _this.rowStates[index],
          span = _this$rowStates$index2.span,
          isDetail = _this$rowStates$index2.isDetail;

      if (!isDetail) {
        return DEFAULT_HEIGHTS.bar;
      }

      if (Array.isArray(span.logs) && span.logs.length) {
        return DEFAULT_HEIGHTS.detailWithLogs;
      }

      return DEFAULT_HEIGHTS.detail;
    };

    _this.renderRow = function (key, style, index, attrs) {
      var _this$rowStates$index3 = _this.rowStates[index],
          isDetail = _this$rowStates$index3.isDetail,
          span = _this$rowStates$index3.span,
          spanIndex = _this$rowStates$index3.spanIndex;
      return isDetail ? _this.renderSpanDetailRow(span, key, style, attrs) : _this.renderSpanBarRow(span, spanIndex, key, style, attrs);
    };

    var currentViewRangeTime = props.currentViewRangeTime,
        childrenHiddenIDs = props.childrenHiddenIDs,
        detailStates = props.detailStates,
        setTrace = props.setTrace,
        trace = props.trace,
        uiFind = props.uiFind;
    _this.clipping = getClipping(currentViewRangeTime);

    var _currentViewRangeTime = _slicedToArray(currentViewRangeTime, 2),
        zoomStart = _currentViewRangeTime[0],
        zoomEnd = _currentViewRangeTime[1];

    _this.getViewedBounds = Object(_utils__WEBPACK_IMPORTED_MODULE_5__["createViewedBoundsFunc"])({
      min: trace.startTime,
      max: trace.endTime,
      viewStart: zoomStart,
      viewEnd: zoomEnd
    });
    _this.rowStates = generateRowStates(trace.spans, childrenHiddenIDs, detailStates);
    setTrace(trace, uiFind);
    return _this;
  }

  _createClass(UnthemedVirtualizedTraceView, [{
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate(nextProps) {
      // If any prop updates, VirtualizedTraceViewImpl should update.
      var nextPropKeys = Object.keys(nextProps);

      for (var i = 0; i < nextPropKeys.length; i += 1) {
        if (nextProps[nextPropKeys[i]] !== this.props[nextPropKeys[i]]) {
          // Unless the only change was props.shouldScrollToFirstUiFindMatch changing to false.
          if (nextPropKeys[i] === 'shouldScrollToFirstUiFindMatch') {
            if (nextProps[nextPropKeys[i]]) {
              return true;
            }
          } else {
            return true;
          }
        }
      }

      return false;
    }
  }, {
    key: "componentWillUpdate",
    value: function componentWillUpdate(nextProps) {
      var _this$props = this.props,
          childrenHiddenIDs = _this$props.childrenHiddenIDs,
          detailStates = _this$props.detailStates,
          registerAccessors = _this$props.registerAccessors,
          trace = _this$props.trace,
          currentViewRangeTime = _this$props.currentViewRangeTime;
      var nextViewRangeTime = nextProps.currentViewRangeTime,
          nextHiddenIDs = nextProps.childrenHiddenIDs,
          nextDetailStates = nextProps.detailStates,
          nextRegisterAccessors = nextProps.registerAccessors,
          setTrace = nextProps.setTrace,
          nextTrace = nextProps.trace,
          uiFind = nextProps.uiFind;

      if (trace !== nextTrace) {
        setTrace(nextTrace, uiFind);
      }

      if (trace !== nextTrace || childrenHiddenIDs !== nextHiddenIDs || detailStates !== nextDetailStates) {
        this.rowStates = nextTrace ? generateRowStates(nextTrace.spans, nextHiddenIDs, nextDetailStates) : [];
      }

      if (currentViewRangeTime !== nextViewRangeTime || trace !== nextTrace && nextTrace) {
        this.clipping = getClipping(nextViewRangeTime);

        var _nextViewRangeTime = _slicedToArray(nextViewRangeTime, 2),
            zoomStart = _nextViewRangeTime[0],
            zoomEnd = _nextViewRangeTime[1];

        this.getViewedBounds = Object(_utils__WEBPACK_IMPORTED_MODULE_5__["createViewedBoundsFunc"])({
          min: nextTrace.startTime,
          max: nextTrace.endTime,
          viewStart: zoomStart,
          viewEnd: zoomEnd
        });
      }

      if (this.listView && registerAccessors !== nextRegisterAccessors) {
        nextRegisterAccessors(this.getAccessors());
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      var _this$props2 = this.props,
          shouldScrollToFirstUiFindMatch = _this$props2.shouldScrollToFirstUiFindMatch,
          clearShouldScrollToFirstUiFindMatch = _this$props2.clearShouldScrollToFirstUiFindMatch,
          scrollToFirstVisibleSpan = _this$props2.scrollToFirstVisibleSpan;

      if (shouldScrollToFirstUiFindMatch) {
        scrollToFirstVisibleSpan();
        clearShouldScrollToFirstUiFindMatch();
      }
    }
  }, {
    key: "getAccessors",
    value: function getAccessors() {
      var lv = this.listView;

      if (!lv) {
        throw new Error('ListView unavailable');
      }

      return {
        getViewRange: this.getViewRange,
        getSearchedSpanIDs: this.getSearchedSpanIDs,
        getCollapsedChildren: this.getCollapsedChildren,
        getViewHeight: lv.getViewHeight,
        getBottomRowIndexVisible: lv.getBottomVisibleIndex,
        getTopRowIndexVisible: lv.getTopVisibleIndex,
        getRowPosition: lv.getRowPosition,
        mapRowIndexToSpanIndex: this.mapRowIndexToSpanIndex,
        mapSpanIndexToRowIndex: this.mapSpanIndexToRowIndex
      };
    }
  }, {
    key: "renderSpanBarRow",
    value: function renderSpanBarRow(span, spanIndex, key, style, attrs) {
      var spanID = span.spanID;
      var serviceName = span.process.serviceName;
      var _this$props3 = this.props,
          childrenHiddenIDs = _this$props3.childrenHiddenIDs,
          childrenToggle = _this$props3.childrenToggle,
          detailStates = _this$props3.detailStates,
          detailToggle = _this$props3.detailToggle,
          findMatchesIDs = _this$props3.findMatchesIDs,
          spanNameColumnWidth = _this$props3.spanNameColumnWidth,
          trace = _this$props3.trace,
          focusSpan = _this$props3.focusSpan,
          hoverIndentGuideIds = _this$props3.hoverIndentGuideIds,
          addHoverIndentGuideId = _this$props3.addHoverIndentGuideId,
          removeHoverIndentGuideId = _this$props3.removeHoverIndentGuideId,
          theme = _this$props3.theme; // to avert flow error

      if (!trace) {
        return null;
      }

      var color = Object(_utils_color_generator__WEBPACK_IMPORTED_MODULE_6__["getColorByKey"])(serviceName, theme);
      var isCollapsed = childrenHiddenIDs.has(spanID);
      var isDetailExpanded = detailStates.has(spanID);
      var isMatchingFilter = findMatchesIDs ? findMatchesIDs.has(spanID) : false;
      var showErrorIcon = Object(_utils__WEBPACK_IMPORTED_MODULE_5__["isErrorSpan"])(span) || isCollapsed && Object(_utils__WEBPACK_IMPORTED_MODULE_5__["spanContainsErredSpan"])(trace.spans, spanIndex); // Check for direct child "server" span if the span is a "client" span.

      var rpc = null;

      if (isCollapsed) {
        var rpcSpan = Object(_utils__WEBPACK_IMPORTED_MODULE_5__["findServerChildSpan"])(trace.spans.slice(spanIndex));

        if (rpcSpan) {
          var rpcViewBounds = this.getViewedBounds(rpcSpan.startTime, rpcSpan.startTime + rpcSpan.duration);
          rpc = {
            color: Object(_utils_color_generator__WEBPACK_IMPORTED_MODULE_6__["getColorByKey"])(rpcSpan.process.serviceName, theme),
            operationName: rpcSpan.operationName,
            serviceName: rpcSpan.process.serviceName,
            viewEnd: rpcViewBounds.end,
            viewStart: rpcViewBounds.start
          };
        }
      }

      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
        className: styles.row,
        key: key,
        style: style
      }, attrs), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SpanBarRow__WEBPACK_IMPORTED_MODULE_3__["default"], {
        clippingLeft: this.clipping.left,
        clippingRight: this.clipping.right,
        color: color,
        columnDivision: spanNameColumnWidth,
        isChildrenExpanded: !isCollapsed,
        isDetailExpanded: isDetailExpanded,
        isMatchingFilter: isMatchingFilter,
        numTicks: NUM_TICKS,
        onDetailToggled: detailToggle,
        onChildrenToggled: childrenToggle,
        rpc: rpc,
        showErrorIcon: showErrorIcon,
        getViewedBounds: this.getViewedBounds,
        traceStartTime: trace.startTime,
        span: span,
        focusSpan: focusSpan,
        hoverIndentGuideIds: hoverIndentGuideIds,
        addHoverIndentGuideId: addHoverIndentGuideId,
        removeHoverIndentGuideId: removeHoverIndentGuideId
      }));
    }
  }, {
    key: "renderSpanDetailRow",
    value: function renderSpanDetailRow(span, key, style, attrs) {
      var spanID = span.spanID;
      var serviceName = span.process.serviceName;
      var _this$props4 = this.props,
          detailLogItemToggle = _this$props4.detailLogItemToggle,
          detailLogsToggle = _this$props4.detailLogsToggle,
          detailProcessToggle = _this$props4.detailProcessToggle,
          detailReferencesToggle = _this$props4.detailReferencesToggle,
          detailWarningsToggle = _this$props4.detailWarningsToggle,
          detailStackTracesToggle = _this$props4.detailStackTracesToggle,
          detailStates = _this$props4.detailStates,
          detailTagsToggle = _this$props4.detailTagsToggle,
          detailToggle = _this$props4.detailToggle,
          spanNameColumnWidth = _this$props4.spanNameColumnWidth,
          trace = _this$props4.trace,
          focusSpan = _this$props4.focusSpan,
          hoverIndentGuideIds = _this$props4.hoverIndentGuideIds,
          addHoverIndentGuideId = _this$props4.addHoverIndentGuideId,
          removeHoverIndentGuideId = _this$props4.removeHoverIndentGuideId,
          linksGetter = _this$props4.linksGetter,
          theme = _this$props4.theme;
      var detailState = detailStates.get(spanID);

      if (!trace || !detailState) {
        return null;
      }

      var color = Object(_utils_color_generator__WEBPACK_IMPORTED_MODULE_6__["getColorByKey"])(serviceName, theme);
      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", _extends({
        className: styles.row,
        key: key,
        style: _objectSpread({}, style, {
          zIndex: 1
        })
      }, attrs), react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_SpanDetailRow__WEBPACK_IMPORTED_MODULE_4__["default"], {
        color: color,
        columnDivision: spanNameColumnWidth,
        onDetailToggled: detailToggle,
        detailState: detailState,
        linksGetter: linksGetter,
        logItemToggle: detailLogItemToggle,
        logsToggle: detailLogsToggle,
        processToggle: detailProcessToggle,
        referencesToggle: detailReferencesToggle,
        warningsToggle: detailWarningsToggle,
        stackTracesToggle: detailStackTracesToggle,
        span: span,
        tagsToggle: detailTagsToggle,
        traceStartTime: trace.startTime,
        focusSpan: focusSpan,
        hoverIndentGuideIds: hoverIndentGuideIds,
        addHoverIndentGuideId: addHoverIndentGuideId,
        removeHoverIndentGuideId: removeHoverIndentGuideId
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("div", null, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_ListView__WEBPACK_IMPORTED_MODULE_2__["default"], {
        ref: this.setListView,
        dataLength: this.rowStates.length,
        itemHeightGetter: this.getRowHeight,
        itemRenderer: this.renderRow,
        viewBuffer: 300,
        viewBufferMin: 100,
        itemsWrapperClassName: styles.rowsWrapper,
        getKeyFromIndex: this.getKeyFromIndex,
        getIndexFromKey: this.getIndexFromKey,
        windowScroller: true
      }));
    }
  }]);

  return UnthemedVirtualizedTraceView;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_7__["withTheme"])(UnthemedVirtualizedTraceView));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/index.tsx":
/*!*************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/index.tsx ***!
  \*************************************************************************/
/*! exports provided: UnthemedTraceTimelineViewer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnthemedTraceTimelineViewer", function() { return UnthemedTraceTimelineViewer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _TimelineHeaderRow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TimelineHeaderRow */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/TimelineHeaderRow/index.tsx");
/* harmony import */ var _VirtualizedTraceView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VirtualizedTraceView */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/VirtualizedTraceView.tsx");
/* harmony import */ var _keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../keyboard-shortcuts */ "./packages/jaeger-ui-components/src/keyboard-shortcuts.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _url_externalLinkContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../url/externalLinkContext */ "./packages/jaeger-ui-components/src/url/externalLinkContext.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TraceTimelineViewer;\n      border-bottom: 1px solid ", ";\n\n      & .json-markup {\n        line-height: 17px;\n        font-size: 13px;\n        font-family: monospace;\n        white-space: pre-wrap;\n      }\n\n      & .json-markup-key {\n        font-weight: bold;\n      }\n\n      & .json-markup-bool {\n        color: ", ";\n      }\n\n      & .json-markup-string {\n        color: ", ";\n      }\n\n      & .json-markup-null {\n        color: ", ";\n      }\n\n      & .json-markup-number {\n        color: ", ";\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.







var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["createStyle"])(function (theme) {
  return {
    TraceTimelineViewer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, '#bbb'), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, 'firebrick'), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, 'teal'), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, 'teal'), Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["autoColor"])(theme, 'blue', 'black'))
  };
});
var NUM_TICKS = 5;
/**
 * `TraceTimelineViewer` now renders the header row because it is sensitive to
 * `props.viewRange.time.cursor`. If `VirtualizedTraceView` renders it, it will
 * re-render the ListView every time the cursor is moved on the trace minimap
 * or `TimelineHeaderRow`.
 */

var UnthemedTraceTimelineViewer =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UnthemedTraceTimelineViewer, _React$PureComponent);

  function UnthemedTraceTimelineViewer(props) {
    var _this;

    _classCallCheck(this, UnthemedTraceTimelineViewer);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnthemedTraceTimelineViewer).call(this, props));

    _this.collapseAll = function () {
      _this.props.collapseAll(_this.props.trace.spans);
    };

    _this.collapseOne = function () {
      _this.props.collapseOne(_this.props.trace.spans);
    };

    _this.expandAll = function () {
      _this.props.expandAll();
    };

    _this.expandOne = function () {
      _this.props.expandOne(_this.props.trace.spans);
    };

    _this.state = {
      height: 0
    };
    return _this;
  }

  _createClass(UnthemedTraceTimelineViewer, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      Object(_keyboard_shortcuts__WEBPACK_IMPORTED_MODULE_4__["merge"])({
        collapseAll: this.collapseAll,
        expandAll: this.expandAll,
        collapseOne: this.collapseOne,
        expandOne: this.expandOne
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          setSpanNameColumnWidth = _this$props.setSpanNameColumnWidth,
          updateNextViewRangeTime = _this$props.updateNextViewRangeTime,
          updateViewRangeTime = _this$props.updateViewRangeTime,
          viewRange = _this$props.viewRange,
          createLinkToExternalSpan = _this$props.createLinkToExternalSpan,
          traceTimeline = _this$props.traceTimeline,
          theme = _this$props.theme,
          rest = _objectWithoutProperties(_this$props, ["setSpanNameColumnWidth", "updateNextViewRangeTime", "updateViewRangeTime", "viewRange", "createLinkToExternalSpan", "traceTimeline", "theme"]);

      var trace = rest.trace;
      var styles = getStyles(theme);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_url_externalLinkContext__WEBPACK_IMPORTED_MODULE_6__["default"].Provider, {
        value: createLinkToExternalSpan
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: styles.TraceTimelineViewer,
        ref: function ref(_ref) {
          return _ref && _this2.setState({
            height: _ref.getBoundingClientRect().height
          });
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TimelineHeaderRow__WEBPACK_IMPORTED_MODULE_2__["default"], {
        duration: trace.duration,
        nameColumnWidth: traceTimeline.spanNameColumnWidth,
        numTicks: NUM_TICKS,
        onCollapseAll: this.collapseAll,
        onCollapseOne: this.collapseOne,
        onColummWidthChange: setSpanNameColumnWidth,
        onExpandAll: this.expandAll,
        onExpandOne: this.expandOne,
        viewRangeTime: viewRange.time,
        updateNextViewRangeTime: updateNextViewRangeTime,
        updateViewRangeTime: updateViewRangeTime,
        columnResizeHandleHeight: this.state.height
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_VirtualizedTraceView__WEBPACK_IMPORTED_MODULE_3__["default"], _extends({}, rest, traceTimeline, {
        setSpanNameColumnWidth: setSpanNameColumnWidth,
        currentViewRangeTime: viewRange.time.current
      }))));
    }
  }]);

  return UnthemedTraceTimelineViewer;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);
/* harmony default export */ __webpack_exports__["default"] = (Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["withTheme"])(UnthemedTraceTimelineViewer));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/types.tsx":
/*!*************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/types.tsx ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx":
/*!*************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/TraceTimelineViewer/utils.tsx ***!
  \*************************************************************************/
/*! exports provided: createViewedBoundsFunc, spanHasTag, isClientSpan, isServerSpan, isErrorSpan, spanContainsErredSpan, findServerChildSpan, formatDuration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createViewedBoundsFunc", function() { return createViewedBoundsFunc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spanHasTag", function() { return spanHasTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClientSpan", function() { return isClientSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isServerSpan", function() { return isServerSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isErrorSpan", function() { return isErrorSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "spanContainsErredSpan", function() { return spanContainsErredSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findServerChildSpan", function() { return findServerChildSpan; });
/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/date */ "./packages/jaeger-ui-components/src/utils/date.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "formatDuration", function() { return _utils_date__WEBPACK_IMPORTED_MODULE_0__["formatDuration"]; });

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Given a range (`min`, `max`) and factoring in a zoom (`viewStart`, `viewEnd`)
 * a function is created that will find the position of a sub-range (`start`, `end`).
 * The calling the generated method will return the result as a `{ start, end }`
 * object with values ranging in [0, 1].
 *
 * @param  {number} min       The start of the outer range.
 * @param  {number} max       The end of the outer range.
 * @param  {number} viewStart The start of the zoom, on a range of [0, 1],
 *                            relative to the `min`, `max`.
 * @param  {number} viewEnd   The end of the zoom, on a range of [0, 1],
 *                            relative to the `min`, `max`.
 * @returns {(number, number) => Object} Created view bounds function
 */
function createViewedBoundsFunc(viewRange) {
  var min = viewRange.min,
      max = viewRange.max,
      viewStart = viewRange.viewStart,
      viewEnd = viewRange.viewEnd;
  var duration = max - min;
  var viewMin = min + viewStart * duration;
  var viewMax = max - (1 - viewEnd) * duration;
  var viewWindow = viewMax - viewMin;
  /**
   * View bounds function
   * @param  {number} start     The start of the sub-range.
   * @param  {number} end       The end of the sub-range.
   * @return {Object}           The resultant range.
   */

  return function (start, end) {
    return {
      start: (start - viewMin) / viewWindow,
      end: (end - viewMin) / viewWindow
    };
  };
}
/**
 * Returns `true` if the `span` has a tag matching `key` = `value`.
 *
 * @param  {string} key   The tag key to match on.
 * @param  {any}    value The tag value to match.
 * @param  {{tags}} span  An object with a `tags` property of { key, value }
 *                        items.
 * @return {boolean}      True if a match was found.
 */

function spanHasTag(key, value, span) {
  if (!Array.isArray(span.tags) || !span.tags.length) {
    return false;
  }

  return span.tags.some(function (tag) {
    return tag.key === key && tag.value === value;
  });
}
var isClientSpan = spanHasTag.bind(null, 'span.kind', 'client');
var isServerSpan = spanHasTag.bind(null, 'span.kind', 'server');
var isErrorBool = spanHasTag.bind(null, 'error', true);
var isErrorStr = spanHasTag.bind(null, 'error', 'true');
var isErrorSpan = function isErrorSpan(span) {
  return isErrorBool(span) || isErrorStr(span);
};
/**
 * Returns `true` if at least one of the descendants of the `parentSpanIndex`
 * span contains an error tag.
 *
 * @param      {TraceSpan[]}   spans            The spans for a trace - should be
 *                                         sorted with children following parents.
 * @param      {number}   parentSpanIndex  The index of the parent span - only
 *                                         subsequent spans with depth less than
 *                                         the parent span will be checked.
 * @return     {boolean}  Returns `true` if a descendant contains an error tag.
 */

function spanContainsErredSpan(spans, parentSpanIndex) {
  var depth = spans[parentSpanIndex].depth;
  var i = parentSpanIndex + 1;

  for (; i < spans.length && spans[i].depth > depth; i++) {
    if (isErrorSpan(spans[i])) {
      return true;
    }
  }

  return false;
}
/**
 * Expects the first span to be the parent span.
 */

function findServerChildSpan(spans) {
  if (spans.length <= 1 || !isClientSpan(spans[0])) {
    return false;
  }

  var span = spans[0];
  var spanChildDepth = span.depth + 1;
  var i = 1;

  while (i < spans.length && spans[i].depth === spanChildDepth) {
    if (isServerSpan(spans[i])) {
      return spans[i];
    }

    i++;
  }

  return null;
}


/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/BreakableText.tsx":
/*!********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/BreakableText.tsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BreakableText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: BreakableText;\n      display: inline-block;\n      white-space: pre;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_2__["createStyle"])(function () {
  return {
    BreakableText: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())
  };
});
var WORD_RX = /\W*\w+\W*/g;
// TODO typescript doesn't understand text or null as react nodes
// https://github.com/Microsoft/TypeScript/issues/21699
function BreakableText(props)
/* React.ReactNode /* React.ReactElement | React.ReactElement[] \*\/ */
{
  var className = props.className,
      text = props.text,
      _props$wordRegexp = props.wordRegexp,
      wordRegexp = _props$wordRegexp === void 0 ? WORD_RX : _props$wordRegexp;

  if (!text) {
    return typeof text === 'string' ? text : null;
  }

  var spans = [];
  wordRegexp.exec(''); // if the given text has no words, set the first match to the entire text

  var match = wordRegexp.exec(text) || [text];

  while (match) {
    spans.push(react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      key: "".concat(text, "-").concat(spans.length),
      className: className || getStyles().BreakableText
    }, match[0]));
    match = wordRegexp.exec(text);
  }

  return spans;
}
BreakableText.defaultProps = {
  wordRegexp: WORD_RX
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/CopyIcon.tsx":
/*!***************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/CopyIcon.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CopyIcon; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! copy-to-clipboard */ "./packages/jaeger-ui-components/node_modules/copy-to-clipboard/index.js");
/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      background-color: transparent;\n      border: none;\n      color: inherit;\n      height: 100%;\n      overflow: hidden;\n      padding: 0px;\n      &:focus {\n        background-color: rgba(255, 255, 255, 0.25);\n        color: inherit;\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.






var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_5__["createStyle"])(function () {
  return {
    CopyIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())
  };
});

var CopyIcon =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(CopyIcon, _React$PureComponent);

  function CopyIcon() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, CopyIcon);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CopyIcon)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      hasCopied: false
    };

    _this.handleClick = function () {
      _this.setState({
        hasCopied: true
      });

      copy_to_clipboard__WEBPACK_IMPORTED_MODULE_3___default()(_this.props.copyText);
    };

    _this.handleTooltipVisibilityChange = function (visible) {
      if (!visible && _this.state.hasCopied) {
        _this.setState({
          hasCopied: false
        });
      }
    };

    return _this;
  }

  _createClass(CopyIcon, [{
    key: "render",
    value: function render() {
      var styles = getStyles();
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_4__["UITooltip"], {
        arrowPointAtCenter: true,
        mouseLeaveDelay: 0.5,
        onVisibleChange: this.handleTooltipVisibilityChange,
        placement: this.props.placement,
        title: this.state.hasCopied ? 'Copied' : this.props.tooltipTitle
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_4__["UIButton"], {
        className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.CopyIcon, this.props.className),
        htmlType: "button",
        icon: this.props.icon,
        onClick: this.handleClick
      }));
    }
  }]);

  return CopyIcon;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

CopyIcon.defaultProps = {
  className: undefined,
  icon: 'copy',
  placement: 'left'
};


/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/ExternalLinks.tsx":
/*!********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/ExternalLinks.tsx ***!
  \********************************************************************/
/*! exports provided: linkValueList, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linkValueList", function() { return linkValueList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ExternalLinks; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! .. */ "./packages/jaeger-ui-components/src/index.ts");
/* harmony import */ var _NewWindowIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NewWindowIcon */ "./packages/jaeger-ui-components/src/common/NewWindowIcon.tsx");
// Copyright (c) 2019 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var LinkValue = function LinkValue(props) {
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", {
    href: props.href,
    title: props.title,
    target: "_blank",
    rel: "noopener noreferrer",
    className: props.className
  }, props.children, " ", react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_NewWindowIcon__WEBPACK_IMPORTED_MODULE_2__["default"], null));
}; // export for testing


var linkValueList = function linkValueList(links) {
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](___WEBPACK_IMPORTED_MODULE_1__["UIMenu"], null, links.map(function (_ref, index) {
    var text = _ref.text,
        url = _ref.url;
    return (// `index` is necessary in the key because url can repeat
      react__WEBPACK_IMPORTED_MODULE_0__["createElement"](___WEBPACK_IMPORTED_MODULE_1__["UIMenuItem"], {
        key: "".concat(url, "-").concat(index)
      }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](LinkValue, {
        href: url
      }, text))
    );
  }));
};
function ExternalLinks(props) {
  var links = props.links;

  if (links.length === 1) {
    return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](LinkValue, {
      href: links[0].url,
      title: links[0].text,
      className: props.className
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](___WEBPACK_IMPORTED_MODULE_1__["UIDropdown"], {
    overlay: linkValueList(links),
    placement: "bottomRight",
    trigger: ['click']
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("a", {
    className: props.className
  }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_NewWindowIcon__WEBPACK_IMPORTED_MODULE_2__["default"], {
    isLarge: true
  })));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/LabeledList.tsx":
/*!******************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/LabeledList.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LabeledList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: LabeledListLabel;\n      color: ", ";\n      margin-right: 0.25rem;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: LabeledListItem;\n      display: inline-block;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: LabeledList;\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["createStyle"])(function (theme) {
  return {
    LabeledList: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    LabeledListItem: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    LabeledListLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3(), Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["isLight"])(theme) ? '#999' : '#666')
  };
});
function LabeledList(props) {
  var className = props.className,
      dividerClassName = props.dividerClassName,
      items = props.items;
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("ul", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.LabeledList, className)
  }, items.map(function (_ref, i) {
    var key = _ref.key,
        label = _ref.label,
        value = _ref.value;
    var divider = i < items.length - 1 && react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", {
      className: styles.LabeledListItem,
      key: "".concat(key, "--divider")
    }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_4__["UIDivider"], {
      className: dividerClassName,
      type: "vertical"
    }));
    return [react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("li", {
      className: styles.LabeledListItem,
      key: key
    }, react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
      className: styles.LabeledListLabel
    }, label), react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("strong", null, value)), divider];
  }));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/LoadingIndicator.tsx":
/*!***********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/LoadingIndicator.tsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingIndicator; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: LoadingIndicatorSmall;\n      font-size: 0.7em;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: LoadingIndicatorCentered;\n      display: block;\n      margin-left: auto;\n      margin-right: auto;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: LoadingIndicator;\n      animation: ", " 1s infinite alternate;\n      font-size: 36px;\n      /* outline / stroke the loading indicator */\n      text-shadow: -0.5px 0 rgba(0, 128, 128, 0.6), 0 0.5px rgba(0, 128, 128, 0.6), 0.5px 0 rgba(0, 128, 128, 0.6),\n        0 -0.5px rgba(0, 128, 128, 0.6);\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    /*\n    rgb(0, 128, 128) == teal\n    rgba(0, 128, 128, 0.3) == #bedfdf\n    */\n    from {\n      color: #bedfdf;\n    }\n    to {\n      color: teal;\n    }\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_3__["createStyle"])(function () {
  var LoadingIndicatorColorAnim = Object(emotion__WEBPACK_IMPORTED_MODULE_2__["keyframes"])(_templateObject());
  return {
    LoadingIndicator: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2(), LoadingIndicatorColorAnim),
    LoadingIndicatorCentered: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3()),
    LoadingIndicatorSmall: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject4())
  };
});
function LoadingIndicator(props) {
  var _cx;

  var centered = props.centered,
      className = props.className,
      small = props.small,
      rest = _objectWithoutProperties(props, ["centered", "className", "small"]);

  var styles = getStyles();
  var cls = classnames__WEBPACK_IMPORTED_MODULE_1___default()(styles.LoadingIndicator, (_cx = {}, _defineProperty(_cx, styles.LoadingIndicatorCentered, centered), _defineProperty(_cx, styles.LoadingIndicatorSmall, small), _defineProperty(_cx, "className", className), _cx));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_uiElementsContext__WEBPACK_IMPORTED_MODULE_4__["UIIcon"], _extends({
    type: "loading",
    className: cls
  }, rest));
}
LoadingIndicator.defaultProps = {
  centered: false,
  className: undefined,
  small: false
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/NewWindowIcon.tsx":
/*!********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/NewWindowIcon.tsx ***!
  \********************************************************************/
/*! exports provided: getStyles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getStyles", function() { return getStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NewWindowIcon; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_lib_io_android_open__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-icons/lib/io/android-open */ "./node_modules/react-icons/lib/io/android-open.js");
/* harmony import */ var react_icons_lib_io_android_open__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_icons_lib_io_android_open__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: NewWindowIconLarge;\n      font-size: 1.5em;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2018 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.





var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_4__["createStyle"])(function () {
  return {
    NewWindowIconLarge: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject())
  };
});
function NewWindowIcon(props) {
  var isLarge = props.isLarge,
      className = props.className,
      rest = _objectWithoutProperties(props, ["isLarge", "className"]);

  var styles = getStyles();
  var cls = classnames__WEBPACK_IMPORTED_MODULE_1___default()(_defineProperty({}, styles.NewWindowIconLarge, isLarge), className);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_lib_io_android_open__WEBPACK_IMPORTED_MODULE_2___default.a, _extends({
    className: cls
  }, rest));
}
NewWindowIcon.defaultProps = {
  isLarge: false
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/TraceName.tsx":
/*!****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/TraceName.tsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TraceName; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _BreakableText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BreakableText */ "./packages/jaeger-ui-components/src/common/BreakableText.tsx");
/* harmony import */ var _LoadingIndicator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LoadingIndicator */ "./packages/jaeger-ui-components/src/common/LoadingIndicator.tsx");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./packages/jaeger-ui-components/src/constants/index.tsx");
/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: TraceNameError;\n      color: #c00;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: TraceName;\n      font-size: ", ";\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.







var getStyles = Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["createStyle"])(function (theme) {
  var _theme$components, _theme$components$Tra;

  return {
    TraceName: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["safeSize"])((_theme$components = theme.components) === null || _theme$components === void 0 ? void 0 : (_theme$components$Tra = _theme$components.TraceName) === null || _theme$components$Tra === void 0 ? void 0 : _theme$components$Tra.fontSize, 'unset')),
    TraceNameError: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2())
  };
});
function TraceName(props) {
  var className = props.className,
      error = props.error,
      state = props.state,
      traceName = props.traceName;
  var isErred = state === _constants__WEBPACK_IMPORTED_MODULE_5__["fetchedState"].ERROR;
  var title = traceName || _constants__WEBPACK_IMPORTED_MODULE_5__["FALLBACK_TRACE_NAME"];
  var styles = getStyles(Object(_Theme__WEBPACK_IMPORTED_MODULE_6__["useTheme"])());
  var errorCssClass = '';

  if (isErred) {
    errorCssClass = styles.TraceNameError;
    var titleStr = '';

    if (error) {
      titleStr = typeof error === 'string' ? error : error.message || String(error);
    }

    if (!titleStr) {
      titleStr = 'Error: Unknown error';
    }

    title = titleStr;
    title = react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_BreakableText__WEBPACK_IMPORTED_MODULE_3__["default"], {
      text: titleStr
    });
  } else if (state === _constants__WEBPACK_IMPORTED_MODULE_5__["fetchedState"].LOADING) {
    title = react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_LoadingIndicator__WEBPACK_IMPORTED_MODULE_4__["default"], {
      small: true
    });
  } else {
    var text = String(traceName || _constants__WEBPACK_IMPORTED_MODULE_5__["FALLBACK_TRACE_NAME"]);
    title = react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_BreakableText__WEBPACK_IMPORTED_MODULE_3__["default"], {
      text: text
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0__["createElement"]("span", {
    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(styles.TraceName, errorCssClass, className)
  }, title);
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/common/UiFindInput.tsx":
/*!******************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/common/UiFindInput.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UiFindInput; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



var UiFindInput =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(UiFindInput, _React$PureComponent);

  function UiFindInput() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UiFindInput);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UiFindInput)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.clearUiFind = function () {
      _this.props.onChange('');
    };

    return _this;
  }

  _createClass(UiFindInput, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          allowClear = _this$props.allowClear,
          inputProps = _this$props.inputProps,
          value = _this$props.value;
      var suffix = react__WEBPACK_IMPORTED_MODULE_0__["createElement"](react__WEBPACK_IMPORTED_MODULE_0__["Fragment"], null, allowClear && value && value.length && react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_1__["UIIcon"], {
        type: "close",
        onClick: this.clearUiFind
      }), inputProps.suffix);
      return react__WEBPACK_IMPORTED_MODULE_0__["createElement"](_uiElementsContext__WEBPACK_IMPORTED_MODULE_1__["UIInput"], _extends({
        autosize: null,
        placeholder: "Find..."
      }, inputProps, {
        onChange: function onChange(e) {
          return _this2.props.onChange(e.target.value);
        },
        suffix: suffix,
        value: value
      }));
    }
  }]);

  return UiFindInput;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

UiFindInput.defaultProps = {
  inputProps: {},
  trackFindFunction: undefined,
  value: undefined
};


/***/ }),

/***/ "./packages/jaeger-ui-components/src/constants/default-config.tsx":
/*!************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/constants/default-config.tsx ***!
  \************************************************************************/
/*! exports provided: default, deprecations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deprecations", function() { return deprecations; });
/* harmony import */ var deep_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! deep-freeze */ "./node_modules/deep-freeze/index.js");
/* harmony import */ var deep_freeze__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(deep_freeze__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ "./packages/jaeger-ui-components/src/constants/index.tsx");
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


/* harmony default export */ __webpack_exports__["default"] = (deep_freeze__WEBPACK_IMPORTED_MODULE_0___default()(Object.defineProperty({
  archiveEnabled: false,
  dependencies: {
    dagMaxNumServices: _index__WEBPACK_IMPORTED_MODULE_1__["FALLBACK_DAG_MAX_NUM_SERVICES"],
    menuEnabled: true
  },
  linkPatterns: [],
  menu: [{
    label: 'About Jaeger',
    items: [{
      label: 'GitHub',
      url: 'https://github.com/uber/jaeger'
    }, {
      label: 'Docs',
      url: 'http://jaeger.readthedocs.io/en/latest/'
    }, {
      label: 'Twitter',
      url: 'https://twitter.com/JaegerTracing'
    }, {
      label: 'Discussion Group',
      url: 'https://groups.google.com/forum/#!forum/jaeger-tracing'
    }, {
      label: 'Gitter.im',
      url: 'https://gitter.im/jaegertracing/Lobby'
    }, {
      label: 'Blog',
      url: 'https://medium.com/jaegertracing/'
    }]
  }],
  search: {
    maxLookback: {
      label: '2 Days',
      value: '2d'
    },
    maxLimit: 1500
  },
  tracking: {
    gaID: null,
    trackErrors: true
  }
}, // fields that should be individually merged vs wholesale replaced
'__mergeFields', {
  value: ['dependencies', 'search', 'tracking']
})));
var deprecations = [{
  formerKey: 'dependenciesMenuEnabled',
  currentKey: 'dependencies.menuEnabled'
}, {
  formerKey: 'gaTrackingID',
  currentKey: 'tracking.gaID'
}];

/***/ }),

/***/ "./packages/jaeger-ui-components/src/constants/index.tsx":
/*!***************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/constants/index.tsx ***!
  \***************************************************************/
/*! exports provided: TOP_NAV_HEIGHT, FALLBACK_DAG_MAX_NUM_SERVICES, FALLBACK_TRACE_NAME, FETCH_DONE, FETCH_ERROR, FETCH_LOADING, fetchedState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOP_NAV_HEIGHT", function() { return TOP_NAV_HEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FALLBACK_DAG_MAX_NUM_SERVICES", function() { return FALLBACK_DAG_MAX_NUM_SERVICES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FALLBACK_TRACE_NAME", function() { return FALLBACK_TRACE_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_DONE", function() { return FETCH_DONE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_ERROR", function() { return FETCH_ERROR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FETCH_LOADING", function() { return FETCH_LOADING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fetchedState", function() { return fetchedState; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var TOP_NAV_HEIGHT = 46;
var FALLBACK_DAG_MAX_NUM_SERVICES = 100;
var FALLBACK_TRACE_NAME = '<trace-without-root-span>';
var FETCH_DONE = 'FETCH_DONE';
var FETCH_ERROR = 'FETCH_ERROR';
var FETCH_LOADING = 'FETCH_LOADING';
var fetchedState = {
  DONE: FETCH_DONE,
  ERROR: FETCH_ERROR,
  LOADING: FETCH_LOADING
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/index.ts":
/*!****************************************************!*\
  !*** ./packages/jaeger-ui-components/src/index.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TraceTimelineViewer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TraceTimelineViewer */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TraceTimelineViewer", function() { return _TraceTimelineViewer__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _TracePageHeader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TracePageHeader */ "./packages/jaeger-ui-components/src/TracePageHeader/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TracePageHeader", function() { return _TracePageHeader__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uiElementsContext */ "./packages/jaeger-ui-components/src/uiElementsContext.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIElementsContext", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIPopover", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIPopover"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UITooltip", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UITooltip"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIIcon", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIDropdown", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIDropdown"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIMenu", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIMenuItem", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIMenuItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIButton", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIDivider", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIDivider"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIInput", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIInputGroup", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["UIInputGroup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GetElementsContext", function() { return _uiElementsContext__WEBPACK_IMPORTED_MODULE_2__["GetElementsContext"]; });

/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ "./packages/jaeger-ui-components/src/types/index.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TTraceTimeline", function() { return _types__WEBPACK_IMPORTED_MODULE_3__["TTraceTimeline"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TNil", function() { return _types__WEBPACK_IMPORTED_MODULE_3__["TNil"]; });

/* harmony import */ var _TraceTimelineViewer_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TraceTimelineViewer/types */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/types.tsx");
/* harmony import */ var _TraceTimelineViewer_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_TraceTimelineViewer_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _TraceTimelineViewer_types__WEBPACK_IMPORTED_MODULE_4__) if(["TraceTimelineViewer","TracePageHeader","UIElementsContext","DetailState","transformTraceData","filterSpans","UIPopover","UITooltip","UIIcon","UIDropdown","UIMenu","UIMenuItem","UIButton","UIDivider","UIInput","UIInputGroup","default","GetElementsContext","TTraceTimeline","TNil","default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _TraceTimelineViewer_types__WEBPACK_IMPORTED_MODULE_4__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _TraceTimelineViewer_SpanDetail_DetailState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TraceTimelineViewer/SpanDetail/DetailState */ "./packages/jaeger-ui-components/src/TraceTimelineViewer/SpanDetail/DetailState.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DetailState", function() { return _TraceTimelineViewer_SpanDetail_DetailState__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _model_transform_trace_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model/transform-trace-data */ "./packages/jaeger-ui-components/src/model/transform-trace-data.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "transformTraceData", function() { return _model_transform_trace_data__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _utils_filter_spans__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/filter-spans */ "./packages/jaeger-ui-components/src/utils/filter-spans.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "filterSpans", function() { return _utils_filter_spans__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Theme */ "./packages/jaeger-ui-components/src/Theme.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeType", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["ThemeType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultTheme", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["defaultTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "isLight", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["isLight"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeProvider", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["ThemeProvider"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ThemeConsumer", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["ThemeConsumer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "withTheme", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["withTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "useTheme", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["useTheme"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createStyle", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["createStyle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "autoColor", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["autoColor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "safeSize", function() { return _Theme__WEBPACK_IMPORTED_MODULE_8__["safeSize"]; });

/* harmony import */ var recompose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! recompose */ "./node_modules/recompose/es/Recompose.js");











/* harmony default export */ __webpack_exports__["default"] = ({
  onlyUpdateForKeys: recompose__WEBPACK_IMPORTED_MODULE_9__["onlyUpdateForKeys"]
});

/***/ }),

/***/ "./packages/jaeger-ui-components/src/keyboard-mappings.tsx":
/*!*****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/keyboard-mappings.tsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var keyboardMappings = {
  scrollPageDown: {
    binding: 's',
    label: 'Scroll down'
  },
  scrollPageUp: {
    binding: 'w',
    label: 'Scroll up'
  },
  scrollToNextVisibleSpan: {
    binding: 'f',
    label: 'Scroll to the next visible span'
  },
  scrollToPrevVisibleSpan: {
    binding: 'b',
    label: 'Scroll to the previous visible span'
  },
  panLeft: {
    binding: ['a', 'left'],
    label: 'Pan left'
  },
  panLeftFast: {
    binding: ['shift+a', 'shift+left'],
    label: 'Pan left  Large'
  },
  panRight: {
    binding: ['d', 'right'],
    label: 'Pan right'
  },
  panRightFast: {
    binding: ['shift+d', 'shift+right'],
    label: 'Pan right  Large'
  },
  zoomIn: {
    binding: 'up',
    label: 'Zoom in'
  },
  zoomInFast: {
    binding: 'shift+up',
    label: 'Zoom in  Large'
  },
  zoomOut: {
    binding: 'down',
    label: 'Zoom out'
  },
  zoomOutFast: {
    binding: 'shift+down',
    label: 'Zoom out  Large'
  },
  collapseAll: {
    binding: ']',
    label: 'Collapse All'
  },
  expandAll: {
    binding: '[',
    label: 'Expand All'
  },
  collapseOne: {
    binding: 'p',
    label: 'Collapse One Level'
  },
  expandOne: {
    binding: 'o',
    label: 'Expand One Level'
  },
  searchSpans: {
    binding: 'ctrl+b',
    label: 'Search Spans'
  },
  clearSearch: {
    binding: 'escape',
    label: 'Clear Search'
  }
};
/* harmony default export */ __webpack_exports__["default"] = (keyboardMappings);

/***/ }),

/***/ "./packages/jaeger-ui-components/src/keyboard-shortcuts.tsx":
/*!******************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/keyboard-shortcuts.tsx ***!
  \******************************************************************/
/*! exports provided: merge, reset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "merge", function() { return merge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });
/* harmony import */ var combokeys__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! combokeys */ "./node_modules/combokeys/Combokeys/index.js");
/* harmony import */ var combokeys__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(combokeys__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _keyboard_mappings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keyboard-mappings */ "./packages/jaeger-ui-components/src/keyboard-mappings.tsx");
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


var instance;

function getInstance() {
  if (instance) {
    return instance;
  }

  var local = new combokeys__WEBPACK_IMPORTED_MODULE_0___default.a(document.body);
  instance = local;
  return local;
}

function merge(callbacks) {
  var inst = getInstance();
  Object.keys(callbacks).forEach(function (name) {
    var keysHandler = callbacks[name];

    if (keysHandler) {
      inst.bind(_keyboard_mappings__WEBPACK_IMPORTED_MODULE_1__["default"][name].binding, keysHandler);
    }
  });
}
function reset() {
  var combokeys = getInstance();
  combokeys.reset();
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/model/link-patterns.tsx":
/*!*******************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/model/link-patterns.tsx ***!
  \*******************************************************************/
/*! exports provided: processTemplate, createTestFunction, processLinkPattern, getParameterInArray, getParameterInAncestor, computeTraceLink, computeLinks, createGetLinks, getTraceLinks, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "processTemplate", function() { return processTemplate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTestFunction", function() { return createTestFunction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "processLinkPattern", function() { return processLinkPattern; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParameterInArray", function() { return getParameterInArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParameterInAncestor", function() { return getParameterInAncestor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "computeTraceLink", function() { return computeTraceLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "computeLinks", function() { return computeLinks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGetLinks", function() { return createGetLinks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceLinks", function() { return getTraceLinks; });
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/uniq */ "./node_modules/lodash/uniq.js");
/* harmony import */ var lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_uniq__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lru_memoize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lru-memoize */ "./node_modules/lru-memoize/dist/lru-memoize.es.js");
/* harmony import */ var _utils_config_get_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/config/get-config */ "./packages/jaeger-ui-components/src/utils/config/get-config.tsx");
/* harmony import */ var _span__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./span */ "./packages/jaeger-ui-components/src/model/span.tsx");
// Copyright (c) 2017 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




var parameterRegExp = /#\{([^{}]*)\}/g;

function getParamNames(str) {
  var names = new Set();
  str.replace(parameterRegExp, function (match, name) {
    names.add(name);
    return match;
  });
  return Array.from(names);
}

function stringSupplant(str, encodeFn, map) {
  return str.replace(parameterRegExp, function (_, name) {
    var value = map[name];
    return value == null ? '' : encodeFn(value);
  });
}

function processTemplate(template, encodeFn) {
  if (typeof template !== 'string') {
    /*
     // kept on ice until #123 is implemented:
    if (template && Array.isArray(template.parameters) && (typeof template.template === 'function')) {
      return template;
    }
     */
    throw new Error('Invalid template');
  }

  return {
    parameters: getParamNames(template),
    template: stringSupplant.bind(null, template, encodeFn)
  };
}
function createTestFunction(entry) {
  if (typeof entry === 'string') {
    return function (arg) {
      return arg === entry;
    };
  }

  if (Array.isArray(entry)) {
    return function (arg) {
      return entry.indexOf(arg) > -1;
    };
  }
  /*
   // kept on ice until #123 is implemented:
  if (entry instanceof RegExp) {
    return (arg: any) => entry.test(arg);
  }
  if (typeof entry === 'function') {
    return entry;
  }
   */


  if (entry == null) {
    return function () {
      return true;
    };
  }

  throw new Error("Invalid value: ".concat(entry));
}

var identity = function identity(a) {
  return a;
};

function processLinkPattern(pattern) {
  try {
    var url = processTemplate(pattern.url, encodeURIComponent);
    var text = processTemplate(pattern.text, identity);
    return {
      object: pattern,
      type: createTestFunction(pattern.type),
      key: createTestFunction(pattern.key),
      value: createTestFunction(pattern.value),
      url: url,
      text: text,
      parameters: lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default()(url.parameters.concat(text.parameters))
    };
  } catch (error) {
    // eslint-disable-next-line no-console
    console.error("Ignoring invalid link pattern: ".concat(error), pattern);
    return null;
  }
}
function getParameterInArray(name, array) {
  if (array) {
    return array.find(function (entry) {
      return entry.key === name;
    });
  }

  return undefined;
}
function getParameterInAncestor(name, span) {
  var currentSpan = span;

  while (currentSpan) {
    var result = getParameterInArray(name, currentSpan.tags) || getParameterInArray(name, currentSpan.process.tags);

    if (result) {
      return result;
    }

    currentSpan = Object(_span__WEBPACK_IMPORTED_MODULE_3__["getParent"])(currentSpan);
  }

  return undefined;
}

function callTemplate(template, data) {
  return template.template(data);
}

function computeTraceLink(linkPatterns, trace) {
  var result = [];
  var validKeys = Object.keys(trace).filter(function (key) {
    return typeof trace[key] === 'string' || trace[key] === 'number';
  });
  linkPatterns.filter(function (pattern) {
    return pattern.type('traces');
  }).forEach(function (pattern) {
    var parameterValues = {};
    var allParameters = pattern.parameters.every(function (parameter) {
      var key = parameter;

      if (validKeys.includes(key)) {
        // At this point is safe to access to trace object using parameter variable because
        // we validated parameter against validKeys, this implies that parameter a keyof Trace.
        parameterValues[parameter] = trace[key];
        return true;
      }

      return false;
    });

    if (allParameters) {
      result.push({
        url: callTemplate(pattern.url, parameterValues),
        text: callTemplate(pattern.text, parameterValues)
      });
    }
  });
  return result;
}
function computeLinks(linkPatterns, span, items, itemIndex) {
  var item = items[itemIndex];
  var type = 'logs';
  var processTags = span.process.tags === items;

  if (processTags) {
    type = 'process';
  }

  var spanTags = span.tags === items;

  if (spanTags) {
    type = 'tags';
  }

  var result = [];
  linkPatterns.forEach(function (pattern) {
    if (pattern.type(type) && pattern.key(item.key) && pattern.value(item.value)) {
      var parameterValues = {};
      var allParameters = pattern.parameters.every(function (parameter) {
        var entry = getParameterInArray(parameter, items);

        if (!entry && !processTags) {
          // do not look in ancestors for process tags because the same object may appear in different places in the hierarchy
          // and the cache in getLinks uses that object as a key
          entry = getParameterInAncestor(parameter, span);
        }

        if (entry) {
          parameterValues[parameter] = entry.value;
          return true;
        } // eslint-disable-next-line no-console


        console.warn("Skipping link pattern, missing parameter ".concat(parameter, " for key ").concat(item.key, " in ").concat(type, "."), pattern.object);
        return false;
      });

      if (allParameters) {
        result.push({
          url: callTemplate(pattern.url, parameterValues),
          text: callTemplate(pattern.text, parameterValues)
        });
      }
    }
  });
  return result;
}
function createGetLinks(linkPatterns, cache) {
  return function (span, items, itemIndex) {
    if (linkPatterns.length === 0) {
      return [];
    }

    var item = items[itemIndex];
    var result = cache.get(item);

    if (!result) {
      result = computeLinks(linkPatterns, span, items, itemIndex);
      cache.set(item, result);
    }

    return result;
  };
}
var processedLinks = (Object(_utils_config_get_config__WEBPACK_IMPORTED_MODULE_2__["getConfigValue"])('linkPatterns') || []).map(processLinkPattern).filter(Boolean);
var getTraceLinks = Object(lru_memoize__WEBPACK_IMPORTED_MODULE_1__["default"])(10)(function (trace) {
  var result = [];

  if (!trace) {
    return result;
  }

  return computeTraceLink(processedLinks, trace);
});
/* harmony default export */ __webpack_exports__["default"] = (createGetLinks(processedLinks, new WeakMap()));

/***/ }),

/***/ "./packages/jaeger-ui-components/src/model/span.tsx":
/*!**********************************************************!*\
  !*** ./packages/jaeger-ui-components/src/model/span.tsx ***!
  \**********************************************************/
/*! exports provided: getParent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParent", function() { return getParent; });
// Copyright (c) 2017 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Searches the span.references to find 'CHILD_OF' reference type or returns null.
 * @param  {TraceSpan} span The span whose parent is to be returned.
 * @return {TraceSpan|null} The parent span if there is one, null otherwise.
 */
function getParent(span) {
  var parentRef = span.references ? span.references.find(function (ref) {
    return ref.refType === 'CHILD_OF';
  }) : null;
  return parentRef ? parentRef.span : null;
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/model/trace-viewer.ts":
/*!*****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/model/trace-viewer.ts ***!
  \*****************************************************************/
/*! exports provided: getTraceName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceName", function() { return getTraceName; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
function getTraceName(spans) {
  var span = spans.filter(function (sp) {
    return !sp.references || !sp.references.length;
  })[0];
  return span ? "".concat(span.process.serviceName, ": ").concat(span.operationName) : '';
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/model/transform-trace-data.tsx":
/*!**************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/model/transform-trace-data.tsx ***!
  \**************************************************************************/
/*! exports provided: deduplicateTags, orderTags, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deduplicateTags", function() { return deduplicateTags; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "orderTags", function() { return orderTags; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return transformTraceData; });
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/isEqual */ "./node_modules/lodash/isEqual.js");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _selectors_trace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../selectors/trace */ "./packages/jaeger-ui-components/src/selectors/trace.js");
/* harmony import */ var _utils_config_get_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/config/get-config */ "./packages/jaeger-ui-components/src/utils/config/get-config.tsx");
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
 // @ts-ignore



// exported for tests
function deduplicateTags(spanTags) {
  var warningsHash = new Map();
  var tags = spanTags.reduce(function (uniqueTags, tag) {
    if (!uniqueTags.some(function (t) {
      return t.key === tag.key && t.value === tag.value;
    })) {
      uniqueTags.push(tag);
    } else {
      warningsHash.set("".concat(tag.key, ":").concat(tag.value), "Duplicate tag \"".concat(tag.key, ":").concat(tag.value, "\""));
    }

    return uniqueTags;
  }, []);
  var warnings = Array.from(warningsHash.values());
  return {
    tags: tags,
    warnings: warnings
  };
} // exported for tests

function orderTags(spanTags, topPrefixes) {
  var orderedTags = spanTags.slice();
  var tp = (topPrefixes || []).map(function (p) {
    return p.toLowerCase();
  });
  orderedTags.sort(function (a, b) {
    var aKey = a.key.toLowerCase();
    var bKey = b.key.toLowerCase();

    for (var i = 0; i < tp.length; i++) {
      var p = tp[i];

      if (aKey.startsWith(p) && !bKey.startsWith(p)) {
        return -1;
      }

      if (!aKey.startsWith(p) && bKey.startsWith(p)) {
        return 1;
      }
    }

    if (aKey > bKey) {
      return 1;
    }

    if (aKey < bKey) {
      return -1;
    }

    return 0;
  });
  return orderedTags;
}
/**
 * NOTE: Mutates `data` - Transform the HTTP response data into the form the app
 * generally requires.
 */

function transformTraceData(data) {
  var traceID = data.traceID;

  if (!traceID) {
    return null;
  }

  traceID = traceID.toLowerCase();
  var traceEndTime = 0;
  var traceStartTime = Number.MAX_SAFE_INTEGER;
  var spanIdCounts = new Map();
  var spanMap = new Map(); // filter out spans with empty start times
  // eslint-disable-next-line no-param-reassign

  data.spans = data.spans.filter(function (span) {
    return Boolean(span.startTime);
  });
  var max = data.spans.length;

  for (var i = 0; i < max; i++) {
    var span = data.spans[i];
    var startTime = span.startTime,
        duration = span.duration,
        processID = span.processID; //

    var spanID = span.spanID; // check for start / end time for the trace

    if (startTime < traceStartTime) {
      traceStartTime = startTime;
    }

    if (startTime + duration > traceEndTime) {
      traceEndTime = startTime + duration;
    } // make sure span IDs are unique


    var idCount = spanIdCounts.get(spanID);

    if (idCount != null) {
      // eslint-disable-next-line no-console
      console.warn("Dupe spanID, ".concat(idCount + 1, " x ").concat(spanID), span, spanMap.get(spanID));

      if (lodash_isEqual__WEBPACK_IMPORTED_MODULE_0___default()(span, spanMap.get(spanID))) {
        // eslint-disable-next-line no-console
        console.warn('\t two spans with same ID have `isEqual(...) === true`');
      }

      spanIdCounts.set(spanID, idCount + 1);
      spanID = "".concat(spanID, "_").concat(idCount);
      span.spanID = spanID;
    } else {
      spanIdCounts.set(spanID, 1);
    }

    span.process = data.processes[processID];
    spanMap.set(spanID, span);
  } // tree is necessary to sort the spans, so children follow parents, and
  // siblings are sorted by start time


  var tree = Object(_selectors_trace__WEBPACK_IMPORTED_MODULE_1__["getTraceSpanIdsAsTree"])(data);
  var spans = [];
  var svcCounts = {};
  var traceName = ''; // Eslint complains about number type not needed but then TS complains it is implicitly any.
  // eslint-disable-next-line @typescript-eslint/no-inferrable-types

  tree.walk(function (spanID, node) {
    var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

    if (spanID === '__root__') {
      return;
    }

    var span = spanMap.get(spanID);

    if (!span) {
      return;
    }

    var serviceName = span.process.serviceName;
    svcCounts[serviceName] = (svcCounts[serviceName] || 0) + 1;

    if (!span.references || !span.references.length) {
      traceName = "".concat(serviceName, ": ").concat(span.operationName);
    }

    span.relativeStartTime = span.startTime - traceStartTime;
    span.depth = depth - 1;
    span.hasChildren = node.children.length > 0;
    span.warnings = span.warnings || [];
    span.tags = span.tags || [];
    span.references = span.references || [];
    var tagsInfo = deduplicateTags(span.tags);
    span.tags = orderTags(tagsInfo.tags, Object(_utils_config_get_config__WEBPACK_IMPORTED_MODULE_2__["getConfigValue"])('topTagPrefixes'));
    span.warnings = span.warnings.concat(tagsInfo.warnings);
    span.references.forEach(function (ref, index) {
      var refSpan = spanMap.get(ref.spanID);

      if (refSpan) {
        // eslint-disable-next-line no-param-reassign
        ref.span = refSpan;

        if (index > 0) {
          // Don't take into account the parent, just other references.
          refSpan.subsidiarilyReferencedBy = refSpan.subsidiarilyReferencedBy || [];
          refSpan.subsidiarilyReferencedBy.push({
            spanID: spanID,
            traceID: traceID,
            span: span,
            refType: ref.refType
          });
        }
      }
    });
    spans.push(span);
  });
  var services = Object.keys(svcCounts).map(function (name) {
    return {
      name: name,
      numberOfSpans: svcCounts[name]
    };
  });
  return {
    services: services,
    spans: spans,
    traceID: traceID,
    traceName: traceName,
    // can't use spread operator for intersection types
    // repl: https://goo.gl/4Z23MJ
    // issue: https://github.com/facebook/flow/issues/1511
    processes: data.processes,
    duration: traceEndTime - traceStartTime,
    startTime: traceStartTime,
    endTime: traceEndTime
  };
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/selectors/process.js":
/*!****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/selectors/process.js ***!
  \****************************************************************/
/*! exports provided: getProcessServiceName, getProcessTags */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProcessServiceName", function() { return getProcessServiceName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProcessTags", function() { return getProcessTags; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var getProcessServiceName = function getProcessServiceName(proc) {
  return proc.serviceName;
};
var getProcessTags = function getProcessTags(proc) {
  return proc.tags;
};

/***/ }),

/***/ "./packages/jaeger-ui-components/src/selectors/span.js":
/*!*************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/selectors/span.js ***!
  \*************************************************************/
/*! exports provided: getSpanId, getSpanName, getSpanDuration, getSpanTimestamp, getSpanProcessId, getSpanReferences, getSpanReferenceByType, getSpanParentId, getSpanProcess, getSpanServiceName, filterSpansForTimestamps, filterSpansForText, highlightSpansForTextFilter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanId", function() { return getSpanId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanName", function() { return getSpanName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanDuration", function() { return getSpanDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanTimestamp", function() { return getSpanTimestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanProcessId", function() { return getSpanProcessId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanReferences", function() { return getSpanReferences; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanReferenceByType", function() { return getSpanReferenceByType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanParentId", function() { return getSpanParentId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanProcess", function() { return getSpanProcess; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanServiceName", function() { return getSpanServiceName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterSpansForTimestamps", function() { return filterSpansForTimestamps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "filterSpansForText", function() { return filterSpansForText; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "highlightSpansForTextFilter", function() { return highlightSpansForTextFilter; });
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var fuzzy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fuzzy */ "./node_modules/fuzzy/lib/fuzzy.js");
/* harmony import */ var fuzzy__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fuzzy__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./process */ "./packages/jaeger-ui-components/src/selectors/process.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



var getSpanId = function getSpanId(span) {
  return span.spanID;
};
var getSpanName = function getSpanName(span) {
  return span.operationName;
};
var getSpanDuration = function getSpanDuration(span) {
  return span.duration;
};
var getSpanTimestamp = function getSpanTimestamp(span) {
  return span.startTime;
};
var getSpanProcessId = function getSpanProcessId(span) {
  return span.processID;
};
var getSpanReferences = function getSpanReferences(span) {
  return span.references || [];
};
var getSpanReferenceByType = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref) {
  var span = _ref.span;
  return span;
}, getSpanReferences), function (_ref2) {
  var type = _ref2.type;
  return type;
}, function (references, type) {
  return references.find(function (ref) {
    return ref.refType === type;
  });
});
var getSpanParentId = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (span) {
  return getSpanReferenceByType({
    span: span,
    type: 'CHILD_OF'
  });
}, function (childOfRef) {
  return childOfRef ? childOfRef.spanID : null;
});
var getSpanProcess = function getSpanProcess(span) {
  if (!span.process) {
    throw new Error("\n      you must hydrate the spans with the processes, perhaps\n      using hydrateSpansWithProcesses(), before accessing a span's process\n    ");
  }

  return span.process;
};
var getSpanServiceName = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getSpanProcess, _process__WEBPACK_IMPORTED_MODULE_2__["getProcessServiceName"]);
var filterSpansForTimestamps = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref3) {
  var spans = _ref3.spans;
  return spans;
}, function (_ref4) {
  var leftBound = _ref4.leftBound;
  return leftBound;
}, function (_ref5) {
  var rightBound = _ref5.rightBound;
  return rightBound;
}, function (spans, leftBound, rightBound) {
  return spans.filter(function (span) {
    return getSpanTimestamp(span) >= leftBound && getSpanTimestamp(span) <= rightBound;
  });
});
var filterSpansForText = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref6) {
  var spans = _ref6.spans;
  return spans;
}, function (_ref7) {
  var text = _ref7.text;
  return text;
}, function (spans, text) {
  return fuzzy__WEBPACK_IMPORTED_MODULE_1___default.a.filter(text, spans, {
    extract: function extract(span) {
      return "".concat(getSpanServiceName(span), " ").concat(getSpanName(span));
    }
  }).map(function (_ref8) {
    var original = _ref8.original;
    return original;
  });
});
var getTextFilterdSpansAsMap = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(filterSpansForText, function (matchingSpans) {
  return matchingSpans.reduce(function (obj, span) {
    return _objectSpread({}, obj, _defineProperty({}, getSpanId(span), span));
  }, {});
});
var highlightSpansForTextFilter = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref9) {
  var spans = _ref9.spans;
  return spans;
}, getTextFilterdSpansAsMap, function (spans, textFilteredSpansMap) {
  return spans.map(function (span) {
    return _objectSpread({}, span, {
      muted: !textFilteredSpansMap[getSpanId(span)]
    });
  });
});

/***/ }),

/***/ "./packages/jaeger-ui-components/src/selectors/trace.js":
/*!**************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/selectors/trace.js ***!
  \**************************************************************/
/*! exports provided: getTraceId, getTraceSpans, getTraceSpansAsMap, TREE_ROOT_ID, getTraceSpanIdsAsTree, hydrateSpansWithProcesses, getTraceSpanCount, getTraceTimestamp, getTraceDuration, getTraceEndTimestamp, getParentSpan, getTraceDepth, getSpanDepthForTrace, getTraceServices, getTraceServiceCount, DURATION_FORMATTERS, formatDurationForUnit, formatDurationForTrace, getSortedSpans, getTreeSizeForTraceSpan, getSpanHierarchySortPositionForTrace, getTraceName, omitCollapsedSpans, DEFAULT_TICK_INTERVAL, DEFAULT_TICK_WIDTH, getTicksForTrace, enforceUniqueSpanIds, dropEmptyStartTimeSpans */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceId", function() { return getTraceId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceSpans", function() { return getTraceSpans; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceSpansAsMap", function() { return getTraceSpansAsMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TREE_ROOT_ID", function() { return TREE_ROOT_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceSpanIdsAsTree", function() { return getTraceSpanIdsAsTree; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hydrateSpansWithProcesses", function() { return hydrateSpansWithProcesses; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceSpanCount", function() { return getTraceSpanCount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceTimestamp", function() { return getTraceTimestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceDuration", function() { return getTraceDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceEndTimestamp", function() { return getTraceEndTimestamp; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParentSpan", function() { return getParentSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceDepth", function() { return getTraceDepth; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanDepthForTrace", function() { return getSpanDepthForTrace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceServices", function() { return getTraceServices; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceServiceCount", function() { return getTraceServiceCount; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DURATION_FORMATTERS", function() { return DURATION_FORMATTERS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDurationForUnit", function() { return formatDurationForUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDurationForTrace", function() { return formatDurationForTrace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSortedSpans", function() { return getSortedSpans; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTreeSizeForTraceSpan", function() { return getTreeSizeForTraceSpan; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSpanHierarchySortPositionForTrace", function() { return getSpanHierarchySortPositionForTrace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTraceName", function() { return getTraceName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "omitCollapsedSpans", function() { return omitCollapsedSpans; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_TICK_INTERVAL", function() { return DEFAULT_TICK_INTERVAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_TICK_WIDTH", function() { return DEFAULT_TICK_WIDTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTicksForTrace", function() { return getTicksForTrace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enforceUniqueSpanIds", function() { return enforceUniqueSpanIds; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dropEmptyStartTimeSpans", function() { return dropEmptyStartTimeSpans; });
/* harmony import */ var reselect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! reselect */ "./node_modules/reselect/es/index.js");
/* harmony import */ var _span__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./span */ "./packages/jaeger-ui-components/src/selectors/span.js");
/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./process */ "./packages/jaeger-ui-components/src/selectors/process.js");
/* harmony import */ var _utils_date__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/date */ "./packages/jaeger-ui-components/src/utils/date.tsx");
/* harmony import */ var _utils_sort__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/sort */ "./packages/jaeger-ui-components/src/utils/sort.js");
/* harmony import */ var _utils_TreeNode__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/TreeNode */ "./packages/jaeger-ui-components/src/utils/TreeNode.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.






var getTraceId = function getTraceId(trace) {
  return trace.traceID;
};
var getTraceSpans = function getTraceSpans(trace) {
  return trace.spans;
};

var getTraceProcesses = function getTraceProcesses(trace) {
  return trace.processes;
};

var getSpanWithProcess = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (state) {
  return state.span;
}, function (state) {
  return state.processes;
}, function (span, processes) {
  return _objectSpread({}, span, {
    process: processes[Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanProcessId"])(span)]
  });
});
var getTraceSpansAsMap = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpans, function (spans) {
  return spans.reduce(function (map, span) {
    return map.set(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span), span);
  }, new Map());
});
var TREE_ROOT_ID = '__root__';
/**
 * Build a tree of { value: spanID, children } items derived from the
 * `span.references` information. The tree represents the grouping of parent /
 * child relationships. The root-most node is nominal in that
 * `.value === TREE_ROOT_ID`. This is done because a root span (the main trace
 * span) is not always included with the trace data. Thus, there can be
 * multiple top-level spans, and the root node acts as their common parent.
 *
 * The children are sorted by `span.startTime` after the tree is built.
 *
 * @param  {Trace} trace The trace to build the tree of spanIDs.
 * @return {TreeNode}    A tree of spanIDs derived from the relationships
 *                       between spans in the trace.
 */

function getTraceSpanIdsAsTree(trace) {
  var nodesById = new Map(trace.spans.map(function (span) {
    return [span.spanID, new _utils_TreeNode__WEBPACK_IMPORTED_MODULE_5__["default"](span.spanID)];
  }));
  var spansById = new Map(trace.spans.map(function (span) {
    return [span.spanID, span];
  }));
  var root = new _utils_TreeNode__WEBPACK_IMPORTED_MODULE_5__["default"](TREE_ROOT_ID);
  trace.spans.forEach(function (span) {
    var node = nodesById.get(span.spanID);

    if (Array.isArray(span.references) && span.references.length) {
      var _span$references$ = span.references[0],
          refType = _span$references$.refType,
          parentID = _span$references$.spanID;

      if (refType === 'CHILD_OF' || refType === 'FOLLOWS_FROM') {
        var parent = nodesById.get(parentID) || root;
        parent.children.push(node);
      } else {
        throw new Error("Unrecognized ref type: ".concat(refType));
      }
    } else {
      root.children.push(node);
    }
  });

  var comparator = function comparator(nodeA, nodeB) {
    var a = spansById.get(nodeA.value);
    var b = spansById.get(nodeB.value);
    return +(a.startTime > b.startTime) || +(a.startTime === b.startTime) - 1;
  };

  trace.spans.forEach(function (span) {
    var node = nodesById.get(span.spanID);

    if (node.children.length > 1) {
      node.children.sort(comparator);
    }
  });
  root.children.sort(comparator);
  return root;
} // attach "process" as an object to each span.

var hydrateSpansWithProcesses = function hydrateSpansWithProcesses(trace) {
  var spans = getTraceSpans(trace);
  var processes = getTraceProcesses(trace);
  return _objectSpread({}, trace, {
    spans: spans.map(function (span) {
      return getSpanWithProcess({
        span: span,
        processes: processes
      });
    })
  });
};
var getTraceSpanCount = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpans, function (spans) {
  return spans.length;
});
var getTraceTimestamp = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpans, function (spans) {
  return spans.reduce(function (prevTimestamp, span) {
    return prevTimestamp ? Math.min(prevTimestamp, Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(span)) : Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(span);
  }, null);
});
var getTraceDuration = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpans, getTraceTimestamp, function (spans, timestamp) {
  return spans.reduce(function (prevDuration, span) {
    return prevDuration ? Math.max(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(span) - timestamp + Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanDuration"])(span), prevDuration) : Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanDuration"])(span);
  }, null);
});
var getTraceEndTimestamp = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceTimestamp, getTraceDuration, function (timestamp, duration) {
  return timestamp + duration;
});
var getParentSpan = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpanIdsAsTree, getTraceSpansAsMap, function (tree, spanMap) {
  return tree.children.map(function (node) {
    return spanMap.get(node.value);
  }).sort(function (spanA, spanB) {
    return Object(_utils_sort__WEBPACK_IMPORTED_MODULE_4__["numberSortComparator"])(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(spanA), Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(spanB));
  })[0];
});
var getTraceDepth = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpanIdsAsTree, function (spanTree) {
  return spanTree.depth - 1;
});
var getSpanDepthForTrace = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (state) {
  return state.trace;
}, getTraceSpanIdsAsTree), Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (state) {
  return state.span;
}, _span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"]), function (node, spanID) {
  return node.getPath(spanID).length - 1;
});
var getTraceServices = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceProcesses, function (processes) {
  return Object.keys(processes).reduce(function (services, processID) {
    return services.add(Object(_process__WEBPACK_IMPORTED_MODULE_2__["getProcessServiceName"])(processes[processID]));
  }, new Set());
});
var getTraceServiceCount = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceServices, function (services) {
  return services.size;
}); // establish constants to determine how math should be handled
// for nanosecond-to-millisecond conversions.

var DURATION_FORMATTERS = {
  ms: _utils_date__WEBPACK_IMPORTED_MODULE_3__["formatMillisecondTime"],
  s: _utils_date__WEBPACK_IMPORTED_MODULE_3__["formatSecondTime"]
};
var getDurationFormatterForTrace = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceDuration, function (totalDuration) {
  return totalDuration >= _utils_date__WEBPACK_IMPORTED_MODULE_3__["ONE_SECOND"] ? DURATION_FORMATTERS.s : DURATION_FORMATTERS.ms;
});
var formatDurationForUnit = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref) {
  var duration = _ref.duration;
  return duration;
}, function (_ref2) {
  var unit = _ref2.unit;
  return DURATION_FORMATTERS[unit];
}, function (duration, formatter) {
  return formatter(duration);
});
var formatDurationForTrace = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref3) {
  var duration = _ref3.duration;
  return duration;
}, Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref4) {
  var trace = _ref4.trace;
  return trace;
}, getDurationFormatterForTrace), function (duration, formatter) {
  return formatter(duration);
});
var getSortedSpans = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref5) {
  var trace = _ref5.trace;
  return trace;
}, function (_ref6) {
  var spans = _ref6.spans;
  return spans;
}, function (_ref7) {
  var sort = _ref7.sort;
  return sort;
}, function (trace, spans, _ref8) {
  var dir = _ref8.dir,
      comparator = _ref8.comparator,
      selector = _ref8.selector;
  return _toConsumableArray(spans).sort(function (spanA, spanB) {
    return dir * comparator(selector(spanA, trace), selector(spanB, trace));
  });
});
var getTraceSpansByHierarchyPosition = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(getTraceSpanIdsAsTree, function (tree) {
  var hierarchyPositionMap = new Map();
  var i = 0;
  tree.walk(function (spanID) {
    return hierarchyPositionMap.set(spanID, i++);
  });
  return hierarchyPositionMap;
});
var getTreeSizeForTraceSpan = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (state) {
  return state.trace;
}, getTraceSpanIdsAsTree), Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (state) {
  return state.span;
}, _span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"]), function (tree, spanID) {
  var node = tree.find(spanID);

  if (!node) {
    return -1;
  }

  return node.size - 1;
});
var getSpanHierarchySortPositionForTrace = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref9) {
  var trace = _ref9.trace;
  return trace;
}, getTraceSpansByHierarchyPosition), function (_ref10) {
  var span = _ref10.span;
  return span;
}, function (hierarchyPositionMap, span) {
  return hierarchyPositionMap.get(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span));
});
var getTraceName = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(hydrateSpansWithProcesses, getParentSpan), Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createStructuredSelector"])({
  name: _span__WEBPACK_IMPORTED_MODULE_1__["getSpanName"],
  serviceName: _span__WEBPACK_IMPORTED_MODULE_1__["getSpanServiceName"]
})), function (_ref11) {
  var name = _ref11.name,
      serviceName = _ref11.serviceName;
  return "".concat(serviceName, ": ").concat(name);
});
var omitCollapsedSpans = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref12) {
  var spans = _ref12.spans;
  return spans;
}, Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref13) {
  var trace = _ref13.trace;
  return trace;
}, getTraceSpanIdsAsTree), function (_ref14) {
  var collapsed = _ref14.collapsed;
  return collapsed;
}, function (spans, tree, collapse) {
  var hiddenSpanIds = collapse.reduce(function (result, collapsedSpanId) {
    tree.find(collapsedSpanId).walk(function (id) {
      return id !== collapsedSpanId && result.add(id);
    });
    return result;
  }, new Set());
  return hiddenSpanIds.size > 0 ? spans.filter(function (span) {
    return !hiddenSpanIds.has(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span));
  }) : spans;
});
var DEFAULT_TICK_INTERVAL = 4;
var DEFAULT_TICK_WIDTH = 3;
var getTicksForTrace = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(function (_ref15) {
  var trace = _ref15.trace;
  return trace;
}, function (_ref16) {
  var _ref16$interval = _ref16.interval,
      interval = _ref16$interval === void 0 ? DEFAULT_TICK_INTERVAL : _ref16$interval;
  return interval;
}, function (_ref17) {
  var _ref17$width = _ref17.width,
      width = _ref17$width === void 0 ? DEFAULT_TICK_WIDTH : _ref17$width;
  return width;
}, function (trace, interval, width // timestamps will be spaced over the interval, starting from the initial timestamp
) {
  return _toConsumableArray(Array(interval + 1).keys()).map(function (num) {
    return {
      timestamp: getTraceTimestamp(trace) + getTraceDuration(trace) * (num / interval),
      width: width
    };
  });
}); // TODO: delete this when the backend can ensure uniqueness

/* istanbul ignore next */

var enforceUniqueSpanIds = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(
/* istanbul ignore next */
function (trace) {
  return trace;
}, getTraceSpans,
/* istanbul ignore next */
function (trace, spans) {
  var map = new Map();
  return _objectSpread({}, trace, {
    spans: spans.reduce(function (result, span) {
      var spanID = map.has(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span)) ? "".concat(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span), "_").concat(map.get(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span))) : Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span);

      var updatedSpan = _objectSpread({}, span, {
        spanID: spanID
      });

      if (spanID !== Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span)) {
        // eslint-disable-next-line no-console
        console.warn('duplicate spanID in trace replaced', Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span), 'new:', spanID);
      } // set the presence of the span in the map or increment the number


      map.set(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span), (map.get(Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanId"])(span)) || 0) + 1);
      return result.concat([updatedSpan]);
    }, [])
  });
}); // TODO: delete this when the backend can ensure uniqueness

var dropEmptyStartTimeSpans = Object(reselect__WEBPACK_IMPORTED_MODULE_0__["createSelector"])(
/* istanbul ignore next */
function (trace) {
  return trace;
}, getTraceSpans,
/* istanbul ignore next */
function (trace, spans) {
  return _objectSpread({}, trace, {
    spans: spans.filter(function (span) {
      return !!Object(_span__WEBPACK_IMPORTED_MODULE_1__["getSpanTimestamp"])(span);
    })
  });
});

/***/ }),

/***/ "./packages/jaeger-ui-components/src/types/TNil.tsx":
/*!**********************************************************!*\
  !*** ./packages/jaeger-ui-components/src/types/TNil.tsx ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./packages/jaeger-ui-components/src/types/TTraceTimeline.tsx":
/*!********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/types/TTraceTimeline.tsx ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./packages/jaeger-ui-components/src/types/index.tsx":
/*!***********************************************************!*\
  !*** ./packages/jaeger-ui-components/src/types/index.tsx ***!
  \***********************************************************/
/*! exports provided: TTraceTimeline, TNil */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _TTraceTimeline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TTraceTimeline */ "./packages/jaeger-ui-components/src/types/TTraceTimeline.tsx");
/* harmony import */ var _TTraceTimeline__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_TTraceTimeline__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "TTraceTimeline", function() { return _TTraceTimeline__WEBPACK_IMPORTED_MODULE_0___default.a; });
/* harmony import */ var _TNil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TNil */ "./packages/jaeger-ui-components/src/types/TNil.tsx");
/* harmony import */ var _TNil__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_TNil__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "TNil", function() { return _TNil__WEBPACK_IMPORTED_MODULE_1___default.a; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



/***/ }),

/***/ "./packages/jaeger-ui-components/src/uberUtilityStyles.ts":
/*!****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/uberUtilityStyles.ts ***!
  \****************************************************************/
/*! exports provided: ubRelative, ubMb1, ubMy1, ubM0, ubPx2, ubPb2, ubFlex, ubItemsCenter, ubFlexAuto, ubTxRightAlign, ubInlineBlock, uAlignIcon, uTxEllipsis, uWidth100, uTxMuted, ubJustifyEnd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubRelative", function() { return ubRelative; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubMb1", function() { return ubMb1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubMy1", function() { return ubMy1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubM0", function() { return ubM0; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubPx2", function() { return ubPx2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubPb2", function() { return ubPb2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubFlex", function() { return ubFlex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubItemsCenter", function() { return ubItemsCenter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubFlexAuto", function() { return ubFlexAuto; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubTxRightAlign", function() { return ubTxRightAlign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubInlineBlock", function() { return ubInlineBlock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uAlignIcon", function() { return uAlignIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uTxEllipsis", function() { return uTxEllipsis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uWidth100", function() { return uWidth100; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uTxMuted", function() { return uTxMuted; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ubJustifyEnd", function() { return ubJustifyEnd; });
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
function _templateObject16() {
  var data = _taggedTemplateLiteral(["\n  justify-content: flex-end;\n"]);

  _templateObject16 = function _templateObject16() {
    return data;
  };

  return data;
}

function _templateObject15() {
  var data = _taggedTemplateLiteral(["\n  color: #aaa;\n"]);

  _templateObject15 = function _templateObject15() {
    return data;
  };

  return data;
}

function _templateObject14() {
  var data = _taggedTemplateLiteral(["\n  width: 100%;\n"]);

  _templateObject14 = function _templateObject14() {
    return data;
  };

  return data;
}

function _templateObject13() {
  var data = _taggedTemplateLiteral(["\n  text-overflow: ellipsis;\n"]);

  _templateObject13 = function _templateObject13() {
    return data;
  };

  return data;
}

function _templateObject12() {
  var data = _taggedTemplateLiteral(["\n  margin: -0.2rem 0.25rem 0 0;\n"]);

  _templateObject12 = function _templateObject12() {
    return data;
  };

  return data;
}

function _templateObject11() {
  var data = _taggedTemplateLiteral(["\n  display: inline-block;\n"]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n  text-align: right;\n"]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n  flex: 1 1 auto;\n  min-width: 0; /* 1 */\n  min-height: 0; /* 1 */\n"]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n  align-items: center;\n"]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n  display: flex;\n"]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n  padding-bottom: 0.5rem;\n"]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n"]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n  margin: 0;\n"]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n"]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n  margin-bottom: 0.25rem;\n"]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n  position: relative;\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }


var ubRelative = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject());
var ubMb1 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject2());
var ubMy1 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject3());
var ubM0 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject4());
var ubPx2 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject5());
var ubPb2 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject6());
var ubFlex = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject7());
var ubItemsCenter = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject8());
var ubFlexAuto = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject9());
var ubTxRightAlign = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject10());
var ubInlineBlock = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject11());
var uAlignIcon = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject12());
var uTxEllipsis = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject13());
var uWidth100 = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject14());
var uTxMuted = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject15());
var ubJustifyEnd = Object(emotion__WEBPACK_IMPORTED_MODULE_0__["css"])(_templateObject16());

/***/ }),

/***/ "./packages/jaeger-ui-components/src/uiElementsContext.tsx":
/*!*****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/uiElementsContext.tsx ***!
  \*****************************************************************/
/*! exports provided: UIPopover, UITooltip, UIIcon, UIDropdown, UIMenu, UIMenuItem, UIButton, UIDivider, UIInput, UIInputGroup, default, GetElementsContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIPopover", function() { return UIPopover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UITooltip", function() { return UITooltip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIIcon", function() { return UIIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIDropdown", function() { return UIDropdown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIMenu", function() { return UIMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIMenuItem", function() { return UIMenuItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIButton", function() { return UIButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIDivider", function() { return UIDivider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIInput", function() { return UIInput; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIInputGroup", function() { return UIInputGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetElementsContext", function() { return GetElementsContext; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

var UIPopover = function UIPopover(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Popover, props);
  });
};
var UITooltip = function UITooltip(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Tooltip, props);
  });
};
var UIIcon = function UIIcon(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Icon, props);
  });
};
var UIDropdown = function UIDropdown(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Dropdown, props);
  });
};
var UIMenu = function UIMenu(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Menu, props);
  });
};
var UIMenuItem = function UIMenuItem(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.MenuItem, props);
  });
};
var UIButton = function UIButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Button, props);
  });
};
var UIDivider = function UIDivider(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Divider, props);
  });
};
var UIInput = function UIInput(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.Input, props);
  });
};
var UIInputGroup = function UIInputGroup(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GetElementsContext, null, function (elements) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(elements.InputGroup, props);
  });
};

/**
 * Allows for injecting custom UI elements that will be used. Mainly for styling and removing dependency on
 * any specific UI library but can also inject specific behaviour.
 */
var UIElementsContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);
UIElementsContext.displayName = 'UIElementsContext';
/* harmony default export */ __webpack_exports__["default"] = (UIElementsContext);

/**
 * Convenience render prop style component to handle error state when elements are not defined.
 */
function GetElementsContext(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(UIElementsContext.Consumer, null, function (value) {
    if (!value) {
      throw new Error('Elements context is required. You probably forget to use UIElementsContext.Provider');
    }

    return props.children(value);
  });
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/url/ReferenceLink.tsx":
/*!*****************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/url/ReferenceLink.tsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ReferenceLink; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _externalLinkContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./externalLinkContext */ "./packages/jaeger-ui-components/src/url/externalLinkContext.tsx");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

// Copyright (c) 2019 The Jaeger Authors.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


function ReferenceLink(props) {
  var reference = props.reference,
      children = props.children,
      className = props.className,
      focusSpan = props.focusSpan,
      otherProps = _objectWithoutProperties(props, ["reference", "children", "className", "focusSpan"]);

  delete otherProps.onClick;

  if (reference.span) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", _extends({
      role: "button",
      onClick: function onClick() {
        return focusSpan(reference.spanID);
      },
      className: className
    }, otherProps), children);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_externalLinkContext__WEBPACK_IMPORTED_MODULE_1__["default"].Consumer, null, function (createLinkToExternalSpan) {
    if (!createLinkToExternalSpan) {
      throw new Error("ExternalLinkContext does not have a value, you probably forgot to setup it's provider");
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", _extends({
      href: createLinkToExternalSpan(reference.traceID, reference.spanID),
      target: "_blank",
      rel: "noopener noreferrer",
      className: className
    }, otherProps), children);
  });
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/url/externalLinkContext.tsx":
/*!***********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/url/externalLinkContext.tsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * There are several places where external links to spans are created. The url layout though is something
 * that should be decided on the application level and not on the component level but at the same time
 * propagating the factory function everywhere could be cumbersome so we use this context for that.
 */

var ExternalLinkContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(undefined);
ExternalLinkContext.displayName = 'ExternalLinkContext';
/* harmony default export */ __webpack_exports__["default"] = (ExternalLinkContext);

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/DraggableManager/DraggableManager.tsx":
/*!***************************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/DraggableManager/DraggableManager.tsx ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DraggableManager; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EUpdateTypes */ "./packages/jaeger-ui-components/src/utils/DraggableManager/EUpdateTypes.tsx");
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


var LEFT_MOUSE_BUTTON = 0;

var DraggableManager =
/*#__PURE__*/
function () {
  // cache the last known DraggableBounds (invalidate via `#resetBounds())
  // optional callbacks for various dragging events
  // whether to reset the bounds on window resize

  /**
   * Get the `DraggableBounds` for the current drag. The returned value is
   * cached until either `#resetBounds()` is called or the window is resized
   * (assuming `_resetBoundsOnResize` is `true`). The `DraggableBounds` defines
   * the range the current drag can span to. It also establishes the left offset
   * to adjust `clientX` by (from the `MouseEvent`s).
   */
  // convenience data
  // handlers for integration with DOM elements
  function DraggableManager(_ref) {
    var _this = this;

    var getBounds = _ref.getBounds,
        tag = _ref.tag,
        _ref$resetBoundsOnRes = _ref.resetBoundsOnResize,
        resetBoundsOnResize = _ref$resetBoundsOnRes === void 0 ? true : _ref$resetBoundsOnRes,
        rest = _objectWithoutProperties(_ref, ["getBounds", "tag", "resetBoundsOnResize"]);

    _classCallCheck(this, DraggableManager);

    this.resetBounds = function () {
      _this._bounds = undefined;
    };

    this._handleMinorMouseEvent = function (event) {
      var button = event.button,
          clientX = event.clientX,
          eventType = event.type;

      if (_this._isDragging || button !== LEFT_MOUSE_BUTTON) {
        return;
      }

      var type = null;
      var handler;

      if (eventType === 'mouseenter') {
        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].MouseEnter;
        handler = _this._onMouseEnter;
      } else if (eventType === 'mouseleave') {
        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].MouseLeave;
        handler = _this._onMouseLeave;
      } else if (eventType === 'mousemove') {
        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].MouseMove;
        handler = _this._onMouseMove;
      } else {
        throw new Error("invalid event type: ".concat(eventType));
      }

      if (!handler) {
        return;
      }

      var _this$_getPosition = _this._getPosition(clientX),
          value = _this$_getPosition.value,
          x = _this$_getPosition.x;

      handler({
        event: event,
        type: type,
        value: value,
        x: x,
        manager: _this,
        tag: _this.tag
      });
    };

    this._handleDragEvent = function (event) {
      var button = event.button,
          clientX = event.clientX,
          eventType = event.type;
      var type = null;
      var handler;

      if (eventType === 'mousedown') {
        if (_this._isDragging || button !== LEFT_MOUSE_BUTTON) {
          return;
        }

        window.addEventListener('mousemove', _this._handleDragEvent);
        window.addEventListener('mouseup', _this._handleDragEvent);

        var style = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(document, 'body.style');

        if (style) {
          style.userSelect = 'none';
        }

        _this._isDragging = true;
        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].DragStart;
        handler = _this._onDragStart;
      } else if (eventType === 'mousemove') {
        if (!_this._isDragging) {
          return;
        }

        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].DragMove;
        handler = _this._onDragMove;
      } else if (eventType === 'mouseup') {
        if (!_this._isDragging) {
          return;
        }

        _this._stopDragging();

        type = _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"].DragEnd;
        handler = _this._onDragEnd;
      } else {
        throw new Error("invalid event type: ".concat(eventType));
      }

      if (!handler) {
        return;
      }

      var _this$_getPosition2 = _this._getPosition(clientX),
          value = _this$_getPosition2.value,
          x = _this$_getPosition2.x;

      handler({
        event: event,
        type: type,
        value: value,
        x: x,
        manager: _this,
        tag: _this.tag
      });
    };

    this.handleMouseDown = this._handleDragEvent;
    this.handleMouseEnter = this._handleMinorMouseEvent;
    this.handleMouseMove = this._handleMinorMouseEvent;
    this.handleMouseLeave = this._handleMinorMouseEvent;
    this.getBounds = getBounds;
    this.tag = tag;
    this._isDragging = false;
    this._bounds = undefined;
    this._resetBoundsOnResize = Boolean(resetBoundsOnResize);

    if (this._resetBoundsOnResize) {
      window.addEventListener('resize', this.resetBounds);
    }

    this._onMouseEnter = rest.onMouseEnter;
    this._onMouseLeave = rest.onMouseLeave;
    this._onMouseMove = rest.onMouseMove;
    this._onDragStart = rest.onDragStart;
    this._onDragMove = rest.onDragMove;
    this._onDragEnd = rest.onDragEnd;
  }

  _createClass(DraggableManager, [{
    key: "_getBounds",
    value: function _getBounds() {
      if (!this._bounds) {
        this._bounds = this.getBounds(this.tag);
      }

      return this._bounds;
    }
  }, {
    key: "_getPosition",
    value: function _getPosition(clientX) {
      var _this$_getBounds = this._getBounds(),
          clientXLeft = _this$_getBounds.clientXLeft,
          maxValue = _this$_getBounds.maxValue,
          minValue = _this$_getBounds.minValue,
          width = _this$_getBounds.width;

      var x = clientX - clientXLeft;
      var value = x / width;

      if (minValue != null && value < minValue) {
        value = minValue;
        x = minValue * width;
      } else if (maxValue != null && value > maxValue) {
        value = maxValue;
        x = maxValue * width;
      }

      return {
        value: value,
        x: x
      };
    }
  }, {
    key: "_stopDragging",
    value: function _stopDragging() {
      window.removeEventListener('mousemove', this._handleDragEvent);
      window.removeEventListener('mouseup', this._handleDragEvent);

      var style = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(document, 'body.style');

      if (style) {
        style.userSelect = null;
      }

      this._isDragging = false;
    }
  }, {
    key: "isDragging",
    value: function isDragging() {
      return this._isDragging;
    }
  }, {
    key: "dispose",
    value: function dispose() {
      if (this._isDragging) {
        this._stopDragging();
      }

      if (this._resetBoundsOnResize) {
        window.removeEventListener('resize', this.resetBounds);
      }

      this._bounds = undefined;
      this._onMouseEnter = undefined;
      this._onMouseLeave = undefined;
      this._onMouseMove = undefined;
      this._onDragStart = undefined;
      this._onDragMove = undefined;
      this._onDragEnd = undefined;
    }
  }]);

  return DraggableManager;
}();



/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/DraggableManager/EUpdateTypes.tsx":
/*!***********************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/DraggableManager/EUpdateTypes.tsx ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// // export default {
// const updateTypes = {
//   DRAG_END: 'DRAG_END',
//   DRAG_MOVE: 'DRAG_MOVE',
//   DRAG_START: 'DRAG_START',
//   MOUSE_ENTER: 'MOUSE_ENTER',
//   MOUSE_LEAVE: 'MOUSE_LEAVE',
//   MOUSE_MOVE: 'MOUSE_MOVE',
// };
// const typeUpdateTypes = updateTypes as { [K in keyof typeof updateTypes]: K };
var EUpdateTypes;

(function (EUpdateTypes) {
  EUpdateTypes["DragEnd"] = "DragEnd";
  EUpdateTypes["DragMove"] = "DragMove";
  EUpdateTypes["DragStart"] = "DragStart";
  EUpdateTypes["MouseEnter"] = "MouseEnter";
  EUpdateTypes["MouseLeave"] = "MouseLeave";
  EUpdateTypes["MouseMove"] = "MouseMove";
})(EUpdateTypes || (EUpdateTypes = {}));

/* harmony default export */ __webpack_exports__["default"] = (EUpdateTypes);

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/DraggableManager/index.tsx":
/*!****************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/DraggableManager/index.tsx ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./packages/jaeger-ui-components/src/utils/DraggableManager/types.tsx");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if(["EUpdateTypes","default","default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _types__WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EUpdateTypes */ "./packages/jaeger-ui-components/src/utils/DraggableManager/EUpdateTypes.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EUpdateTypes", function() { return _EUpdateTypes__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _DraggableManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DraggableManager */ "./packages/jaeger-ui-components/src/utils/DraggableManager/DraggableManager.tsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _DraggableManager__WEBPACK_IMPORTED_MODULE_2__["default"]; });

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.




/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/DraggableManager/types.tsx":
/*!****************************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/DraggableManager/types.tsx ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/TreeNode.js":
/*!*************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/TreeNode.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TreeNode; });
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
var TreeNode =
/*#__PURE__*/
function () {
  _createClass(TreeNode, null, [{
    key: "iterFunction",
    value: function iterFunction(fn) {
      var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      return function (node) {
        return fn(node.value, node, depth);
      };
    }
  }, {
    key: "searchFunction",
    value: function searchFunction(search) {
      if (typeof search === 'function') {
        return search;
      }

      return function (value, node) {
        return search instanceof TreeNode ? node === search : value === search;
      };
    }
  }]);

  function TreeNode(value) {
    var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

    _classCallCheck(this, TreeNode);

    this.value = value;
    this.children = children;
  }

  _createClass(TreeNode, [{
    key: "addChild",
    value: function addChild(child) {
      this.children.push(child instanceof TreeNode ? child : new TreeNode(child));
      return this;
    }
  }, {
    key: "find",
    value: function find(search) {
      var searchFn = TreeNode.iterFunction(TreeNode.searchFunction(search));

      if (searchFn(this)) {
        return this;
      }

      for (var i = 0; i < this.children.length; i++) {
        var result = this.children[i].find(search);

        if (result) {
          return result;
        }
      }

      return null;
    }
  }, {
    key: "getPath",
    value: function getPath(search) {
      var searchFn = TreeNode.iterFunction(TreeNode.searchFunction(search));

      var findPath = function findPath(currentNode, currentPath) {
        // skip if we already found the result
        var attempt = currentPath.concat([currentNode]); // base case: return the array when there is a match

        if (searchFn(currentNode)) {
          return attempt;
        }

        for (var i = 0; i < currentNode.children.length; i++) {
          var child = currentNode.children[i];
          var match = findPath(child, attempt);

          if (match) {
            return match;
          }
        }

        return null;
      };

      return findPath(this, []);
    }
  }, {
    key: "walk",
    value: function walk(fn) {
      var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var nodeStack = [];
      var actualDepth = depth;
      nodeStack.push({
        node: this,
        depth: actualDepth
      });

      while (nodeStack.length) {
        var _nodeStack$pop = nodeStack.pop(),
            node = _nodeStack$pop.node,
            nodeDepth = _nodeStack$pop.depth;

        fn(node.value, node, nodeDepth);
        actualDepth = nodeDepth + 1;
        var i = node.children.length - 1;

        while (i >= 0) {
          nodeStack.push({
            node: node.children[i],
            depth: actualDepth
          });
          i--;
        }
      }
    }
  }, {
    key: "depth",
    get: function get() {
      return this.children.reduce(function (depth, child) {
        return Math.max(child.depth + 1, depth);
      }, 1);
    }
  }, {
    key: "size",
    get: function get() {
      var i = 0;
      this.walk(function () {
        return i++;
      });
      return i;
    }
  }]);

  return TreeNode;
}();



/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/color-generator.tsx":
/*!*********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/color-generator.tsx ***!
  \*********************************************************************/
/*! exports provided: clear, getColorByKey, getRgbColorByKey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "clear", function() { return clear; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getColorByKey", function() { return getColorByKey; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRgbColorByKey", function() { return getRgbColorByKey; });
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
 // TS needs the precise return type

function strToRgb(s) {
  if (s.length !== 7) {
    return [0, 0, 0];
  }

  var r = s.slice(1, 3);
  var g = s.slice(3, 5);
  var b = s.slice(5);
  return [parseInt(r, 16), parseInt(g, 16), parseInt(b, 16)];
}

var ColorGenerator =
/*#__PURE__*/
function () {
  function ColorGenerator(colorsHex) {
    _classCallCheck(this, ColorGenerator);

    this.colorsHex = colorsHex;
    this.colorsRgb = colorsHex.map(strToRgb);
    this.cache = new Map();
    this.currentIdx = 0;
  }

  _createClass(ColorGenerator, [{
    key: "_getColorIndex",
    value: function _getColorIndex(key) {
      var i = this.cache.get(key);

      if (i == null) {
        i = this.currentIdx;
        this.cache.set(key, this.currentIdx);
        this.currentIdx = ++this.currentIdx % this.colorsHex.length;
      }

      return i;
    }
    /**
     * Will assign a color to an arbitrary key.
     * If the key has been used already, it will
     * use the same color.
     */

  }, {
    key: "getColorByKey",
    value: function getColorByKey(key) {
      var i = this._getColorIndex(key);

      return this.colorsHex[i];
    }
    /**
     * Retrieve the RGB values associated with a key. Adds the key and associates
     * it with a color if the key is not recognized.
     * @return {number[]} An array of three ints [0, 255] representing a color.
     */

  }, {
    key: "getRgbColorByKey",
    value: function getRgbColorByKey(key) {
      var i = this._getColorIndex(key);

      return this.colorsRgb[i];
    }
  }, {
    key: "clear",
    value: function clear() {
      this.cache.clear();
      this.currentIdx = 0;
    }
  }]);

  return ColorGenerator;
}();

var getGenerator = Object(memoize_one__WEBPACK_IMPORTED_MODULE_0__["default"])(function (colors) {
  return new ColorGenerator(colors);
});
function clear() {
  getGenerator([]);
}
function getColorByKey(key, theme) {
  return getGenerator(theme.servicesColorPalette).getColorByKey(key);
}
function getRgbColorByKey(key, theme) {
  return getGenerator(theme.servicesColorPalette).getRgbColorByKey(key);
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/config/get-config.tsx":
/*!***********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/config/get-config.tsx ***!
  \***********************************************************************/
/*! exports provided: default, getConfigValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return getConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getConfigValue", function() { return getConfigValue; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _constants_default_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants/default-config */ "./packages/jaeger-ui-components/src/constants/default-config.tsx");
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.


/**
 * Merge the embedded config from the query service (if present) with the
 * default config from `../../constants/default-config`.
 */

function getConfig() {
  return _constants_default_config__WEBPACK_IMPORTED_MODULE_1__["default"];
}
function getConfigValue(path) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(getConfig(), path);
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/date.tsx":
/*!**********************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/date.tsx ***!
  \**********************************************************/
/*! exports provided: STANDARD_DATE_FORMAT, STANDARD_TIME_FORMAT, STANDARD_DATETIME_FORMAT, ONE_MILLISECOND, ONE_SECOND, DEFAULT_MS_PRECISION, getPercentageOfDuration, formatDate, formatTime, formatDatetime, formatMillisecondTime, formatSecondTime, formatDuration, formatRelativeDate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STANDARD_DATE_FORMAT", function() { return STANDARD_DATE_FORMAT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STANDARD_TIME_FORMAT", function() { return STANDARD_TIME_FORMAT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STANDARD_DATETIME_FORMAT", function() { return STANDARD_DATETIME_FORMAT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ONE_MILLISECOND", function() { return ONE_MILLISECOND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ONE_SECOND", function() { return ONE_SECOND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_MS_PRECISION", function() { return DEFAULT_MS_PRECISION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPercentageOfDuration", function() { return getPercentageOfDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDate", function() { return formatDate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatTime", function() { return formatTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDatetime", function() { return formatDatetime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatMillisecondTime", function() { return formatMillisecondTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatSecondTime", function() { return formatSecondTime; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatDuration", function() { return formatDuration; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatRelativeDate", function() { return formatRelativeDate; });
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment-timezone */ "./node_modules/moment-timezone/index.js");
/* harmony import */ var moment_timezone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_round__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/round */ "./node_modules/lodash/round.js");
/* harmony import */ var lodash_round__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_round__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _number__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./number */ "./packages/jaeger-ui-components/src/utils/number.tsx");
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



var TODAY = 'Today';
var YESTERDAY = 'Yesterday';
var STANDARD_DATE_FORMAT = 'YYYY-MM-DD';
var STANDARD_TIME_FORMAT = 'HH:mm';
var STANDARD_DATETIME_FORMAT = 'MMMM D YYYY, HH:mm:ss.SSS';
var ONE_MILLISECOND = 1000;
var ONE_SECOND = 1000 * ONE_MILLISECOND;
var DEFAULT_MS_PRECISION = Math.log10(ONE_MILLISECOND);
/**
 * @param {number} timestamp
 * @param {number} initialTimestamp
 * @param {number} totalDuration
 * @return {number} 0-100 percentage
 */

function getPercentageOfDuration(duration, totalDuration) {
  return duration / totalDuration * 100;
}

var quantizeDuration = function quantizeDuration(duration, floatPrecision, conversionFactor) {
  return Object(_number__WEBPACK_IMPORTED_MODULE_2__["toFloatPrecision"])(duration / conversionFactor, floatPrecision) * conversionFactor;
};
/**
 * @param {number} duration (in microseconds)
 * @return {string} formatted, unit-labelled string with time in milliseconds
 */


function formatDate(duration) {
  return moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(duration / ONE_MILLISECOND).format(STANDARD_DATE_FORMAT);
}
/**
 * @param {number} duration (in microseconds)
 * @return {string} formatted, unit-labelled string with time in milliseconds
 */

function formatTime(duration) {
  return moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(duration / ONE_MILLISECOND).format(STANDARD_TIME_FORMAT);
}
/**
 * @param {number} duration (in microseconds)
 * @return {string} formatted, unit-labelled string with time in milliseconds
 */

function formatDatetime(duration) {
  return moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(duration / ONE_MILLISECOND).format(STANDARD_DATETIME_FORMAT);
}
/**
 * @param {number} duration (in microseconds)
 * @return {string} formatted, unit-labelled string with time in milliseconds
 */

function formatMillisecondTime(duration) {
  var targetDuration = quantizeDuration(duration, DEFAULT_MS_PRECISION, ONE_MILLISECOND);
  return "".concat(moment_timezone__WEBPACK_IMPORTED_MODULE_0___default.a.duration(targetDuration / ONE_MILLISECOND).asMilliseconds(), "ms");
}
/**
 * @param {number} duration (in microseconds)
 * @return {string} formatted, unit-labelled string with time in seconds
 */

function formatSecondTime(duration) {
  var targetDuration = quantizeDuration(duration, DEFAULT_MS_PRECISION, ONE_SECOND);
  return "".concat(moment_timezone__WEBPACK_IMPORTED_MODULE_0___default.a.duration(targetDuration / ONE_MILLISECOND).asSeconds(), "s");
}
/**
 * Humanizes the duration based on the inputUnit
 *
 * Example:
 * 5000ms => 5s
 * 1000s => 1ms
 */

function formatDuration(duration) {
  var inputUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'microseconds';
  var d = duration;

  if (inputUnit === 'microseconds') {
    d = duration / 1000;
  }

  var units = 'ms';

  if (d >= 1000) {
    units = 's';
    d /= 1000;
  }

  return lodash_round__WEBPACK_IMPORTED_MODULE_1___default()(d, 2) + units;
}
function formatRelativeDate(value) {
  var fullMonthName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var m = moment_timezone__WEBPACK_IMPORTED_MODULE_0___default.a.isMoment(value) ? value : moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(value);
  var monthFormat = fullMonthName ? 'MMMM' : 'MMM';
  var dt = new Date();

  if (dt.getFullYear() !== m.year()) {
    return m.format("".concat(monthFormat, " D, YYYY"));
  }

  var mMonth = m.month();
  var mDate = m.date();
  var date = dt.getDate();

  if (mMonth === dt.getMonth() && mDate === date) {
    return TODAY;
  }

  dt.setDate(date - 1);

  if (mMonth === dt.getMonth() && mDate === dt.getDate()) {
    return YESTERDAY;
  }

  return m.format("".concat(monthFormat, " D"));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/filter-spans.tsx":
/*!******************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/filter-spans.tsx ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return filterSpans; });
// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
function filterSpans(textFilter, spans) {
  if (!spans) {
    return null;
  } // if a span field includes at least one filter in includeFilters, the span is a match


  var includeFilters = []; // values with keys that include text in any one of the excludeKeys will be ignored

  var excludeKeys = []; // split textFilter by whitespace, remove empty strings, and extract includeFilters and excludeKeys

  textFilter.split(/\s+/).filter(Boolean).forEach(function (w) {
    if (w[0] === '-') {
      excludeKeys.push(w.substr(1).toLowerCase());
    } else {
      includeFilters.push(w.toLowerCase());
    }
  });

  var isTextInFilters = function isTextInFilters(filters, text) {
    return filters.some(function (filter) {
      return text.toLowerCase().includes(filter);
    });
  };

  var isTextInKeyValues = function isTextInKeyValues(kvs) {
    return kvs ? kvs.some(function (kv) {
      // ignore checking key and value for a match if key is in excludeKeys
      if (isTextInFilters(excludeKeys, kv.key)) {
        return false;
      } // match if key or value matches an item in includeFilters


      return isTextInFilters(includeFilters, kv.key) || isTextInFilters(includeFilters, kv.value.toString());
    }) : false;
  };

  var isSpanAMatch = function isSpanAMatch(span) {
    return isTextInFilters(includeFilters, span.operationName) || isTextInFilters(includeFilters, span.process.serviceName) || isTextInKeyValues(span.tags) || span.logs.some(function (log) {
      return isTextInKeyValues(log.fields);
    }) || isTextInKeyValues(span.process.tags) || includeFilters.some(function (filter) {
      return filter === span.spanID;
    });
  }; // declare as const because need to disambiguate the type


  var rv = new Set(spans.filter(isSpanAMatch).map(function (span) {
    return span.spanID;
  }));
  return rv;
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/number.tsx":
/*!************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/number.tsx ***!
  \************************************************************/
/*! exports provided: toFloatPrecision */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toFloatPrecision", function() { return toFloatPrecision; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * given a number and a desired precision for the floating
 * side, return the number at the new precision.
 *
 * toFloatPrecision(3.55, 1) // 3.5
 * toFloatPrecision(0.04422, 2) // 0.04
 * toFloatPrecision(6.24e6, 2) // 6240000.00
 *
 * does not support numbers that use "e" notation on toString.
 *
 * @param {number} number
 * @param {number} precision
 * @return {number} number at new floating precision
 */
function toFloatPrecision(number, precision) {
  var log10Length = Math.floor(Math.log10(Math.abs(number))) + 1;
  var targetPrecision = precision + log10Length;

  if (targetPrecision <= 0) {
    return Math.trunc(number);
  }

  return Number(number.toPrecision(targetPrecision));
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/sort.js":
/*!*********************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/sort.js ***!
  \*********************************************************/
/*! exports provided: localeStringComparator, numberSortComparator, classNameForSortDir, getNewSortForClick, createSortClickHandler */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "localeStringComparator", function() { return localeStringComparator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "numberSortComparator", function() { return numberSortComparator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "classNameForSortDir", function() { return classNameForSortDir; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getNewSortForClick", function() { return getNewSortForClick; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSortClickHandler", function() { return createSortClickHandler; });
// Copyright (c) 2017 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
function localeStringComparator(itemA, itemB) {
  return itemA.localeCompare(itemB);
}
function numberSortComparator(itemA, itemB) {
  return itemA - itemB;
}
function classNameForSortDir(dir) {
  return "sorted ".concat(dir === 1 ? 'ascending' : 'descending');
}
function getNewSortForClick(prevSort, column) {
  var _column$defaultDir = column.defaultDir,
      defaultDir = _column$defaultDir === void 0 ? 1 : _column$defaultDir;
  return {
    key: column.name,
    dir: prevSort.key === column.name ? -1 * prevSort.dir : defaultDir
  };
}
function createSortClickHandler(column, currentSortKey, currentSortDir, updateSort) {
  return function onClickSortingElement() {
    var _getNewSortForClick = getNewSortForClick({
      key: currentSortKey,
      dir: currentSortDir
    }, column),
        key = _getNewSortForClick.key,
        dir = _getNewSortForClick.dir;

    updateSort(key, dir);
  };
}

/***/ }),

/***/ "./packages/jaeger-ui-components/src/utils/span-ancestor-ids.tsx":
/*!***********************************************************************!*\
  !*** ./packages/jaeger-ui-components/src/utils/span-ancestor-ids.tsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return spanAncestorIds; });
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
// Copyright (c) 2019 Uber Technologies, Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.



function getFirstAncestor(span) {
  return lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lodash_find__WEBPACK_IMPORTED_MODULE_0___default()(span.references, function (_ref) {
    var ref = _ref.span,
        refType = _ref.refType;
    return ref && ref.spanID && (refType === 'CHILD_OF' || refType === 'FOLLOWS_FROM');
  }), 'span');
}

function spanAncestorIds(span) {
  var ancestorIDs = [];

  if (!span) {
    return ancestorIDs;
  }

  var ref = getFirstAncestor(span);

  while (ref) {
    ancestorIDs.push(ref.spanID);
    ref = getFirstAncestor(ref);
  }

  return ancestorIDs;
}

/***/ }),

/***/ "./public/app/core/components/Animations/FadeIn.tsx":
/*!**********************************************************!*\
  !*** ./public/app/core/components/Animations/FadeIn.tsx ***!
  \**********************************************************/
/*! exports provided: FadeIn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FadeIn", function() { return FadeIn; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_transition_group_Transition__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-transition-group/Transition */ "./node_modules/react-transition-group/esm/Transition.js");
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var FadeIn = function FadeIn(props) {
  var defaultStyle = {
    transition: "opacity ".concat(props.duration, "ms linear"),
    opacity: 0
  };
  var transitionStyles = {
    exited: {
      opacity: 0,
      display: 'none'
    },
    entering: {
      opacity: 0
    },
    entered: {
      opacity: 1
    },
    exiting: {
      opacity: 0
    }
  };
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group_Transition__WEBPACK_IMPORTED_MODULE_1__["default"], {
    in: props.in,
    timeout: props.duration,
    unmountOnExit: props.unmountOnExit || false,
    onExited: props.onExited
  }, function (state) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      style: _objectSpread({}, defaultStyle, {}, transitionStyles[state])
    }, props.children);
  });
};

/***/ }),

/***/ "./public/app/features/explore/ElapsedTime.tsx":
/*!*****************************************************!*\
  !*** ./public/app/features/explore/ElapsedTime.tsx ***!
  \*****************************************************/
/*! exports provided: ElapsedTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ElapsedTime", function() { return ElapsedTime; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-use */ "./node_modules/react-use/esm/index.js");
/* harmony import */ var _Time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Time */ "./public/app/features/explore/Time.tsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




var INTERVAL = 150;
var ElapsedTime = function ElapsedTime(_ref) {
  var resetKey = _ref.resetKey,
      humanize = _ref.humanize,
      className = _ref.className;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0),
      _useState2 = _slicedToArray(_useState, 2),
      elapsed = _useState2[0],
      setElapsed = _useState2[1]; // the current value of elapsed
  // hook that will schedule a interval and then update the elapsed value on every tick.


  Object(react_use__WEBPACK_IMPORTED_MODULE_1__["useInterval"])(function () {
    return setElapsed(elapsed + INTERVAL);
  }, INTERVAL); // this effect will only be run when resetKey changes. This will reset the elapsed to 0.

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    return setElapsed(0);
  }, [resetKey]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Time__WEBPACK_IMPORTED_MODULE_2__["Time"], {
    timeInMs: elapsed,
    className: className,
    humanize: humanize
  });
};

/***/ }),

/***/ "./public/app/features/explore/ErrorContainer.tsx":
/*!********************************************************!*\
  !*** ./public/app/features/explore/ErrorContainer.tsx ***!
  \********************************************************/
/*! exports provided: ErrorContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorContainer", function() { return ErrorContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_components_Animations_FadeIn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/core/components/Animations/FadeIn */ "./public/app/core/components/Animations/FadeIn.tsx");



var ErrorContainer = function ErrorContainer(props) {
  var queryError = props.queryError;
  var showError = queryError ? true : false;
  var duration = showError ? 100 : 10;
  var message = queryError ? queryError.message : null;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_Animations_FadeIn__WEBPACK_IMPORTED_MODULE_2__["FadeIn"], {
    in: showError,
    duration: duration
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "alert-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "alert-error alert"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "alert-icon"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: "exclamation-triangle"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "alert-body"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "alert-title"
  }, message)))));
};

/***/ }),

/***/ "./public/app/features/explore/Explore.tsx":
/*!*************************************************!*\
  !*** ./public/app/features/explore/Explore.tsx ***!
  \*************************************************/
/*! exports provided: Explore, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Explore", function() { return Explore; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-virtualized-auto-sizer */ "./node_modules/react-virtualized-auto-sizer/dist/index.esm.js");
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @grafana/e2e-selectors */ "./packages/grafana-e2e-selectors/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var app_core_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/core/store */ "./public/app/core/store.ts");
/* harmony import */ var _LogsContainer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LogsContainer */ "./public/app/features/explore/LogsContainer.tsx");
/* harmony import */ var _QueryRows__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./QueryRows */ "./public/app/features/explore/QueryRows.tsx");
/* harmony import */ var _TableContainer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./TableContainer */ "./public/app/features/explore/TableContainer.tsx");
/* harmony import */ var _RichHistory_RichHistoryContainer__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./RichHistory/RichHistoryContainer */ "./public/app/features/explore/RichHistory/RichHistoryContainer.tsx");
/* harmony import */ var _ExploreQueryInspector__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ExploreQueryInspector */ "./public/app/features/explore/ExploreQueryInspector.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! app/core/utils/explore */ "./public/app/core/utils/explore.ts");
/* harmony import */ var app_core_utils_emitter__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! app/core/utils/emitter */ "./public/app/core/utils/emitter.ts");
/* harmony import */ var _ExploreToolbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ExploreToolbar */ "./public/app/features/explore/ExploreToolbar.tsx");
/* harmony import */ var _NoDataSourceCallToAction__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./NoDataSourceCallToAction */ "./public/app/features/explore/NoDataSourceCallToAction.tsx");
/* harmony import */ var _profile_state_selectors__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../profile/state/selectors */ "./public/app/features/profile/state/selectors.ts");
/* harmony import */ var _ErrorContainer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ErrorContainer */ "./public/app/features/explore/ErrorContainer.tsx");
/* harmony import */ var _state_actionTypes__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./state/actionTypes */ "./public/app/features/explore/state/actionTypes.ts");
/* harmony import */ var _ExploreGraphPanel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ExploreGraphPanel */ "./public/app/features/explore/ExploreGraphPanel.tsx");
/* harmony import */ var _TraceView_TraceView__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./TraceView/TraceView */ "./public/app/features/explore/TraceView/TraceView.tsx");
/* harmony import */ var _SecondaryActions__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./SecondaryActions */ "./public/app/features/explore/SecondaryActions.tsx");
/* harmony import */ var _grafana_ui_src_components_Table_types__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @grafana/ui/src/components/Table/types */ "./packages/grafana-ui/src/components/Table/types.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: queryContainer;\n      // Need to override normal css class and don't want to count on ordering of the classes in html.\n      height: auto !important;\n      flex: unset !important;\n      padding: ", "px;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: button;\n      margin: 1em 4px 0 0;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: logsMain;\n      // Is needed for some transition animations to work.\n      position: relative;\n      margin-top: 21px;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

























 //TODO:unification




var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__["stylesFactory"])(function (theme) {
  return {
    logsMain: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject()),
    button: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2()),
    queryContainer: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3(), theme.panelPadding)
  };
});
var ExploreDrawer;

(function (ExploreDrawer) {
  ExploreDrawer[ExploreDrawer["RichHistory"] = 0] = "RichHistory";
  ExploreDrawer[ExploreDrawer["QueryInspector"] = 1] = "QueryInspector";
})(ExploreDrawer || (ExploreDrawer = {}));

/**
 * Explore provides an area for quick query iteration for a given datasource.
 * Once a datasource is selected it populates the query section at the top.
 * When queries are run, their results are being displayed in the main section.
 * The datasource determines what kind of query editor it brings, and what kind
 * of results viewers it supports. The state is managed entirely in Redux.
 *
 * SPLIT VIEW
 *
 * Explore can have two Explore areas side-by-side. This is handled in `Wrapper.tsx`.
 * Since there can be multiple Explores (e.g., left and right) each action needs
 * the `exploreId` as first parameter so that the reducer knows which Explore state
 * is affected.
 *
 * DATASOURCE REQUESTS
 *
 * A click on Run Query creates transactions for all DataQueries for all expanded
 * result viewers. New runs are discarding previous runs. Upon completion a transaction
 * saves the result. The result viewers construct their data from the currently existing
 * transactions.
 *
 * The result viewers determine some of the query options sent to the datasource, e.g.,
 * `format`, to indicate eventual transformations by the datasources' result transformers.
 */
var Explore =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(Explore, _React$PureComponent);

  function Explore(props) {
    var _this;

    _classCallCheck(this, Explore);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Explore).call(this, props));

    _this.getRef = function (el) {
      _this.el = el;
    };

    _this.onChangeTime = function (rawRange) {
      var _this$props = _this.props,
          updateTimeRange = _this$props.updateTimeRange,
          exploreId = _this$props.exploreId;
      updateTimeRange({
        exploreId: exploreId,
        rawRange: rawRange
      });
    };

    _this.onClickExample = function (query) {
      _this.props.setQueries(_this.props.exploreId, [query]);
    };

    _this.onCellFilterAdded = function (filter) {
      var value = filter.value,
          key = filter.key,
          operator = filter.operator;

      if (operator === _grafana_ui_src_components_Table_types__WEBPACK_IMPORTED_MODULE_27__["FILTER_FOR_OPERATOR"]) {
        _this.onClickFilterLabel(key, value);
      }

      if (operator === _grafana_ui_src_components_Table_types__WEBPACK_IMPORTED_MODULE_27__["FILTER_OUT_OPERATOR"]) {
        _this.onClickFilterOutLabel(key, value);
      }
    };

    _this.onClickFilterLabel = function (key, value) {
      _this.onModifyQueries({
        type: 'ADD_FILTER',
        key: key,
        value: value
      });
    };

    _this.onClickFilterOutLabel = function (key, value) {
      _this.onModifyQueries({
        type: 'ADD_FILTER_OUT',
        key: key,
        value: value
      });
    };

    _this.onClickAddQueryRowButton = function () {
      var _this$props2 = _this.props,
          exploreId = _this$props2.exploreId,
          queryKeys = _this$props2.queryKeys;

      _this.props.addQueryRow(exploreId, queryKeys.length);
    };

    _this.onModifyQueries = function (action, index) {
      var datasourceInstance = _this.props.datasourceInstance;

      if (datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.modifyQuery) {
        var modifier = function modifier(queries, modification) {
          return datasourceInstance.modifyQuery(queries, modification);
        };

        _this.props.modifyQueries(_this.props.exploreId, action, modifier, index);
      }
    };

    _this.onResize = function (size) {
      _this.props.changeSize(_this.props.exploreId, size);
    };

    _this.onStartScanning = function () {
      // Scanner will trigger a query
      _this.props.scanStart(_this.props.exploreId);
    };

    _this.onStopScanning = function () {
      _this.props.scanStopAction({
        exploreId: _this.props.exploreId
      });
    };

    _this.onToggleGraph = function (showingGraph) {
      var _this$props3 = _this.props,
          toggleGraph = _this$props3.toggleGraph,
          exploreId = _this$props3.exploreId;
      toggleGraph(exploreId, showingGraph);
    };

    _this.onUpdateTimeRange = function (absoluteRange) {
      var _this$props4 = _this.props,
          exploreId = _this$props4.exploreId,
          updateTimeRange = _this$props4.updateTimeRange;
      updateTimeRange({
        exploreId: exploreId,
        absoluteRange: absoluteRange
      });
    };

    _this.toggleShowRichHistory = function () {
      _this.setState(function (state) {
        return {
          openDrawer: state.openDrawer === ExploreDrawer.RichHistory ? undefined : ExploreDrawer.RichHistory
        };
      });
    };

    _this.toggleShowQueryInspector = function () {
      _this.setState(function (state) {
        return {
          openDrawer: state.openDrawer === ExploreDrawer.QueryInspector ? undefined : ExploreDrawer.QueryInspector
        };
      });
    };

    _this.refreshExplore = function () {
      var _this$props5 = _this.props,
          exploreId = _this$props5.exploreId,
          update = _this$props5.update;

      if (update.queries || update.ui || update.range || update.datasource || update.mode) {
        _this.props.refreshExplore(exploreId);
      }
    };

    _this.renderEmptyState = function () {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-container"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_NoDataSourceCallToAction__WEBPACK_IMPORTED_MODULE_20__["NoDataSourceCallToAction"], null));
    };

    _this.exploreEvents = new app_core_utils_emitter__WEBPACK_IMPORTED_MODULE_18__["Emitter"]();
    _this.state = {
      openDrawer: undefined
    };
    return _this;
  }

  _createClass(Explore, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this$props6 = this.props,
          initialized = _this$props6.initialized,
          exploreId = _this$props6.exploreId,
          initialDatasource = _this$props6.initialDatasource,
          initialQueries = _this$props6.initialQueries,
          initialRange = _this$props6.initialRange,
          initialUI = _this$props6.initialUI,
          originPanelId = _this$props6.originPanelId;
      var width = this.el ? this.el.offsetWidth : 0; // initialize the whole explore first time we mount and if browser history contains a change in datasource

      if (!initialized) {
        this.props.initializeExplore(exploreId, initialDatasource, initialQueries, initialRange, width, this.exploreEvents, initialUI, originPanelId);
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.exploreEvents.removeAllListeners();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      this.refreshExplore();
    }
  }, {
    key: "render",
    value: function render() {
      var _datasourceInstance$c,
          _this2 = this;

      var _this$props7 = this.props,
          datasourceInstance = _this$props7.datasourceInstance,
          datasourceMissing = _this$props7.datasourceMissing,
          exploreId = _this$props7.exploreId,
          split = _this$props7.split,
          queryKeys = _this$props7.queryKeys,
          graphResult = _this$props7.graphResult,
          loading = _this$props7.loading,
          absoluteRange = _this$props7.absoluteRange,
          showingGraph = _this$props7.showingGraph,
          showingTable = _this$props7.showingTable,
          timeZone = _this$props7.timeZone,
          queryResponse = _this$props7.queryResponse,
          syncedTimes = _this$props7.syncedTimes,
          isLive = _this$props7.isLive,
          theme = _this$props7.theme,
          showMetrics = _this$props7.showMetrics,
          showTable = _this$props7.showTable,
          showLogs = _this$props7.showLogs,
          showTrace = _this$props7.showTrace;
      var openDrawer = this.state.openDrawer;
      var exploreClass = split ? 'explore explore-split' : 'explore';
      var styles = getStyles(theme);
      var StartPage = datasourceInstance === null || datasourceInstance === void 0 ? void 0 : (_datasourceInstance$c = datasourceInstance.components) === null || _datasourceInstance$c === void 0 ? void 0 : _datasourceInstance$c.ExploreStartPage;
      var showStartPage = !queryResponse || queryResponse.state === _grafana_data__WEBPACK_IMPORTED_MODULE_9__["LoadingState"].NotStarted; // gets an error without a refID, so non-query-row-related error, like a connection error

      var queryErrors = queryResponse.error ? [queryResponse.error] : undefined;
      var queryError = Object(app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["getFirstNonQueryRowSpecificError"])(queryErrors);
      var showRichHistory = openDrawer === ExploreDrawer.RichHistory;
      var showQueryInspector = openDrawer === ExploreDrawer.QueryInspector;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: exploreClass,
        ref: this.getRef,
        "aria-label": _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_7__["selectors"].pages.Explore.General.container
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreToolbar__WEBPACK_IMPORTED_MODULE_19__["ExploreToolbar"], {
        exploreId: exploreId,
        onChangeTime: this.onChangeTime
      }), datasourceMissing ? this.renderEmptyState() : null, datasourceInstance && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-container"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["cx"])('panel-container', styles.queryContainer)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QueryRows__WEBPACK_IMPORTED_MODULE_12__["default"], {
        exploreEvents: this.exploreEvents,
        exploreId: exploreId,
        queryKeys: queryKeys
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SecondaryActions__WEBPACK_IMPORTED_MODULE_26__["SecondaryActions"], {
        addQueryRowButtonDisabled: isLive // We cannot show multiple traces at the same time right now so we do not show add query button.
        //TODO:unification
        ,
        addQueryRowButtonHidden: false,
        richHistoryButtonActive: showRichHistory,
        queryInspectorButtonActive: showQueryInspector,
        onClickAddQueryRowButton: this.onClickAddQueryRowButton,
        onClickRichHistoryButton: this.toggleShowRichHistory,
        onClickQueryInspectorButton: this.toggleShowQueryInspector
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ErrorContainer__WEBPACK_IMPORTED_MODULE_22__["ErrorContainer"], {
        queryError: queryError
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_virtualized_auto_sizer__WEBPACK_IMPORTED_MODULE_5__["default"], {
        onResize: this.onResize,
        disableHeight: true
      }, function (_ref) {
        var _this2$props$datasour;

        var width = _ref.width;

        if (width === 0) {
          return null;
        }

        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
          className: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["cx"])(styles.logsMain),
          style: {
            width: width
          }
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__["ErrorBoundaryAlert"], null, showStartPage && StartPage && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
          className: 'grafana-info-box grafana-info-box--max-lg'
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StartPage, {
          onClickExample: _this2.onClickExample,
          datasource: datasourceInstance,
          exploreId: exploreId
        })), !showStartPage && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, showMetrics && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreGraphPanel__WEBPACK_IMPORTED_MODULE_24__["ExploreGraphPanel"], {
          ariaLabel: _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_7__["selectors"].pages.Explore.General.graph,
          series: graphResult,
          width: width,
          loading: loading,
          absoluteRange: absoluteRange,
          isStacked: false,
          showPanel: true,
          showingGraph: showingGraph,
          showingTable: showingTable,
          timeZone: timeZone,
          onToggleGraph: _this2.onToggleGraph,
          onUpdateTimeRange: _this2.onUpdateTimeRange,
          showBars: false,
          showLines: true
        }), showTable && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TableContainer__WEBPACK_IMPORTED_MODULE_13__["default"], {
          ariaLabel: _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_7__["selectors"].pages.Explore.General.table,
          width: width,
          exploreId: exploreId,
          onCellFilterAdded: ((_this2$props$datasour = _this2.props.datasourceInstance) === null || _this2$props$datasour === void 0 ? void 0 : _this2$props$datasour.modifyQuery) ? _this2.onCellFilterAdded : undefined
        }), showLogs && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LogsContainer__WEBPACK_IMPORTED_MODULE_11__["default"], {
          width: width,
          exploreId: exploreId,
          syncedTimes: syncedTimes,
          onClickFilterLabel: _this2.onClickFilterLabel,
          onClickFilterOutLabel: _this2.onClickFilterOutLabel,
          onStartScanning: _this2.onStartScanning,
          onStopScanning: _this2.onStopScanning
        }), showTrace && // We expect only one trace at the moment to be in the dataframe
        // If there is not data (like 404) we show a separate error so no need to show anything here
        queryResponse.series[0] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TraceView_TraceView__WEBPACK_IMPORTED_MODULE_25__["TraceView"], {
          trace: queryResponse.series[0].fields[0].values.get(0)
        })), showRichHistory && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistory_RichHistoryContainer__WEBPACK_IMPORTED_MODULE_14__["default"], {
          width: width,
          exploreId: exploreId,
          onClose: _this2.toggleShowRichHistory
        }), showQueryInspector && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreQueryInspector__WEBPACK_IMPORTED_MODULE_15__["default"], {
          exploreId: exploreId,
          width: width,
          onClose: _this2.toggleShowQueryInspector
        })));
      })));
    }
  }]);

  return Explore;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);
var ensureQueriesMemoized = Object(memoize_one__WEBPACK_IMPORTED_MODULE_6__["default"])(app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["ensureQueries"]);
var getTimeRangeFromUrlMemoized = Object(memoize_one__WEBPACK_IMPORTED_MODULE_6__["default"])(app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["getTimeRangeFromUrl"]);

function mapStateToProps(state, _ref2) {
  var exploreId = _ref2.exploreId;
  var explore = state.explore;
  var split = explore.split,
      syncedTimes = explore.syncedTimes;
  var item = explore[exploreId];
  var timeZone = Object(_profile_state_selectors__WEBPACK_IMPORTED_MODULE_21__["getTimeZone"])(state.user);
  var datasourceInstance = item.datasourceInstance,
      datasourceMissing = item.datasourceMissing,
      initialized = item.initialized,
      queryKeys = item.queryKeys,
      urlState = item.urlState,
      update = item.update,
      isLive = item.isLive,
      graphResult = item.graphResult,
      logsResult = item.logsResult,
      showLogs = item.showLogs,
      showMetrics = item.showMetrics,
      showTable = item.showTable,
      showTrace = item.showTrace,
      loading = item.loading,
      showingGraph = item.showingGraph,
      showingTable = item.showingTable,
      absoluteRange = item.absoluteRange,
      queryResponse = item.queryResponse;

  var _ref3 = urlState || {},
      datasource = _ref3.datasource,
      queries = _ref3.queries,
      urlRange = _ref3.range,
      ui = _ref3.ui,
      originPanelId = _ref3.originPanelId;

  var initialDatasource = datasource || app_core_store__WEBPACK_IMPORTED_MODULE_10__["default"].get(Object(app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["lastUsedDatasourceKeyForOrgId"])(state.user.orgId));
  var initialQueries = ensureQueriesMemoized(queries);
  var initialRange = urlRange ? getTimeRangeFromUrlMemoized(urlRange, timeZone) : Object(app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["getTimeRange"])(timeZone, app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["DEFAULT_RANGE"]);
  var initialUI = ui || app_core_utils_explore__WEBPACK_IMPORTED_MODULE_17__["DEFAULT_UI_STATE"];
  return {
    datasourceInstance: datasourceInstance,
    datasourceMissing: datasourceMissing,
    initialized: initialized,
    split: split,
    queryKeys: queryKeys,
    update: update,
    initialDatasource: initialDatasource,
    initialQueries: initialQueries,
    initialRange: initialRange,
    initialUI: initialUI,
    isLive: isLive,
    graphResult: graphResult !== null && graphResult !== void 0 ? graphResult : undefined,
    logsResult: logsResult !== null && logsResult !== void 0 ? logsResult : undefined,
    loading: loading,
    showingGraph: showingGraph,
    showingTable: showingTable,
    absoluteRange: absoluteRange,
    queryResponse: queryResponse,
    originPanelId: originPanelId,
    syncedTimes: syncedTimes,
    timeZone: timeZone,
    showLogs: showLogs,
    showMetrics: showMetrics,
    showTable: showTable,
    showTrace: showTrace
  };
}

var mapDispatchToProps = {
  changeSize: _state_actions__WEBPACK_IMPORTED_MODULE_16__["changeSize"],
  initializeExplore: _state_actions__WEBPACK_IMPORTED_MODULE_16__["initializeExplore"],
  modifyQueries: _state_actions__WEBPACK_IMPORTED_MODULE_16__["modifyQueries"],
  refreshExplore: _state_actions__WEBPACK_IMPORTED_MODULE_16__["refreshExplore"],
  scanStart: _state_actions__WEBPACK_IMPORTED_MODULE_16__["scanStart"],
  scanStopAction: _state_actionTypes__WEBPACK_IMPORTED_MODULE_23__["scanStopAction"],
  setQueries: _state_actions__WEBPACK_IMPORTED_MODULE_16__["setQueries"],
  updateTimeRange: _state_actions__WEBPACK_IMPORTED_MODULE_16__["updateTimeRange"],
  toggleGraph: _state_actions__WEBPACK_IMPORTED_MODULE_16__["toggleGraph"],
  addQueryRow: _state_actions__WEBPACK_IMPORTED_MODULE_16__["addQueryRow"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(redux__WEBPACK_IMPORTED_MODULE_3__["compose"])(Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__["hot"])(module), Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps), _grafana_ui__WEBPACK_IMPORTED_MODULE_8__["withTheme"])(Explore));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/ExploreDrawer.tsx":
/*!*******************************************************!*\
  !*** ./public/app/features/explore/ExploreDrawer.tsx ***!
  \*******************************************************/
/*! exports provided: ExploreDrawer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExploreDrawer", function() { return ExploreDrawer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var re_resizable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! re-resizable */ "./node_modules/re-resizable/lib/index.js");
/* harmony import */ var re_resizable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(re_resizable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      background: ", ";\n      transition: 0.3s background ease-in-out;\n      position: relative;\n      width: 200px !important;\n      height: 7px !important;\n      left: calc(50% - 100px) !important;\n      top: -4px !important;\n      cursor: grab;\n      border-radius: 4px;\n      &:hover {\n        background: ", ";\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      opacity: 1;\n      animation: 0.5s ease-out ", ";\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      position: fixed !important;\n      bottom: 0;\n      background: ", ";\n      border-top: 1px solid ", ";\n      margin: 0px;\n      margin-right: -", ";\n      margin-left: -", ";\n      box-shadow: 0 0 4px ", ";\n      z-index: ", ";\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n  0% {\n    transform: translateY(400px);\n  }\n\n  100% {\n    transform: translateY(0px);\n  }\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

// Libraries


 // Services & Utils

 // Types

var drawerSlide = Object(emotion__WEBPACK_IMPORTED_MODULE_2__["keyframes"])(_templateObject());
var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["stylesFactory"])(function (theme) {
  var shadowColor = theme.isLight ? theme.palette.gray4 : theme.palette.black;
  return {
    container: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2(), theme.colors.pageHeaderBg, theme.colors.formInputBorder, theme.spacing.md, theme.spacing.md, shadowColor, theme.zIndex.sidemenu),
    drawerActive: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3(), drawerSlide),
    rzHandle: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject4(), theme.colors.formInputBorder, theme.colors.formInputBorderHover)
  };
});
function ExploreDrawer(props) {
  var width = props.width,
      children = props.children,
      onResize = props.onResize;
  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["useTheme"])();
  var styles = getStyles(theme);
  var drawerWidth = "".concat(width + 31.5, "px");
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(re_resizable__WEBPACK_IMPORTED_MODULE_1__["Resizable"], {
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["cx"])(styles.container, styles.drawerActive),
    defaultSize: {
      width: drawerWidth,
      height: '400px'
    },
    handleClasses: {
      top: styles.rzHandle
    },
    enable: {
      top: true,
      right: false,
      bottom: false,
      left: false,
      topRight: false,
      bottomRight: false,
      bottomLeft: false,
      topLeft: false
    },
    maxHeight: "100vh",
    maxWidth: drawerWidth,
    minWidth: drawerWidth,
    onResize: onResize
  }, children);
}

/***/ }),

/***/ "./public/app/features/explore/ExploreGraphPanel.tsx":
/*!***********************************************************!*\
  !*** ./public/app/features/explore/ExploreGraphPanel.tsx ***!
  \***********************************************************/
/*! exports provided: ExploreGraphPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExploreGraphPanel", function() { return ExploreGraphPanel; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n    label: show-all-time-series;\n    cursor: pointer;\n    color: ", ";\n  "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    label: disclaimer-icon;\n    color: ", ";\n    margin-right: ", ";\n  "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: time-series-disclaimer;\n    width: 300px;\n    margin: ", " auto;\n    padding: 10px 0;\n    border-radius: ", ";\n    text-align: center;\n    background-color: ", ";\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }





var MAX_NUMBER_OF_TIME_SERIES = 20;

var getStyles = function getStyles(theme) {
  return {
    timeSeriesDisclaimer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.spacing.sm, theme.border.radius.md, Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["selectThemeVariant"])({
      light: theme.palette.white,
      dark: theme.palette.dark4
    }, theme.type)),
    disclaimerIcon: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), theme.palette.yellow, theme.spacing.xs),
    showAllTimeSeries: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3(), theme.colors.linkExternal)
  };
};

var UnThemedExploreGraphPanel =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(UnThemedExploreGraphPanel, _PureComponent);

  function UnThemedExploreGraphPanel() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UnThemedExploreGraphPanel);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UnThemedExploreGraphPanel)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      hiddenSeries: [],
      showAllTimeSeries: false
    };

    _this.onShowAllTimeSeries = function () {
      _this.setState({
        showAllTimeSeries: true
      });
    };

    _this.onClickGraphButton = function () {
      var _this$props = _this.props,
          onToggleGraph = _this$props.onToggleGraph,
          showingGraph = _this$props.showingGraph;

      if (onToggleGraph) {
        onToggleGraph(showingGraph !== null && showingGraph !== void 0 ? showingGraph : false);
      }
    };

    _this.onChangeTime = function (from, to) {
      var onUpdateTimeRange = _this.props.onUpdateTimeRange;
      onUpdateTimeRange({
        from: from,
        to: to
      });
    };

    _this.renderGraph = function () {
      var _this$props2 = _this.props,
          ariaLabel = _this$props2.ariaLabel,
          width = _this$props2.width,
          series = _this$props2.series,
          onHiddenSeriesChanged = _this$props2.onHiddenSeriesChanged,
          timeZone = _this$props2.timeZone,
          absoluteRange = _this$props2.absoluteRange,
          showPanel = _this$props2.showPanel,
          showingGraph = _this$props2.showingGraph,
          showingTable = _this$props2.showingTable,
          showBars = _this$props2.showBars,
          showLines = _this$props2.showLines,
          isStacked = _this$props2.isStacked;
      var showAllTimeSeries = _this.state.showAllTimeSeries;

      if (!series) {
        return null;
      }

      var timeRange = {
        from: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_2__["dateTime"])(absoluteRange.from),
        to: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_2__["dateTime"])(absoluteRange.to),
        raw: {
          from: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_2__["dateTime"])(absoluteRange.from),
          to: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_2__["dateTime"])(absoluteRange.to)
        }
      };
      var height = showPanel === false ? 100 : showingGraph && showingTable ? 200 : 400;
      var lineWidth = showLines ? 1 : 5;
      var seriesToShow = showAllTimeSeries ? series : series.slice(0, MAX_NUMBER_OF_TIME_SERIES);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["GraphSeriesToggler"], {
        series: seriesToShow,
        onHiddenSeriesChanged: onHiddenSeriesChanged
      }, function (_ref) {
        var onSeriesToggle = _ref.onSeriesToggle,
            toggledSeries = _ref.toggledSeries;
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["GraphWithLegend"], {
          ariaLabel: ariaLabel,
          displayMode: _grafana_ui__WEBPACK_IMPORTED_MODULE_3__["LegendDisplayMode"].List,
          height: height,
          isLegendVisible: true,
          placement: 'under',
          width: width,
          timeRange: timeRange,
          timeZone: timeZone,
          showBars: showBars,
          showLines: showLines,
          showPoints: false,
          onToggleSort: function onToggleSort() {},
          series: toggledSeries,
          isStacked: isStacked,
          lineWidth: lineWidth,
          onSeriesToggle: onSeriesToggle,
          onHorizontalRegionSelected: _this.onChangeTime
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Chart"].Tooltip, {
          mode: showBars ? 'multi' : 'single'
        }));
      });
    };

    return _this;
  }

  _createClass(UnThemedExploreGraphPanel, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          series = _this$props3.series,
          showPanel = _this$props3.showPanel,
          showingGraph = _this$props3.showingGraph,
          loading = _this$props3.loading,
          theme = _this$props3.theme;
      var showAllTimeSeries = this.state.showAllTimeSeries;
      var style = getStyles(theme);
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, series && series.length > MAX_NUMBER_OF_TIME_SERIES && !showAllTimeSeries && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])([style.timeSeriesDisclaimer])
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
        className: style.disclaimerIcon,
        name: "exclamation-triangle"
      }), "\u4EC5\u663E\u793A ".concat(MAX_NUMBER_OF_TIME_SERIES, " \u4E2A\u65F6\u95F4\u5E8F\u5217\u3002 "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])([style.showAllTimeSeries]),
        onClick: this.onShowAllTimeSeries
      }, "\u5168\u90E8\u663E\u793A ".concat(series.length))), showPanel && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Collapse"], {
        label: "\u56FE\u5F62",
        collapsible: true,
        isOpen: showingGraph,
        loading: loading,
        onToggle: this.onClickGraphButton
      }, this.renderGraph()), !showPanel && this.renderGraph());
    }
  }]);

  return UnThemedExploreGraphPanel;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var ExploreGraphPanel = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["withTheme"])(UnThemedExploreGraphPanel);
ExploreGraphPanel.displayName = 'ExploreGraphPanel';

/***/ }),

/***/ "./public/app/features/explore/ExploreQueryInspector.tsx":
/*!***************************************************************!*\
  !*** ./public/app/features/explore/ExploreQueryInspector.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var app_core_app_events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/core/app_events */ "./public/app/core/app_events.ts");
/* harmony import */ var app_core_components_CopyToClipboard_CopyToClipboard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/components/CopyToClipboard/CopyToClipboard */ "./public/app/core/components/CopyToClipboard/CopyToClipboard.tsx");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var app_features_explore_ExploreDrawer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/features/explore/ExploreDrawer */ "./public/app/features/explore/ExploreDrawer.tsx");
/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-use */ "./node_modules/react-use/esm/index.js");
/* harmony import */ var app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/core/services/backend_srv */ "./public/app/core/services/backend_srv.ts");
/* harmony import */ var _dashboard_components_Inspector_InspectStatsTab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dashboard/components/Inspector/InspectStatsTab */ "./public/app/features/dashboard/components/Inspector/InspectStatsTab.tsx");
/* harmony import */ var _dashboard_components_Inspector_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dashboard/components/Inspector/styles */ "./public/app/features/dashboard/components/Inspector/styles.ts");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }














function stripPropsFromResponse(response) {
  var _response$config;

  // ignore silent requests
  if ((_response$config = response.config) === null || _response$config === void 0 ? void 0 : _response$config.hideFromInspector) {
    return {};
  }

  var clonedResponse = _objectSpread({}, response); // clone - dont modify the response


  if (clonedResponse.headers) {
    delete clonedResponse.headers;
  }

  if (clonedResponse.config) {
    clonedResponse.request = clonedResponse.config;
    delete clonedResponse.config;
    delete clonedResponse.request.transformRequest;
    delete clonedResponse.request.transformResponse;
    delete clonedResponse.request.paramSerializer;
    delete clonedResponse.request.jsonpCallbackParam;
    delete clonedResponse.request.headers;
    delete clonedResponse.request.requestId;
    delete clonedResponse.request.inspect;
    delete clonedResponse.request.retry;
    delete clonedResponse.request.timeout;
  }

  if (clonedResponse.data) {
    clonedResponse.response = clonedResponse.data;
    delete clonedResponse.config;
    delete clonedResponse.data;
    delete clonedResponse.status;
    delete clonedResponse.statusText;
    delete clonedResponse.ok;
    delete clonedResponse.url;
    delete clonedResponse.redirected;
    delete clonedResponse.type;
    delete clonedResponse.$$config;
  }

  return clonedResponse;
}

function ExploreQueryInspector(props) {
  var _queryResponse$reques;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({}),
      _useState2 = _slicedToArray(_useState, 2),
      formattedJSON = _useState2[0],
      setFormattedJSON = _useState2[1];

  var getTextForClipboard = function getTextForClipboard() {
    return JSON.stringify(formattedJSON, null, 2);
  };

  var onClipboardSuccess = function onClipboardSuccess() {
    app_core_app_events__WEBPACK_IMPORTED_MODULE_3__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_2__["AppEvents"].alertSuccess, ['Content copied to clipboard']);
  };

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      allNodesExpanded = _useState4[0],
      setAllNodesExpanded = _useState4[1];

  var getOpenNodeCount = function getOpenNodeCount() {
    if (allNodesExpanded === null) {
      return 3; // 3 is default, ie when state is null
    } else if (allNodesExpanded) {
      return 20;
    }

    return 1;
  };

  var onToggleExpand = function onToggleExpand() {
    setAllNodesExpanded(!allNodesExpanded);
  };

  var loading = props.loading,
      width = props.width,
      onClose = props.onClose,
      queryResponse = props.queryResponse;

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({}),
      _useState6 = _slicedToArray(_useState5, 2),
      response = _useState6[0],
      setResponse = _useState6[1];

  Object(react_use__WEBPACK_IMPORTED_MODULE_8__["useEffectOnce"])(function () {
    var inspectorStreamSub = Object(app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_9__["getBackendSrv"])().getInspectorStream().subscribe(function (resp) {
      var strippedResponse = stripPropsFromResponse(resp);
      setResponse(strippedResponse);
    });
    return function () {
      inspectorStreamSub === null || inspectorStreamSub === void 0 ? void 0 : inspectorStreamSub.unsubscribe();
    };
  });
  var haveData = response && Object.keys(response).length > 0;
  var styles = Object(_dashboard_components_Inspector_styles__WEBPACK_IMPORTED_MODULE_11__["getPanelInspectorStyles"])();
  var statsTab = {
    label: '',
    value: 'stats',
    icon: 'chart-line',
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dashboard_components_Inspector_InspectStatsTab__WEBPACK_IMPORTED_MODULE_10__["InspectStatsTab"], {
      data: queryResponse,
      timeZone: queryResponse === null || queryResponse === void 0 ? void 0 : (_queryResponse$reques = queryResponse.request) === null || _queryResponse$reques === void 0 ? void 0 : _queryResponse$reques.timezone
    })
  };
  var inspectorTab = {
    label: '',
    value: 'query_inspector',
    icon: 'info-circle',
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: styles.toolbar
    }, haveData && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Button"], {
      icon: allNodesExpanded ? 'minus' : 'plus',
      variant: "secondary",
      className: styles.toolbarItem,
      onClick: onToggleExpand
    }, allNodesExpanded ? '' : '', " \u6240\u6709"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_CopyToClipboard_CopyToClipboard__WEBPACK_IMPORTED_MODULE_4__["CopyToClipboard"], {
      text: getTextForClipboard,
      onSuccess: onClipboardSuccess,
      elType: "div",
      className: styles.toolbarItem
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Button"], {
      icon: "copy",
      variant: "secondary"
    }, "\u590D\u5236\u5230\u526A\u5207\u677F"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "flex-grow-1"
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: styles.contentQueryInspector
    }, loading && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["LoadingPlaceholder"], {
      text: "\u52A0\u8F7D\u67E5\u8BE2\u68C0\u67E5\u5668..."
    }), !loading && haveData && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["JSONFormatter"], {
      json: response,
      open: getOpenNodeCount(),
      onDidRender: setFormattedJSON
    }), !loading && !haveData && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
      className: "muted"
    }, "\u5C1A\u672A\u6536\u96C6\u4EFB\u4F55\u8BF7\u6C42\u548C\u54CD\u5E94\u3002 \u8FD0\u884C\u67E5\u8BE2\u4EE5\u6536\u96C6\u8BF7\u6C42\u548C\u54CD\u5E94\u3002")))
  };
  var tabs = [statsTab, inspectorTab];
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_features_explore_ExploreDrawer__WEBPACK_IMPORTED_MODULE_7__["ExploreDrawer"], {
    width: width,
    onResize: function onResize() {}
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["TabbedContainer"], {
    tabs: tabs,
    onClose: onClose,
    closeIconTooltip: "\u5173\u95ED\u67E5\u8BE2\u68C0\u67E5\u5668"
  }));
}

function mapStateToProps(state, _ref) {
  var exploreId = _ref.exploreId;
  var explore = state.explore;
  var item = explore[exploreId];
  var loading = item.loading,
      queryResponse = item.queryResponse;
  return {
    loading: loading,
    queryResponse: queryResponse
  };
}

/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_5__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_6__["connect"])(mapStateToProps)(ExploreQueryInspector)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/ExploreTimeControls.tsx":
/*!*************************************************************!*\
  !*** ./public/app/features/explore/ExploreTimeControls.tsx ***!
  \*************************************************************/
/*! exports provided: ExploreTimeControls */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExploreTimeControls", function() { return ExploreTimeControls; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _TimeSyncButton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TimeSyncButton */ "./public/app/features/explore/TimeSyncButton.tsx");
/* harmony import */ var app_core_components_TimePicker_TimePickerWithHistory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/core/components/TimePicker/TimePickerWithHistory */ "./public/app/core/components/TimePicker/TimePickerWithHistory.tsx");
/* harmony import */ var app_core_utils_timePicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/utils/timePicker */ "./public/app/core/utils/timePicker.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Libaries
 // Types

 // State
// Components


 // Utils & Services


var ExploreTimeControls =
/*#__PURE__*/
function (_Component) {
  _inherits(ExploreTimeControls, _Component);

  function ExploreTimeControls() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, ExploreTimeControls);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ExploreTimeControls)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.onMoveTimePicker = function (direction) {
      var _this$props = _this.props,
          range = _this$props.range,
          onChangeTime = _this$props.onChangeTime,
          timeZone = _this$props.timeZone;

      var _getShiftedTimeRange = Object(app_core_utils_timePicker__WEBPACK_IMPORTED_MODULE_4__["getShiftedTimeRange"])(direction, range),
          from = _getShiftedTimeRange.from,
          to = _getShiftedTimeRange.to;

      var nextTimeRange = {
        from: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_1__["dateTimeForTimeZone"])(timeZone, from),
        to: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_1__["dateTimeForTimeZone"])(timeZone, to)
      };
      onChangeTime(nextTimeRange);
    };

    _this.onMoveForward = function () {
      return _this.onMoveTimePicker(1);
    };

    _this.onMoveBack = function () {
      return _this.onMoveTimePicker(-1);
    };

    _this.onChangeTimePicker = function (timeRange) {
      _this.props.onChangeTime(timeRange.raw);
    };

    _this.onZoom = function () {
      var _this$props2 = _this.props,
          range = _this$props2.range,
          onChangeTime = _this$props2.onChangeTime,
          timeZone = _this$props2.timeZone;

      var _getZoomedTimeRange = Object(app_core_utils_timePicker__WEBPACK_IMPORTED_MODULE_4__["getZoomedTimeRange"])(range, 2),
          from = _getZoomedTimeRange.from,
          to = _getZoomedTimeRange.to;

      var nextTimeRange = {
        from: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_1__["dateTimeForTimeZone"])(timeZone, from),
        to: Object(_grafana_data__WEBPACK_IMPORTED_MODULE_1__["dateTimeForTimeZone"])(timeZone, to)
      };
      onChangeTime(nextTimeRange);
    };

    return _this;
  }

  _createClass(ExploreTimeControls, [{
    key: "render",
    value: function render() {
      var _this$props3 = this.props,
          range = _this$props3.range,
          timeZone = _this$props3.timeZone,
          splitted = _this$props3.splitted,
          syncedTimes = _this$props3.syncedTimes,
          onChangeTimeSync = _this$props3.onChangeTimeSync,
          hideText = _this$props3.hideText,
          onChangeTimeZone = _this$props3.onChangeTimeZone;
      var timeSyncButton = splitted ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TimeSyncButton__WEBPACK_IMPORTED_MODULE_2__["TimeSyncButton"], {
        onClick: onChangeTimeSync,
        isSynced: syncedTimes
      }) : undefined;
      var timePickerCommonProps = {
        value: range,
        timeZone: timeZone,
        onMoveBackward: this.onMoveBack,
        onMoveForward: this.onMoveForward,
        onZoom: this.onZoom,
        hideText: hideText
      };
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_TimePicker_TimePickerWithHistory__WEBPACK_IMPORTED_MODULE_3__["TimePickerWithHistory"], _extends({}, timePickerCommonProps, {
        timeSyncButton: timeSyncButton,
        isSynced: syncedTimes,
        onChange: this.onChangeTimePicker,
        onChangeTimeZone: onChangeTimeZone
      }));
    }
  }]);

  return ExploreTimeControls;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

/***/ }),

/***/ "./public/app/features/explore/ExploreToolbar.tsx":
/*!********************************************************!*\
  !*** ./public/app/features/explore/ExploreToolbar.tsx ***!
  \********************************************************/
/*! exports provided: UnConnectedExploreToolbar, ExploreToolbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnConnectedExploreToolbar", function() { return UnConnectedExploreToolbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExploreToolbar", function() { return ExploreToolbar; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_components_Select_DataSourcePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/core/components/Select/DataSourcePicker */ "./public/app/core/components/Select/DataSourcePicker.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var app_core_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/core/actions */ "./public/app/core/actions/index.ts");
/* harmony import */ var _profile_state_selectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../profile/state/selectors */ "./public/app/features/profile/state/selectors.ts");
/* harmony import */ var _profile_state_reducers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../profile/state/reducers */ "./public/app/features/profile/state/reducers.ts");
/* harmony import */ var _dashboard_services_DashboardSrv__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../dashboard/services/DashboardSrv */ "./public/app/features/dashboard/services/DashboardSrv.ts");
/* harmony import */ var _core_utils_kbn__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../core/utils/kbn */ "./public/app/core/utils/kbn.ts");
/* harmony import */ var _ExploreTimeControls__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ExploreTimeControls */ "./public/app/features/explore/ExploreTimeControls.tsx");
/* harmony import */ var _LiveTailButton__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./LiveTailButton */ "./public/app/features/explore/LiveTailButton.tsx");
/* harmony import */ var _ResponsiveButton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ResponsiveButton */ "./public/app/features/explore/ResponsiveButton.tsx");
/* harmony import */ var _RunButton__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./RunButton */ "./public/app/features/explore/RunButton.tsx");
/* harmony import */ var _useLiveTailControls__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./useLiveTailControls */ "./public/app/features/explore/useLiveTailControls.ts");
/* harmony import */ var _state_selectors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./state/selectors */ "./public/app/features/explore/state/selectors.ts");
/* harmony import */ var _dashboard_state_reducers__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../dashboard/state/reducers */ "./public/app/features/dashboard/state/reducers.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n                      margin-right: 6px;\n                      margin-bottom: 3px;\n                    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      margin-left: 10px;\n      @media (max-width: 1110px) {\n        margin-left: 4px;\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }






















var ButtonSelect = _grafana_ui__WEBPACK_IMPORTED_MODULE_6__["LegacyForms"].ButtonSelect;
var getStyles = Object(memoize_one__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
  return {
    liveTailButtons: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject())
  };
});
var UnConnectedExploreToolbar =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(UnConnectedExploreToolbar, _PureComponent);

  function UnConnectedExploreToolbar() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, UnConnectedExploreToolbar);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UnConnectedExploreToolbar)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.onChangeDatasource =
    /*#__PURE__*/
    function () {
      var _ref = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(option) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this.props.changeDatasource(_this.props.exploreId, option.value, {
                  importQueries: true
                });

              case 1:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    }();

    _this.onClearAll = function () {
      _this.props.clearAll(_this.props.exploreId);
    };

    _this.onRunQuery = function () {
      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (loading) {
        return _this.props.cancelQueries(_this.props.exploreId);
      } else {
        return _this.props.runQueries(_this.props.exploreId);
      }
    };

    _this.onChangeRefreshInterval = function (item) {
      var _this$props = _this.props,
          changeRefreshInterval = _this$props.changeRefreshInterval,
          exploreId = _this$props.exploreId;
      changeRefreshInterval(exploreId, item);
    };

    _this.onChangeTimeSync = function () {
      var _this$props2 = _this.props,
          syncTimes = _this$props2.syncTimes,
          exploreId = _this$props2.exploreId;
      syncTimes(exploreId);
    };

    _this.returnToPanel =
    /*#__PURE__*/
    function () {
      var _ref2 = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var _ref3,
            _ref3$withChanges,
            withChanges,
            _this$props3,
            originPanelId,
            queries,
            dashboardSrv,
            dash,
            titleSlug,
            query,
            _args2 = arguments;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _ref3 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, _ref3$withChanges = _ref3.withChanges, withChanges = _ref3$withChanges === void 0 ? false : _ref3$withChanges;
                _this$props3 = _this.props, originPanelId = _this$props3.originPanelId, queries = _this$props3.queries;
                dashboardSrv = Object(_dashboard_services_DashboardSrv__WEBPACK_IMPORTED_MODULE_12__["getDashboardSrv"])();
                dash = dashboardSrv.getCurrent();
                titleSlug = _core_utils_kbn__WEBPACK_IMPORTED_MODULE_13__["default"].slugifyForUrl(dash.title);

                if (withChanges) {
                  _this.props.setDashboardQueriesToUpdateOnLoad({
                    panelId: originPanelId,
                    queries: _this.cleanQueries(queries)
                  });
                }

                query = {};

                if (withChanges || dash.panelInEdit) {
                  query.editPanel = originPanelId;
                } else if (dash.panelInView) {
                  query.viewPanel = originPanelId;
                }

                _this.props.updateLocation({
                  path: "/d/".concat(dash.uid, "/:").concat(titleSlug),
                  query: query
                });

              case 9:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2);
      }));

      return function () {
        return _ref2.apply(this, arguments);
      };
    }();

    _this.getSelectedDatasource = function () {
      var datasourceName = _this.props.datasourceName;
      var exploreDatasources = Object(_state_selectors__WEBPACK_IMPORTED_MODULE_19__["getExploreDatasources"])();
      return datasourceName ? exploreDatasources.find(function (datasource) {
        return datasource.name === datasourceName;
      }) : undefined;
    };

    return _this;
  }

  _createClass(UnConnectedExploreToolbar, [{
    key: "cleanQueries",
    // Remove explore specific parameters from queries
    value: function cleanQueries(queries) {
      return queries.map(function (query) {
        delete query.context;
        delete query.key;
        return query;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props4 = this.props,
          datasourceMissing = _this$props4.datasourceMissing,
          closeSplit = _this$props4.closeSplit,
          exploreId = _this$props4.exploreId,
          loading = _this$props4.loading,
          range = _this$props4.range,
          timeZone = _this$props4.timeZone,
          splitted = _this$props4.splitted,
          syncedTimes = _this$props4.syncedTimes,
          refreshInterval = _this$props4.refreshInterval,
          onChangeTime = _this$props4.onChangeTime,
          split = _this$props4.split,
          hasLiveOption = _this$props4.hasLiveOption,
          isLive = _this$props4.isLive,
          isPaused = _this$props4.isPaused,
          originPanelId = _this$props4.originPanelId,
          datasourceLoading = _this$props4.datasourceLoading,
          containerWidth = _this$props4.containerWidth,
          onChangeTimeZone = _this$props4.onChangeTimeZone;
      var styles = getStyles();
      var originDashboardIsEditable = originPanelId && Number.isInteger(originPanelId);
      var panelReturnClasses = classnames__WEBPACK_IMPORTED_MODULE_4___default()('btn', 'navbar-button', {
        'btn--radius-right-0': originDashboardIsEditable,
        'navbar-button navbar-button--border-right-0': originDashboardIsEditable
      });
      var showSmallDataSourcePicker = (splitted ? containerWidth < 700 : containerWidth < 800) || false;
      var showSmallTimePicker = splitted || containerWidth < 1210;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: splitted ? 'explore-toolbar splitted' : 'explore-toolbar'
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-header"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-header-title"
      }, exploreId === 'left' && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "navbar-page-btn"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__["Icon"], {
        name: "compass",
        size: "lg",
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_5__["css"])(_templateObject2())
      }), "\u67E5\u8BE2\u5668")), splitted && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__["IconButton"], {
        className: "explore-toolbar-header-close",
        onClick: function onClick() {
          return closeSplit(exploreId);
        },
        name: "times"
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content"
      }, !datasourceMissing ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: classnames__WEBPACK_IMPORTED_MODULE_4___default()('explore-ds-picker', showSmallDataSourcePicker ? 'explore-ds-picker--small' : '')
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_Select_DataSourcePicker__WEBPACK_IMPORTED_MODULE_7__["DataSourcePicker"], {
        onChange: this.onChangeDatasource,
        datasources: Object(_state_selectors__WEBPACK_IMPORTED_MODULE_19__["getExploreDatasources"])(),
        current: this.getSelectedDatasource(),
        showLoading: datasourceLoading === true,
        hideTextValue: showSmallDataSourcePicker
      }))) : null, originPanelId && Number.isInteger(originPanelId) && !splitted && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__["Tooltip"], {
        content: 'Return to panel',
        placement: "bottom"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        className: panelReturnClasses,
        onClick: function onClick() {
          return _this2.returnToPanel();
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__["Icon"], {
        name: "arrow-left"
      }))), originDashboardIsEditable && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ButtonSelect, {
        className: "navbar-button--attached btn--radius-left-0$",
        options: [{
          label: '',
          value: ''
        }],
        onChange: function onChange() {
          return _this2.returnToPanel({
            withChanges: true
          });
        },
        maxMenuHeight: 380
      })), exploreId === 'left' && !splitted ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item explore-icon-align"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ResponsiveButton__WEBPACK_IMPORTED_MODULE_16__["ResponsiveButton"], {
        splitted: splitted,
        title: "\u5206\u88C2"
        /* This way ResponsiveButton doesn't add event as a parameter when invoking split function
         * which breaks splitting functionality
         */
        ,
        onClick: function onClick() {
          return split();
        },
        icon: "columns",
        iconClassName: "icon-margin-right",
        disabled: isLive
      })) : null, !isLive && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreTimeControls__WEBPACK_IMPORTED_MODULE_14__["ExploreTimeControls"], {
        exploreId: exploreId,
        range: range,
        timeZone: timeZone,
        onChangeTime: onChangeTime,
        splitted: splitted,
        syncedTimes: syncedTimes,
        onChangeTimeSync: this.onChangeTimeSync,
        hideText: showSmallTimePicker,
        onChangeTimeZone: onChangeTimeZone
      })), !isLive && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item explore-icon-align"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ResponsiveButton__WEBPACK_IMPORTED_MODULE_16__["ResponsiveButton"], {
        splitted: splitted,
        title: "\u6E05\u9664\u6240\u6709",
        onClick: this.onClearAll,
        icon: "trash-alt",
        iconClassName: "icon-margin-right"
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RunButton__WEBPACK_IMPORTED_MODULE_17__["RunButton"], {
        refreshInterval: refreshInterval,
        onChangeRefreshInterval: this.onChangeRefreshInterval,
        splitted: splitted,
        isLive: isLive,
        loading: loading || isLive && !isPaused,
        onRun: this.onRunQuery,
        showDropdown: !isLive
      }), refreshInterval && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__["SetInterval"], {
        func: this.onRunQuery,
        interval: refreshInterval,
        loading: loading
      })), hasLiveOption && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-toolbar-content-item ".concat(styles.liveTailButtons)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_useLiveTailControls__WEBPACK_IMPORTED_MODULE_18__["LiveTailControls"], {
        exploreId: exploreId
      }, function (controls) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LiveTailButton__WEBPACK_IMPORTED_MODULE_15__["LiveTailButton"], {
          splitted: splitted,
          isLive: isLive,
          isPaused: isPaused,
          start: controls.start,
          pause: controls.pause,
          resume: controls.resume,
          stop: controls.stop
        });
      })))));
    }
  }]);

  return UnConnectedExploreToolbar;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var mapStateToProps = function mapStateToProps(state, _ref4) {
  var _datasourceInstance$m;

  var exploreId = _ref4.exploreId;
  var splitted = state.explore.split;
  var syncedTimes = state.explore.syncedTimes;
  var exploreItem = state.explore[exploreId];
  var datasourceInstance = exploreItem.datasourceInstance,
      datasourceMissing = exploreItem.datasourceMissing,
      range = exploreItem.range,
      refreshInterval = exploreItem.refreshInterval,
      loading = exploreItem.loading,
      isLive = exploreItem.isLive,
      isPaused = exploreItem.isPaused,
      originPanelId = exploreItem.originPanelId,
      queries = exploreItem.queries,
      datasourceLoading = exploreItem.datasourceLoading,
      containerWidth = exploreItem.containerWidth;
  var hasLiveOption = !!(datasourceInstance === null || datasourceInstance === void 0 ? void 0 : (_datasourceInstance$m = datasourceInstance.meta) === null || _datasourceInstance$m === void 0 ? void 0 : _datasourceInstance$m.streaming);
  return {
    datasourceMissing: datasourceMissing,
    datasourceName: datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.name,
    loading: loading,
    range: range,
    timeZone: Object(_profile_state_selectors__WEBPACK_IMPORTED_MODULE_10__["getTimeZone"])(state.user),
    splitted: splitted,
    refreshInterval: refreshInterval,
    hasLiveOption: hasLiveOption,
    isLive: isLive,
    isPaused: isPaused,
    originPanelId: originPanelId,
    queries: queries,
    syncedTimes: syncedTimes,
    datasourceLoading: datasourceLoading !== null && datasourceLoading !== void 0 ? datasourceLoading : undefined,
    containerWidth: containerWidth
  };
};

var mapDispatchToProps = {
  changeDatasource: _state_actions__WEBPACK_IMPORTED_MODULE_8__["changeDatasource"],
  updateLocation: app_core_actions__WEBPACK_IMPORTED_MODULE_9__["updateLocation"],
  changeRefreshInterval: _state_actions__WEBPACK_IMPORTED_MODULE_8__["changeRefreshInterval"],
  clearAll: _state_actions__WEBPACK_IMPORTED_MODULE_8__["clearQueries"],
  cancelQueries: _state_actions__WEBPACK_IMPORTED_MODULE_8__["cancelQueries"],
  runQueries: _state_actions__WEBPACK_IMPORTED_MODULE_8__["runQueries"],
  closeSplit: _state_actions__WEBPACK_IMPORTED_MODULE_8__["splitClose"],
  split: _state_actions__WEBPACK_IMPORTED_MODULE_8__["splitOpen"],
  syncTimes: _state_actions__WEBPACK_IMPORTED_MODULE_8__["syncTimes"],
  setDashboardQueriesToUpdateOnLoad: _dashboard_state_reducers__WEBPACK_IMPORTED_MODULE_20__["setDashboardQueriesToUpdateOnLoad"],
  onChangeTimeZone: _profile_state_reducers__WEBPACK_IMPORTED_MODULE_11__["updateTimeZoneForSession"]
};
var ExploreToolbar = Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(UnConnectedExploreToolbar));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/LiveLogs.tsx":
/*!**************************************************!*\
  !*** ./public/app/features/explore/LiveLogs.tsx ***!
  \**************************************************/
/*! exports provided: LiveLogsWithTheme */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LiveLogsWithTheme", function() { return LiveLogsWithTheme; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinycolor2 */ "./node_modules/tinycolor2/tinycolor.js");
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _ElapsedTime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ElapsedTime */ "./public/app/features/explore/ElapsedTime.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n    width: 100%;\n  "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n    margin-right: ", ";\n  "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n    font-size: ", ";\n    padding-top: ", ";\n    display: flex;\n    align-items: center;\n  "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    label: logs-row-fresh;\n    color: ", ";\n    background-color: ", ";\n    animation: fade 1s ease-out 1s 1 normal forwards;\n    @keyframes fade {\n      from {\n        background-color: ", ";\n      }\n      to {\n        background-color: transparent;\n      }\n    }\n  "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    label: logs-rows-live;\n    font-family: ", ";\n    font-size: ", ";\n    display: flex;\n    flex-flow: column nowrap;\n    height: 65vh;\n    overflow-y: auto;\n    :first-child {\n      margin-top: auto !important;\n    }\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }








var getStyles = function getStyles(theme) {
  return {
    logsRowsLive: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.typography.fontFamily.monospace, theme.typography.size.sm),
    logsRowFade: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), theme.colors.text, tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(theme.palette.blue95).setAlpha(0.25).toString(), tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(theme.palette.blue95).setAlpha(0.25).toString()),
    logsRowsIndicator: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3(), theme.typography.size.md, theme.spacing.sm),
    button: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4(), theme.spacing.sm),
    fullWidth: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5())
  };
};

var LiveLogs =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(LiveLogs, _PureComponent);

  function LiveLogs(props) {
    var _this;

    _classCallCheck(this, LiveLogs);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(LiveLogs).call(this, props));
    _this.liveEndDiv = null;
    _this.scrollContainerRef = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    _this.lastScrollPos = null;

    _this.onScroll = function (event) {
      var _this$props = _this.props,
          isPaused = _this$props.isPaused,
          onPause = _this$props.onPause;
      var _event$currentTarget = event.currentTarget,
          scrollTop = _event$currentTarget.scrollTop,
          clientHeight = _event$currentTarget.clientHeight,
          scrollHeight = _event$currentTarget.scrollHeight;
      var distanceFromBottom = scrollHeight - (scrollTop + clientHeight);

      if (distanceFromBottom >= 5 && !isPaused) {
        onPause();
        _this.lastScrollPos = distanceFromBottom;
      }
    };

    _this.rowsToRender = function () {
      var isPaused = _this.props.isPaused;
      var _this$state$logRowsTo = _this.state.logRowsToRender,
          rowsToRender = _this$state$logRowsTo === void 0 ? [] : _this$state$logRowsTo;

      if (!isPaused) {
        // A perf optimisation here. Show just 100 rows when streaming and full length when the streaming is paused.
        rowsToRender = rowsToRender.slice(-100);
      }

      return rowsToRender;
    };

    _this.state = {
      logRowsToRender: props.logRows
    };
    return _this;
  }

  _createClass(LiveLogs, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (!prevProps.isPaused && this.props.isPaused) {
        // So we paused the view and we changed the content size, but we want to keep the relative offset from the bottom.
        if (this.lastScrollPos && this.scrollContainerRef.current) {
          // There is last scroll pos from when user scrolled up a bit so go to that position.
          var _this$scrollContainer = this.scrollContainerRef.current,
              clientHeight = _this$scrollContainer.clientHeight,
              scrollHeight = _this$scrollContainer.scrollHeight;
          var scrollTop = scrollHeight - (this.lastScrollPos + clientHeight);
          this.scrollContainerRef.current.scrollTo(0, scrollTop);
          this.lastScrollPos = null;
        } else {
          // We do not have any position to jump to su the assumption is user just clicked pause. We can just scroll
          // to the bottom.
          if (this.liveEndDiv) {
            this.liveEndDiv.scrollIntoView(false);
          }
        }
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props2 = this.props,
          theme = _this$props2.theme,
          timeZone = _this$props2.timeZone,
          onPause = _this$props2.onPause,
          onResume = _this$props2.onResume,
          isPaused = _this$props2.isPaused;
      var styles = getStyles(theme);

      var _getLogRowStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["getLogRowStyles"])(theme),
          logsRow = _getLogRowStyles.logsRow,
          logsRowLocalTime = _getLogRowStyles.logsRowLocalTime,
          logsRowMessage = _getLogRowStyles.logsRowMessage;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("table", {
        className: styles.fullWidth
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tbody", {
        onScroll: isPaused ? undefined : this.onScroll,
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])(['logs-rows', styles.logsRowsLive]),
        ref: this.scrollContainerRef
      }, this.rowsToRender().map(function (row) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
          className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])(logsRow, styles.logsRowFade),
          key: row.uid
        }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])(logsRowLocalTime)
        }, Object(_grafana_data__WEBPACK_IMPORTED_MODULE_4__["dateTimeFormat"])(row.timeEpochMs, {
          timeZone: timeZone
        })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td", {
          className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])(logsRowMessage)
        }, row.entry));
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("tr", {
        ref: function ref(element) {
          _this2.liveEndDiv = element; // This is triggered on every update so on every new row. It keeps the view scrolled at the bottom by
          // default.

          if (_this2.liveEndDiv && !isPaused) {
            _this2.liveEndDiv.scrollIntoView(false);
          }
        }
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])([styles.logsRowsIndicator])
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: isPaused ? onResume : onPause,
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])('btn btn-secondary', styles.button)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
        name: isPaused ? 'play' : 'pause'
      }), "\xA0", isPaused ? 'Resume' : 'Pause'), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.props.stopLive,
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])('btn btn-inverse', styles.button)
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
        name: "square-shape",
        size: "lg",
        type: "mono"
      }), "\xA0 \u9000\u51FA\u76F4\u64AD\u6A21\u5F0F"), isPaused || react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "\u6536\u5230\u6700\u540E\u4E00\u884C: ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ElapsedTime__WEBPACK_IMPORTED_MODULE_5__["ElapsedTime"], {
        resetKey: this.props.logRows,
        humanize: true
      }), " ago")));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(nextProps, state) {
      if (!nextProps.isPaused) {
        return {
          // We update what we show only if not paused. We keep any background subscriptions running and keep updating
          // our state, but we do not show the updates, this allows us start again showing correct result after resuming
          // without creating a gap in the log results.
          logRowsToRender: nextProps.logRows
        };
      } else {
        return null;
      }
    }
    /**
     * Handle pausing when user scrolls up so that we stop resetting his position to the bottom when new row arrives.
     * We do not need to throttle it here much, adding new rows should be throttled/buffered itself in the query epics
     * and after you pause we remove the handler and add it after you manually resume, so this should not be fired often.
     */

  }]);

  return LiveLogs;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var LiveLogsWithTheme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["withTheme"])(LiveLogs);

/***/ }),

/***/ "./public/app/features/explore/LiveTailButton.tsx":
/*!********************************************************!*\
  !*** ./public/app/features/explore/LiveTailButton.tsx ***!
  \********************************************************/
/*! exports provided: LiveTailButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LiveTailButton", function() { return LiveTailButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tinycolor2 */ "./node_modules/tinycolor2/tinycolor.js");
/* harmony import */ var tinycolor2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tinycolor2__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-transition-group */ "./node_modules/react-transition-group/esm/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _ResponsiveButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ResponsiveButton */ "./public/app/features/explore/ResponsiveButton.tsx");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      label: stopButtonExitActive;\n      opacity: 0;\n      width: 0;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      label: stopButtonExit;\n      width: 32px;\n      opacity: 1;\n      overflow: hidden;\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      label: stopButtonEnterActive;\n      opacity: 1;\n      width: 32px;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      label: stopButtonEnter;\n      width: 0;\n      opacity: 0;\n      overflow: hidden;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: isPaused;\n      border-color: ", ";\n      background: transparent;\n      animation: pulse 3s ease-out 0s infinite normal forwards;\n      &:focus {\n        background: transparent;\n        border-color: ", ";\n      }\n      &:hover {\n        background-color: ", ";\n      }\n      &:active,\n      &:hover {\n        border-color: ", ";\n      }\n      @keyframes pulse {\n        0% {\n          color: ", ";\n        }\n        50% {\n          color: ", ";\n        }\n        100% {\n          color: ", ";\n        }\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: isLive;\n      border-color: ", ";\n      color: ", ";\n      background: transparent;\n      &:focus {\n        background: transparent;\n        border-color: ", ";\n        color: ", ";\n      }\n      &:hover {\n        background-color: ", ";\n      }\n      &:active,\n      &:hover {\n        border-color: ", ";\n        color: ", ";\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: liveButton;\n      margin: 0;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }







//Components

var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["stylesFactory"])(function (theme) {
  var bgColor = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["selectThemeVariant"])({
    light: theme.palette.gray5,
    dark: theme.palette.dark1
  }, theme.type);
  var orangeLighter = tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(theme.palette.orangeDark).lighten(10).toString();
  var pulseTextColor = tinycolor2__WEBPACK_IMPORTED_MODULE_2___default()(theme.palette.orangeDark).desaturate(90).toString();
  return {
    noRightBorderStyle: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject()),
    liveButton: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2()),
    isLive: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3(), theme.palette.orangeDark, theme.palette.orangeDark, theme.palette.orangeDark, theme.palette.orangeDark, bgColor, orangeLighter, orangeLighter),
    isPaused: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4(), theme.palette.orangeDark, theme.palette.orangeDark, bgColor, orangeLighter, pulseTextColor, theme.palette.orangeDark, pulseTextColor),
    stopButtonEnter: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5()),
    stopButtonEnterActive: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject6()),
    stopButtonExit: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject7()),
    stopButtonExitActive: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject8())
  };
});
function LiveTailButton(props) {
  var _classNames;

  var start = props.start,
      pause = props.pause,
      resume = props.resume,
      isLive = props.isLive,
      isPaused = props.isPaused,
      stop = props.stop,
      splitted = props.splitted;
  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["useTheme"])();
  var styles = getStyles(theme);
  var onClickMain = isLive ? isPaused ? resume : pause : start;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["Tooltip"], {
    content: isLive ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "Pause the live stream") : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "Live stream your logs"),
    placement: "bottom"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ResponsiveButton__WEBPACK_IMPORTED_MODULE_6__["ResponsiveButton"], {
    splitted: splitted,
    buttonClassName: classnames__WEBPACK_IMPORTED_MODULE_1___default()('btn navbar-button', styles.liveButton, (_classNames = {}, _defineProperty(_classNames, "btn--radius-right-0 explore-active-button ".concat(styles.noRightBorderStyle), isLive), _defineProperty(_classNames, styles.isLive, isLive && !isPaused), _defineProperty(_classNames, styles.isPaused, isLive && isPaused), _classNames)),
    icon: !isLive ? 'play' : 'pause',
    iconClassName: isLive ? 'icon-brand-gradient' : undefined,
    onClick: onClickMain,
    title: '\xa0Live'
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_4__["CSSTransition"], {
    mountOnEnter: true,
    unmountOnExit: true,
    timeout: 100,
    in: isLive,
    classNames: {
      enter: styles.stopButtonEnter,
      enterActive: styles.stopButtonEnterActive,
      exit: styles.stopButtonExit,
      exitActive: styles.stopButtonExitActive
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["Tooltip"], {
    content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "Stop and exit the live stream"),
    placement: "bottom"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "btn navbar-button navbar-button--attached explore-active-button ".concat(styles.isLive),
    onClick: stop
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__["Icon"], {
    className: "icon-brand-gradient",
    name: "square-shape",
    size: "lg",
    type: "mono"
  }))))));
}

/***/ }),

/***/ "./public/app/features/explore/Logs.tsx":
/*!**********************************************!*\
  !*** ./public/app/features/explore/Logs.tsx ***!
  \**********************************************/
/*! exports provided: Logs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Logs", function() { return Logs; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/core/store */ "./public/app/core/store.ts");
/* harmony import */ var _ExploreGraphPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ExploreGraphPanel */ "./public/app/features/explore/ExploreGraphPanel.tsx");
/* harmony import */ var _MetaInfoText__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MetaInfoText */ "./public/app/features/explore/MetaInfoText.tsx");
/* harmony import */ var _grafana_ui_src_components_Logs_LogRowMessage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @grafana/ui/src/components/Logs/LogRowMessage */ "./packages/grafana-ui/src/components/Logs/LogRowMessage.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n                  margin-top: 4px;\n                "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var Switch = _grafana_ui__WEBPACK_IMPORTED_MODULE_4__["LegacyForms"].Switch;




var SETTINGS_KEYS = {
  showLabels: 'grafana.explore.logs.showLabels',
  showTime: 'grafana.explore.logs.showTime',
  wrapLogMessage: 'grafana.explore.logs.wrapLogMessage'
};

function renderMetaItem(value, kind) {
  if (kind === _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsMetaKind"].LabelsMap) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "logs-meta-item__labels"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["LogLabels"], {
      labels: value
    }));
  }

  return value;
}

var Logs =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(Logs, _PureComponent);

  function Logs() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, Logs);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Logs)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      showLabels: app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].getBool(SETTINGS_KEYS.showLabels, false),
      showTime: app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].getBool(SETTINGS_KEYS.showTime, true),
      wrapLogMessage: app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].getBool(SETTINGS_KEYS.wrapLogMessage, true),
      logsSortOrder: null,
      isFlipping: false,
      showParsedFields: []
    };

    _this.onChangeLogsSortOrder = function () {
      _this.setState({
        isFlipping: true
      }); // we are using setTimeout here to make sure that disabled button is rendered before the rendering of reordered logs


      _this.flipOrderTimer = setTimeout(function () {
        _this.setState(function (prevState) {
          if (prevState.logsSortOrder === null || prevState.logsSortOrder === _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsSortOrder"].Descending) {
            return {
              logsSortOrder: _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsSortOrder"].Ascending
            };
          }

          return {
            logsSortOrder: _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsSortOrder"].Descending
          };
        });
      }, 0);
      _this.cancelFlippingTimer = setTimeout(function () {
        return _this.setState({
          isFlipping: false
        });
      }, 1000);
    };

    _this.onChangeDedup = function (dedup) {
      var onDedupStrategyChange = _this.props.onDedupStrategyChange;

      if (_this.props.dedupStrategy === dedup) {
        return onDedupStrategyChange(_grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsDedupStrategy"].none);
      }

      return onDedupStrategyChange(dedup);
    };

    _this.onChangeLabels = function (event) {
      var target = event && event.target;

      if (target) {
        var showLabels = target.checked;

        _this.setState({
          showLabels: showLabels
        });

        app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].set(SETTINGS_KEYS.showLabels, showLabels);
      }
    };

    _this.onChangeTime = function (event) {
      var target = event && event.target;

      if (target) {
        var showTime = target.checked;

        _this.setState({
          showTime: showTime
        });

        app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].set(SETTINGS_KEYS.showTime, showTime);
      }
    };

    _this.onChangewrapLogMessage = function (event) {
      var target = event && event.target;

      if (target) {
        var wrapLogMessage = target.checked;

        _this.setState({
          wrapLogMessage: wrapLogMessage
        });

        app_core_store__WEBPACK_IMPORTED_MODULE_5__["default"].set(SETTINGS_KEYS.wrapLogMessage, wrapLogMessage);
      }
    };

    _this.onToggleLogLevel = function (hiddenRawLevels) {
      var hiddenLogLevels = hiddenRawLevels.map(function (level) {
        return _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogLevel"][level];
      });

      _this.props.onToggleLogLevel(hiddenLogLevels);
    };

    _this.onClickScan = function (event) {
      event.preventDefault();

      if (_this.props.onStartScanning) {
        _this.props.onStartScanning();
      }
    };

    _this.onClickStopScan = function (event) {
      event.preventDefault();

      if (_this.props.onStopScanning) {
        _this.props.onStopScanning();
      }
    };

    _this.showParsedField = function (key) {
      var index = _this.state.showParsedFields.indexOf(key);

      if (index === -1) {
        _this.setState(function (state) {
          return {
            showParsedFields: state.showParsedFields.concat(key)
          };
        });
      }
    };

    _this.hideParsedField = function (key) {
      var index = _this.state.showParsedFields.indexOf(key);

      if (index > -1) {
        _this.setState(function (state) {
          return {
            showParsedFields: state.showParsedFields.filter(function (k) {
              return key !== k;
            })
          };
        });
      }
    };

    _this.clearParsedFields = function () {
      _this.setState(function (state) {
        return {
          showParsedFields: []
        };
      });
    };

    return _this;
  }

  _createClass(Logs, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      clearTimeout(this.flipOrderTimer);
      clearTimeout(this.cancelFlippingTimer);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          logRows = _this$props.logRows,
          logsMeta = _this$props.logsMeta,
          logsSeries = _this$props.logsSeries,
          visibleRange = _this$props.visibleRange,
          highlighterExpressions = _this$props.highlighterExpressions,
          _this$props$loading = _this$props.loading,
          loading = _this$props$loading === void 0 ? false : _this$props$loading,
          onClickFilterLabel = _this$props.onClickFilterLabel,
          onClickFilterOutLabel = _this$props.onClickFilterOutLabel,
          timeZone = _this$props.timeZone,
          scanning = _this$props.scanning,
          scanRange = _this$props.scanRange,
          showContextToggle = _this$props.showContextToggle,
          width = _this$props.width,
          dedupedRows = _this$props.dedupedRows,
          absoluteRange = _this$props.absoluteRange,
          onChangeTime = _this$props.onChangeTime,
          getFieldLinks = _this$props.getFieldLinks;

      if (!logRows) {
        return null;
      }

      var _this$state = this.state,
          showLabels = _this$state.showLabels,
          showTime = _this$state.showTime,
          wrapLogMessage = _this$state.wrapLogMessage,
          logsSortOrder = _this$state.logsSortOrder,
          isFlipping = _this$state.isFlipping,
          showParsedFields = _this$state.showParsedFields;
      var dedupStrategy = this.props.dedupStrategy;
      var hasData = logRows && logRows.length > 0;
      var dedupCount = dedupedRows ? dedupedRows.reduce(function (sum, row) {
        return row.duplicates ? sum + row.duplicates : sum;
      }, 0) : 0;
      var meta = logsMeta ? _toConsumableArray(logsMeta) : [];

      if (dedupStrategy !== _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsDedupStrategy"].none) {
        meta.push({
          label: '',
          value: dedupCount,
          kind: _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsMetaKind"].Number
        });
      }

      if (logRows.some(function (r) {
        return r.entry.length > _grafana_ui_src_components_Logs_LogRowMessage__WEBPACK_IMPORTED_MODULE_8__["MAX_CHARACTERS"];
      })) {
        meta.push({
          label: '',
          value: '100,000',
          kind: _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsMetaKind"].String
        });
      }

      var scanText = scanRange ? "\u626B\u63CF ".concat(_grafana_data__WEBPACK_IMPORTED_MODULE_3__["rangeUtil"].describeTimeRange(scanRange)) : '...';
      var series = logsSeries ? logsSeries : [];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-graph"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreGraphPanel__WEBPACK_IMPORTED_MODULE_6__["ExploreGraphPanel"], {
        series: series,
        width: width,
        onHiddenSeriesChanged: this.onToggleLogLevel,
        loading: loading,
        absoluteRange: visibleRange || absoluteRange,
        isStacked: true,
        showPanel: false,
        showingGraph: true,
        showingTable: true,
        timeZone: timeZone,
        showBars: true,
        showLines: false,
        onUpdateTimeRange: onChangeTime
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-options"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-controls"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-controls-main"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Switch, {
        label: "\u65F6\u95F4",
        checked: showTime,
        onChange: this.onChangeTime,
        transparent: true
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Switch, {
        label: "\u7279\u6B8A\u6807\u7B7E",
        checked: showLabels,
        onChange: this.onChangeLabels,
        transparent: true
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Switch, {
        label: "\u6362\u884C",
        checked: wrapLogMessage,
        onChange: this.onChangewrapLogMessage,
        transparent: true
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["ToggleButtonGroup"], {
        label: "\u53BB\u91CD",
        transparent: true
      }, Object.keys(_grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsDedupStrategy"]).map(function (dedupType, i) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["ToggleButton"], {
          key: i,
          value: dedupType,
          onChange: _this2.onChangeDedup,
          selected: dedupStrategy === dedupType // @ts-ignore
          ,
          tooltip: _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsDedupDescription"][dedupType]
        }, Object(lodash__WEBPACK_IMPORTED_MODULE_2__["capitalize"])(dedupType));
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        disabled: isFlipping,
        title: logsSortOrder === _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsSortOrder"].Ascending ? '' : '',
        "aria-label": "Flip results order",
        className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])('gf-form-label gf-form-label--btn', Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())),
        onClick: this.onChangeLogsSortOrder
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "btn-title"
      }, isFlipping ? '...' : '')))), meta && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MetaInfoText__WEBPACK_IMPORTED_MODULE_7__["MetaInfoText"], {
        metaItems: meta.map(function (item) {
          return {
            label: item.label,
            value: renderMetaItem(item.value, item.kind)
          };
        })
      }), showParsedFields && showParsedFields.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MetaInfoText__WEBPACK_IMPORTED_MODULE_7__["MetaInfoText"], {
        metaItems: [{
          label: '',
          value: renderMetaItem(showParsedFields, _grafana_data__WEBPACK_IMPORTED_MODULE_3__["LogsMetaKind"].LabelsMap)
        }, {
          label: '',
          value: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
            variant: "secondary",
            size: "sm",
            onClick: this.clearParsedFields
          }, "\u663E\u793A\u6240\u6709\u89E3\u6790\u7684\u5B57\u6BB5")
        }]
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["LogRows"], {
        logRows: logRows,
        deduplicatedRows: dedupedRows,
        dedupStrategy: dedupStrategy,
        getRowContext: this.props.getRowContext,
        highlighterExpressions: highlighterExpressions,
        rowLimit: logRows ? logRows.length : undefined,
        onClickFilterLabel: onClickFilterLabel,
        onClickFilterOutLabel: onClickFilterOutLabel,
        showContextToggle: showContextToggle,
        showLabels: showLabels,
        showTime: showTime,
        wrapLogMessage: wrapLogMessage,
        timeZone: timeZone,
        getFieldLinks: getFieldLinks,
        logsSortOrder: logsSortOrder,
        showParsedFields: showParsedFields,
        onClickShowParsedField: this.showParsedField,
        onClickHideParsedField: this.hideParsedField
      }), !loading && !hasData && !scanning && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-nodata"
      }, "\u627E\u4E0D\u5230\u65E5\u5FD7\u3002", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
        size: "xs",
        variant: "link",
        onClick: this.onClickScan
      }, "\u626B\u63CF\u8F83\u65E7\u7684\u65E5\u5FD7")), scanning && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "logs-panel-nodata"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, scanText), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
        size: "xs",
        variant: "link",
        onClick: this.onClickStopScan
      }, "\u505C\u6B62\u626B\u63CF")));
    }
  }]);

  return Logs;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

/***/ }),

/***/ "./public/app/features/explore/LogsContainer.tsx":
/*!*******************************************************!*\
  !*** ./public/app/features/explore/LogsContainer.tsx ***!
  \*******************************************************/
/*! exports provided: LogsContainer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogsContainer", function() { return LogsContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var app_features_explore_state_actionTypes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/features/explore/state/actionTypes */ "./public/app/features/explore/state/actionTypes.ts");
/* harmony import */ var app_features_explore_state_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/features/explore/state/selectors */ "./public/app/features/explore/state/selectors.ts");
/* harmony import */ var _profile_state_selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../profile/state/selectors */ "./public/app/features/profile/state/selectors.ts");
/* harmony import */ var _LiveLogs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LiveLogs */ "./public/app/features/explore/LiveLogs.tsx");
/* harmony import */ var _Logs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Logs */ "./public/app/features/explore/Logs.tsx");
/* harmony import */ var _utils_LogsCrossFadeTransition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/LogsCrossFadeTransition */ "./public/app/features/explore/utils/LogsCrossFadeTransition.tsx");
/* harmony import */ var _useLiveTailControls__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./useLiveTailControls */ "./public/app/features/explore/useLiveTailControls.ts");
/* harmony import */ var _utils_links__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/links */ "./public/app/features/explore/utils/links.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }















var LogsContainer =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(LogsContainer, _PureComponent);

  function LogsContainer() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, LogsContainer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LogsContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      logsContainerOpen: true
    };

    _this.onChangeTime = function (absoluteRange) {
      var _this$props = _this.props,
          exploreId = _this$props.exploreId,
          updateTimeRange = _this$props.updateTimeRange;
      updateTimeRange({
        exploreId: exploreId,
        absoluteRange: absoluteRange
      });
    };

    _this.handleDedupStrategyChange = function (dedupStrategy) {
      _this.props.changeDedupStrategy(_this.props.exploreId, dedupStrategy);
    };

    _this.handleToggleLogLevel = function (hiddenLogLevels) {
      var exploreId = _this.props.exploreId;

      _this.props.toggleLogLevelAction({
        exploreId: exploreId,
        hiddenLogLevels: hiddenLogLevels
      });
    };

    _this.getLogRowContext =
    /*#__PURE__*/
    function () {
      var _ref = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(row, options) {
        var datasourceInstance;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                datasourceInstance = _this.props.datasourceInstance;

                if (!(datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.getLogRowContext)) {
                  _context.next = 3;
                  break;
                }

                return _context.abrupt("return", datasourceInstance.getLogRowContext(row, options));

              case 3:
                return _context.abrupt("return", []);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function (_x, _x2) {
        return _ref.apply(this, arguments);
      };
    }();

    _this.getFieldLinks = function (field, rowIndex) {
      return Object(_utils_links__WEBPACK_IMPORTED_MODULE_13__["getFieldLinksForExplore"])(field, rowIndex, _this.props.splitOpen, _this.props.range);
    };

    _this.onToggleCollapse = function () {
      _this.setState(function (state) {
        return {
          logsContainerOpen: !state.logsContainerOpen
        };
      });
    };

    return _this;
  }

  _createClass(LogsContainer, [{
    key: "render",
    value: function render() {
      var _this2 = this,
          _this$props$datasourc;

      var _this$props2 = this.props,
          loading = _this$props2.loading,
          logsHighlighterExpressions = _this$props2.logsHighlighterExpressions,
          logRows = _this$props2.logRows,
          logsMeta = _this$props2.logsMeta,
          logsSeries = _this$props2.logsSeries,
          dedupedRows = _this$props2.dedupedRows,
          onClickFilterLabel = _this$props2.onClickFilterLabel,
          onClickFilterOutLabel = _this$props2.onClickFilterOutLabel,
          onStartScanning = _this$props2.onStartScanning,
          onStopScanning = _this$props2.onStopScanning,
          absoluteRange = _this$props2.absoluteRange,
          timeZone = _this$props2.timeZone,
          visibleRange = _this$props2.visibleRange,
          scanning = _this$props2.scanning,
          range = _this$props2.range,
          width = _this$props2.width,
          isLive = _this$props2.isLive,
          exploreId = _this$props2.exploreId;
      var logsContainerOpen = this.state.logsContainerOpen;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_LogsCrossFadeTransition__WEBPACK_IMPORTED_MODULE_11__["LogsCrossFadeTransition"], {
        visible: isLive
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Collapse"], {
        label: "Logs",
        loading: false,
        isOpen: true
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_useLiveTailControls__WEBPACK_IMPORTED_MODULE_12__["LiveTailControls"], {
        exploreId: exploreId
      }, function (controls) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_LiveLogs__WEBPACK_IMPORTED_MODULE_9__["LiveLogsWithTheme"], {
          logRows: logRows,
          timeZone: timeZone,
          stopLive: controls.stop,
          isPaused: _this2.props.isPaused,
          onPause: controls.pause,
          onResume: controls.resume
        });
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_LogsCrossFadeTransition__WEBPACK_IMPORTED_MODULE_11__["LogsCrossFadeTransition"], {
        visible: !isLive
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Collapse"], {
        label: "Logs",
        loading: loading,
        isOpen: logsContainerOpen,
        onToggle: this.onToggleCollapse,
        collapsible: true
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Logs__WEBPACK_IMPORTED_MODULE_10__["Logs"], {
        dedupStrategy: this.props.dedupStrategy || _grafana_data__WEBPACK_IMPORTED_MODULE_4__["LogsDedupStrategy"].none,
        logRows: logRows,
        logsMeta: logsMeta,
        logsSeries: logsSeries,
        dedupedRows: dedupedRows,
        highlighterExpressions: logsHighlighterExpressions,
        loading: loading,
        onChangeTime: this.onChangeTime,
        onClickFilterLabel: onClickFilterLabel,
        onClickFilterOutLabel: onClickFilterOutLabel,
        onStartScanning: onStartScanning,
        onStopScanning: onStopScanning,
        onDedupStrategyChange: this.handleDedupStrategyChange,
        onToggleLogLevel: this.handleToggleLogLevel,
        absoluteRange: absoluteRange,
        visibleRange: visibleRange,
        timeZone: timeZone,
        scanning: scanning,
        scanRange: range.raw,
        showContextToggle: (_this$props$datasourc = this.props.datasourceInstance) === null || _this$props$datasourc === void 0 ? void 0 : _this$props$datasourc.showContextToggle,
        width: width,
        getRowContext: this.getLogRowContext,
        getFieldLinks: this.getFieldLinks
      }))));
    }
  }]);

  return LogsContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

function mapStateToProps(state, _ref2) {
  var exploreId = _ref2.exploreId;
  var explore = state.explore; // @ts-ignore

  var item = explore[exploreId];
  var logsHighlighterExpressions = item.logsHighlighterExpressions,
      logsResult = item.logsResult,
      loading = item.loading,
      scanning = item.scanning,
      datasourceInstance = item.datasourceInstance,
      isLive = item.isLive,
      isPaused = item.isPaused,
      range = item.range,
      absoluteRange = item.absoluteRange,
      dedupStrategy = item.dedupStrategy;
  var dedupedRows = Object(app_features_explore_state_selectors__WEBPACK_IMPORTED_MODULE_7__["deduplicatedRowsSelector"])(item);
  var timeZone = Object(_profile_state_selectors__WEBPACK_IMPORTED_MODULE_8__["getTimeZone"])(state.user);
  return {
    loading: loading,
    logsHighlighterExpressions: logsHighlighterExpressions,
    logRows: logsResult && logsResult.rows,
    logsMeta: logsResult && logsResult.meta,
    logsSeries: logsResult && logsResult.series,
    visibleRange: logsResult && logsResult.visibleRange,
    scanning: scanning,
    timeZone: timeZone,
    dedupStrategy: dedupStrategy,
    dedupedRows: dedupedRows,
    datasourceInstance: datasourceInstance,
    isLive: isLive,
    isPaused: isPaused,
    range: range,
    absoluteRange: absoluteRange
  };
}

var mapDispatchToProps = {
  changeDedupStrategy: _state_actions__WEBPACK_IMPORTED_MODULE_5__["changeDedupStrategy"],
  toggleLogLevelAction: app_features_explore_state_actionTypes__WEBPACK_IMPORTED_MODULE_6__["toggleLogLevelAction"],
  updateTimeRange: _state_actions__WEBPACK_IMPORTED_MODULE_5__["updateTimeRange"],
  splitOpen: _state_actions__WEBPACK_IMPORTED_MODULE_5__["splitOpen"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(LogsContainer)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/MetaInfoText.tsx":
/*!******************************************************!*\
  !*** ./public/app/features/explore/MetaInfoText.tsx ***!
  \******************************************************/
/*! exports provided: MetaInfoItem, MetaInfoText, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaInfoItem", function() { return MetaInfoItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetaInfoText", function() { return MetaInfoText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n    font-family: ", ";\n  "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n    margin-right: calc(", " / 2);\n    font-size: ", ";\n    font-weight: ", ";\n  "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n    margin-right: ", ";\n    display: flex;\n    align-items: baseline;\n  "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    flex: 1;\n    color: ", ";\n    margin-bottom: ", ";\n    min-width: 30%;\n    display: flex;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }




var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["stylesFactory"])(function (theme) {
  return {
    metaContainer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.colors.textWeak, theme.spacing.d),
    metaItem: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), theme.spacing.d),
    metaLabel: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3(), theme.spacing.d, theme.typography.size.sm, theme.typography.weight.semibold),
    metaValue: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4(), theme.typography.fontFamily.monospace)
  };
});
var MetaInfoItem = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(function MetaInfoItem(props) {
  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);
  var style = getStyles(theme);
  var label = props.label,
      value = props.value;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: style.metaItem
  }, label && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: style.metaLabel
  }, label, ":"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: style.metaValue
  }, value));
});
var MetaInfoText = Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(function MetaInfoText(props) {
  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);
  var style = getStyles(theme);
  var metaItems = props.metaItems;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: style.metaContainer
  }, metaItems.map(function (item, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MetaInfoItem, {
      key: "".concat(index, "-").concat(item.label),
      label: item.label,
      value: item.value
    });
  }));
});
/* harmony default export */ __webpack_exports__["default"] = (MetaInfoText);

/***/ }),

/***/ "./public/app/features/explore/NoDataSourceCallToAction.tsx":
/*!******************************************************************!*\
  !*** ./public/app/features/explore/NoDataSourceCallToAction.tsx ***!
  \******************************************************************/
/*! exports provided: NoDataSourceCallToAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NoDataSourceCallToAction", function() { return NoDataSourceCallToAction; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _templateObject() {
  var data = _taggedTemplateLiteral(["\n    max-width: ", ";\n    margin-top: ", ";\n    align-self: center;\n  "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }




var NoDataSourceCallToAction = function NoDataSourceCallToAction() {
  var theme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["ThemeContext"]);
  var message = ' ';
  var footer = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    name: "rocket"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, " \u4E13\u5BB6\u63D0\u793A: \u60A8\u8FD8\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u5B9A\u4E49\u6570\u636E\u6E90\u3002 "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "http://docs.grafana.org/administration/provisioning/#datasources?utm_source=explore",
    target: "_blank",
    rel: "noopener",
    className: "text-link"
  }, "\u4E86\u89E3\u66F4\u591A"));
  var ctaElement = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["LinkButton"], {
    size: "lg",
    href: "datasources/new",
    icon: "database"
  }, "\u6DFB\u52A0\u6570\u636E\u6E90");
  var cardClassName = Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.breakpoints.lg, theme.spacing.md);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["CallToActionCard"], {
    callToActionElement: ctaElement,
    className: cardClassName,
    footer: footer,
    message: message,
    theme: theme
  });
};

/***/ }),

/***/ "./public/app/features/explore/QueryEditor.tsx":
/*!*****************************************************!*\
  !*** ./public/app/features/explore/QueryEditor.tsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return QueryEditor; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/runtime */ "./packages/grafana-runtime/src/index.ts");
/* harmony import */ var app_features_plugins_plugin_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/features/plugins/plugin_loader */ "./public/app/features/plugins/plugin_loader.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Libraries
 // Services

 // Types



var QueryEditor =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(QueryEditor, _PureComponent);

  function QueryEditor() {
    _classCallCheck(this, QueryEditor);

    return _possibleConstructorReturn(this, _getPrototypeOf(QueryEditor).apply(this, arguments));
  }

  _createClass(QueryEditor, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _this = this;

        var _this$props, datasource, initialQuery, exploreEvents, loader, template, target, scopeProps;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (this.element) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return");

              case 2:
                _this$props = this.props, datasource = _this$props.datasource, initialQuery = _this$props.initialQuery, exploreEvents = _this$props.exploreEvents;
                loader = Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_1__["getAngularLoader"])();
                template = '<plugin-component type="query-ctrl"> </plugin-component>';
                target = _objectSpread({
                  datasource: datasource.name
                }, initialQuery);
                scopeProps = {
                  ctrl: {
                    datasource: datasource,
                    target: target,
                    refresh: function refresh() {
                      setTimeout(function () {
                        var _this$props$onQueryCh, _this$props2, _this$props$onExecute, _this$props3;

                        (_this$props$onQueryCh = (_this$props2 = _this.props).onQueryChange) === null || _this$props$onQueryCh === void 0 ? void 0 : _this$props$onQueryCh.call(_this$props2, target);
                        (_this$props$onExecute = (_this$props3 = _this.props).onExecuteQuery) === null || _this$props$onExecute === void 0 ? void 0 : _this$props$onExecute.call(_this$props3);
                      }, 1);
                    },
                    onQueryChange: function onQueryChange() {
                      setTimeout(function () {
                        var _this$props$onQueryCh2, _this$props4;

                        (_this$props$onQueryCh2 = (_this$props4 = _this.props).onQueryChange) === null || _this$props$onQueryCh2 === void 0 ? void 0 : _this$props$onQueryCh2.call(_this$props4, target);
                      }, 1);
                    },
                    events: exploreEvents,
                    panel: {
                      datasource: datasource,
                      targets: [target]
                    },
                    dashboard: {}
                  }
                };
                this.component = loader.load(this.element, scopeProps, template);
                this.angularScope = scopeProps.ctrl;
                setTimeout(function () {
                  var _this$props$onQueryCh3, _this$props5, _this$props$onExecute2, _this$props6;

                  (_this$props$onQueryCh3 = (_this$props5 = _this.props).onQueryChange) === null || _this$props$onQueryCh3 === void 0 ? void 0 : _this$props$onQueryCh3.call(_this$props5, target);
                  (_this$props$onExecute2 = (_this$props6 = _this.props).onExecuteQuery) === null || _this$props$onExecute2 === void 0 ? void 0 : _this$props$onExecute2.call(_this$props6);
                }, 1);

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var hasToggledEditorMode = prevProps.textEditModeEnabled !== this.props.textEditModeEnabled;
      var hasNewError = prevProps.error !== this.props.error;

      if (this.component) {
        if (hasToggledEditorMode && this.angularScope && this.angularScope.toggleEditorMode) {
          this.angularScope.toggleEditorMode();
        }

        if (hasNewError || hasToggledEditorMode) {
          // Some query controllers listen to data error events and need a digest
          // for some reason this needs to be done in next tick
          setTimeout(this.component.digest);
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this.component) {
        this.component.destroy();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "gf-form-query",
        ref: function ref(element) {
          return _this2.element = element;
        },
        style: {
          width: '100%'
        }
      });
    }
  }]);

  return QueryEditor;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);



/***/ }),

/***/ "./public/app/features/explore/QueryRow.tsx":
/*!**************************************************!*\
  !*** ./public/app/features/explore/QueryRow.tsx ***!
  \**************************************************/
/*! exports provided: QueryRow, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryRow", function() { return QueryRow; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/debounce */ "./node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/has */ "./node_modules/lodash/has.js");
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_has__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _QueryEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./QueryEditor */ "./public/app/features/explore/QueryEditor.tsx");
/* harmony import */ var _QueryRowActions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./QueryRowActions */ "./public/app/features/explore/QueryRowActions.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @grafana/e2e-selectors */ "./packages/grafana-e2e-selectors/src/index.ts");
/* harmony import */ var _state_actionTypes__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./state/actionTypes */ "./public/app/features/explore/state/actionTypes.ts");
/* harmony import */ var _ErrorContainer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ErrorContainer */ "./public/app/features/explore/ErrorContainer.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Libraries



 // @ts-ignore

 // Components


 // Actions

 // Types






// Empty function to override blur execution on query field
var noopOnBlur = function noopOnBlur() {};

var QueryRow =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(QueryRow, _PureComponent);

  function QueryRow() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, QueryRow);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QueryRow)).call.apply(_getPrototypeOf2, [this].concat(args)));
    _this.state = {
      textEditModeEnabled: false
    };

    _this.onRunQuery = function () {
      var exploreId = _this.props.exploreId;

      _this.props.runQueries(exploreId);
    };

    _this.onChange = function (query, override) {
      var _this$props = _this.props,
          datasourceInstance = _this$props.datasourceInstance,
          exploreId = _this$props.exploreId,
          index = _this$props.index;

      _this.props.changeQuery(exploreId, query, index, override);

      if (query && !override && datasourceInstance.getHighlighterExpression && index === 0) {
        // Live preview of log search matches. Only use on first row for now
        _this.updateLogsHighlights(query);
      }
    };

    _this.onClickToggleDisabled = function () {
      var _this$props2 = _this.props,
          exploreId = _this$props2.exploreId,
          index = _this$props2.index,
          query = _this$props2.query;

      var newQuery = _objectSpread({}, query, {
        hide: !query.hide
      });

      _this.props.changeQuery(exploreId, newQuery, index, true);
    };

    _this.onClickRemoveButton = function () {
      var _this$props3 = _this.props,
          exploreId = _this$props3.exploreId,
          index = _this$props3.index;

      _this.props.removeQueryRowAction({
        exploreId: exploreId,
        index: index
      });

      _this.props.runQueries(exploreId);
    };

    _this.onClickToggleEditorMode = function () {
      _this.setState({
        textEditModeEnabled: !_this.state.textEditModeEnabled
      });
    };

    _this.setReactQueryEditor = function () {
      var _datasourceInstance$c, _datasourceInstance$c2, _datasourceInstance$c3;

      var datasourceInstance = _this.props.datasourceInstance;
      var QueryEditor; // TODO:unification

      if ((_datasourceInstance$c = datasourceInstance.components) === null || _datasourceInstance$c === void 0 ? void 0 : _datasourceInstance$c.ExploreMetricsQueryField) {
        QueryEditor = datasourceInstance.components.ExploreMetricsQueryField;
      } else if ((_datasourceInstance$c2 = datasourceInstance.components) === null || _datasourceInstance$c2 === void 0 ? void 0 : _datasourceInstance$c2.ExploreLogsQueryField) {
        QueryEditor = datasourceInstance.components.ExploreLogsQueryField;
      } else if ((_datasourceInstance$c3 = datasourceInstance.components) === null || _datasourceInstance$c3 === void 0 ? void 0 : _datasourceInstance$c3.ExploreQueryField) {
        QueryEditor = datasourceInstance.components.ExploreQueryField;
      } else {
        var _datasourceInstance$c4;

        QueryEditor = (_datasourceInstance$c4 = datasourceInstance.components) === null || _datasourceInstance$c4 === void 0 ? void 0 : _datasourceInstance$c4.QueryEditor;
      }

      return QueryEditor;
    };

    _this.renderQueryEditor = function () {
      var _this$props4 = _this.props,
          datasourceInstance = _this$props4.datasourceInstance,
          history = _this$props4.history,
          query = _this$props4.query,
          exploreEvents = _this$props4.exploreEvents,
          range = _this$props4.range,
          queryResponse = _this$props4.queryResponse,
          exploreId = _this$props4.exploreId;
      var queryErrors = queryResponse.error && queryResponse.error.refId === query.refId ? [queryResponse.error] : [];

      var ReactQueryEditor = _this.setReactQueryEditor();

      if (ReactQueryEditor) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ReactQueryEditor, {
          datasource: datasourceInstance,
          query: query,
          history: history,
          onRunQuery: _this.onRunQuery,
          onBlur: noopOnBlur,
          onChange: _this.onChange,
          data: queryResponse,
          range: range,
          exploreId: exploreId
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QueryEditor__WEBPACK_IMPORTED_MODULE_5__["default"], {
        error: queryErrors,
        datasource: datasourceInstance,
        onQueryChange: _this.onChange,
        onExecuteQuery: _this.onRunQuery,
        initialQuery: query,
        exploreEvents: exploreEvents,
        range: range,
        textEditModeEnabled: _this.state.textEditModeEnabled
      });
    };

    _this.updateLogsHighlights = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(function (value) {
      var datasourceInstance = _this.props.datasourceInstance;

      if (datasourceInstance.getHighlighterExpression) {
        var exploreId = _this.props.exploreId;
        var expressions = datasourceInstance.getHighlighterExpression(value);

        _this.props.highlightLogsExpressionAction({
          exploreId: exploreId,
          expressions: expressions
        });
      }
    }, 500);
    return _this;
  }

  _createClass(QueryRow, [{
    key: "render",
    value: function render() {
      var _this$props5 = this.props,
          datasourceInstance = _this$props5.datasourceInstance,
          query = _this$props5.query,
          queryResponse = _this$props5.queryResponse,
          latency = _this$props5.latency;
      var canToggleEditorModes = lodash_has__WEBPACK_IMPORTED_MODULE_2___default()(datasourceInstance, 'components.QueryCtrl.prototype.toggleEditorMode');
      var isNotStarted = queryResponse.state === _grafana_data__WEBPACK_IMPORTED_MODULE_8__["LoadingState"].NotStarted;
      var queryErrors = queryResponse.error && queryResponse.error.refId === query.refId ? [queryResponse.error] : [];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "query-row",
        "aria-label": _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_9__["selectors"].components.QueryEditorRows.rows
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "query-row-field flex-shrink-1"
      }, this.renderQueryEditor()), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QueryRowActions__WEBPACK_IMPORTED_MODULE_6__["QueryRowActions"], {
        canToggleEditorModes: canToggleEditorModes,
        isDisabled: query.hide,
        isNotStarted: isNotStarted,
        latency: latency,
        onClickToggleEditorMode: this.onClickToggleEditorMode,
        onClickToggleDisabled: this.onClickToggleDisabled,
        onClickRemoveButton: this.onClickRemoveButton
      })), queryErrors.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ErrorContainer__WEBPACK_IMPORTED_MODULE_11__["ErrorContainer"], {
        queryError: queryErrors[0]
      }));
    }
  }]);

  return QueryRow;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

function mapStateToProps(state, _ref) {
  var exploreId = _ref.exploreId,
      index = _ref.index;
  var explore = state.explore;
  var item = explore[exploreId];
  var datasourceInstance = item.datasourceInstance,
      history = item.history,
      queries = item.queries,
      range = item.range,
      absoluteRange = item.absoluteRange,
      queryResponse = item.queryResponse,
      latency = item.latency;
  var query = queries[index];
  return {
    datasourceInstance: datasourceInstance,
    history: history,
    query: query,
    range: range,
    absoluteRange: absoluteRange,
    queryResponse: queryResponse,
    latency: latency
  };
}

var mapDispatchToProps = {
  changeQuery: _state_actions__WEBPACK_IMPORTED_MODULE_7__["changeQuery"],
  highlightLogsExpressionAction: _state_actionTypes__WEBPACK_IMPORTED_MODULE_10__["highlightLogsExpressionAction"],
  modifyQueries: _state_actions__WEBPACK_IMPORTED_MODULE_7__["modifyQueries"],
  removeQueryRowAction: _state_actionTypes__WEBPACK_IMPORTED_MODULE_10__["removeQueryRowAction"],
  runQueries: _state_actions__WEBPACK_IMPORTED_MODULE_7__["runQueries"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_3__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_4__["connect"])(mapStateToProps, mapDispatchToProps)(QueryRow)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/QueryRowActions.tsx":
/*!*********************************************************!*\
  !*** ./public/app/features/explore/QueryRowActions.tsx ***!
  \*********************************************************/
/*! exports provided: QueryRowActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryRowActions", function() { return QueryRowActions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");



function formatLatency(value) {
  return "".concat((value / 1000).toFixed(1), "s");
}

function QueryRowActions(props) {
  var canToggleEditorModes = props.canToggleEditorModes,
      onClickToggleEditorMode = props.onClickToggleEditorMode,
      onClickToggleDisabled = props.onClickToggleDisabled,
      onClickRemoveButton = props.onClickRemoveButton,
      isDisabled = props.isDisabled,
      isNotStarted = props.isNotStarted,
      latency = props.latency;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form-inline flex-shrink-0"
  }, canToggleEditorModes && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    "aria-label": "Edit mode button",
    className: "gf-form-label gf-form-label--btn",
    onClick: onClickToggleEditorMode
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: "pen"
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    disabled: true,
    className: "gf-form-label",
    title: "Query row latency"
  }, formatLatency(latency))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    disabled: isNotStarted,
    className: "gf-form-label gf-form-label--btn",
    onClick: onClickToggleDisabled,
    title: isDisabled ? 'Enable query' : 'Disable query'
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: isDisabled ? 'eye-slash' : 'eye'
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "gf-form-label gf-form-label--btn",
    onClick: onClickRemoveButton,
    title: "Remove query"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: "minus"
  }))));
}

/***/ }),

/***/ "./public/app/features/explore/QueryRows.tsx":
/*!***************************************************!*\
  !*** ./public/app/features/explore/QueryRows.tsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return QueryRows; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _QueryRow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./QueryRow */ "./public/app/features/explore/QueryRow.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// Libraries
 // Components

 // Types

var QueryRows =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(QueryRows, _PureComponent);

  function QueryRows() {
    _classCallCheck(this, QueryRows);

    return _possibleConstructorReturn(this, _getPrototypeOf(QueryRows).apply(this, arguments));
  }

  _createClass(QueryRows, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          _this$props$className = _this$props.className,
          className = _this$props$className === void 0 ? '' : _this$props$className,
          exploreEvents = _this$props.exploreEvents,
          exploreId = _this$props.exploreId,
          queryKeys = _this$props.queryKeys;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: className
      }, queryKeys.map(function (key, index) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_QueryRow__WEBPACK_IMPORTED_MODULE_1__["default"], {
          key: key,
          exploreEvents: exploreEvents,
          exploreId: exploreId,
          index: index
        });
      }));
    }
  }]);

  return QueryRows;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);



/***/ }),

/***/ "./public/app/features/explore/ResponsiveButton.tsx":
/*!**********************************************************!*\
  !*** ./public/app/features/explore/ResponsiveButton.tsx ***!
  \**********************************************************/
/*! exports provided: IconSide, ResponsiveButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconSide", function() { return IconSide; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResponsiveButton", function() { return ResponsiveButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var IconSide;

(function (IconSide) {
  IconSide["left"] = "left";
  IconSide["right"] = "right";
})(IconSide || (IconSide = {}));

function formatBtnTitle(title, iconSide) {
  return iconSide === IconSide.left ? '\xA0' + title : iconSide === IconSide.right ? title + '\xA0' : title;
}

var ResponsiveButton = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (props, ref) {
  var defaultProps = {
    iconSide: IconSide.left
  };
  props = _objectSpread({}, defaultProps, {}, props);

  var _props = props,
      title = _props.title,
      onClick = _props.onClick,
      buttonClassName = _props.buttonClassName,
      icon = _props.icon,
      iconClassName = _props.iconClassName,
      splitted = _props.splitted,
      iconSide = _props.iconSide,
      disabled = _props.disabled,
      divElementProps = _objectWithoutProperties(_props, ["title", "onClick", "buttonClassName", "icon", "iconClassName", "splitted", "iconSide", "disabled"]);

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", divElementProps, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    ref: ref,
    className: "btn navbar-button ".concat(buttonClassName ? buttonClassName : ''),
    onClick: onClick !== null && onClick !== void 0 ? onClick : undefined,
    disabled: disabled || false
  }, icon && iconSide === IconSide.left ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: icon,
    className: iconClassName,
    size: "lg"
  }) : null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "btn-title"
  }, !splitted ? formatBtnTitle(title, iconSide) : ''), icon && iconSide === IconSide.right ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Icon"], {
    name: icon,
    className: iconClassName,
    size: "lg"
  }) : null));
});

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistory.tsx":
/*!*****************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistory.tsx ***!
  \*****************************************************************/
/*! exports provided: Tabs, sortOrderOptions, RichHistory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return Tabs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sortOrderOptions", function() { return sortOrderOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistory", function() { return RichHistory; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/core/utils/richHistory */ "./public/app/core/utils/richHistory.ts");
/* harmony import */ var app_core_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/core/store */ "./public/app/core/store.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _RichHistorySettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RichHistorySettings */ "./public/app/features/explore/RichHistory/RichHistorySettings.tsx");
/* harmony import */ var _RichHistoryQueriesTab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RichHistoryQueriesTab */ "./public/app/features/explore/RichHistory/RichHistoryQueriesTab.tsx");
/* harmony import */ var _RichHistoryStarredTab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RichHistoryStarredTab */ "./public/app/features/explore/RichHistory/RichHistoryStarredTab.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

 //Services & Utils



 //Types

//Components



var Tabs;

(function (Tabs) {
  Tabs["RichHistory"] = "Query history";
  Tabs["Starred"] = "Starred";
  Tabs["Settings"] = "Settings";
})(Tabs || (Tabs = {}));

var sortOrderOptions = [{
  label: '',
  value: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["SortOrder"].Descending
}, {
  label: '',
  value: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["SortOrder"].Ascending
}, {
  label: ' A-Z',
  value: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["SortOrder"].DatasourceAZ
}, {
  label: ' Z-A',
  value: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["SortOrder"].DatasourceZA
}];

var UnThemedRichHistory =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(UnThemedRichHistory, _PureComponent);

  function UnThemedRichHistory(props) {
    var _this;

    _classCallCheck(this, UnThemedRichHistory);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UnThemedRichHistory).call(this, props));

    _this.onChangeRetentionPeriod = function (retentionPeriod) {
      _this.setState({
        retentionPeriod: retentionPeriod.value
      });

      app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].set(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].retentionPeriod, retentionPeriod.value);
    };

    _this.toggleStarredTabAsFirstTab = function () {
      var starredTabAsFirstTab = !_this.state.starredTabAsFirstTab;

      _this.setState({
        starredTabAsFirstTab: starredTabAsFirstTab
      });

      app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].set(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].starredTabAsFirstTab, starredTabAsFirstTab);
    };

    _this.toggleActiveDatasourceOnly = function () {
      var activeDatasourceOnly = !_this.state.activeDatasourceOnly;

      _this.setState({
        activeDatasourceOnly: activeDatasourceOnly
      });

      app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].set(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].activeDatasourceOnly, activeDatasourceOnly);
    };

    _this.onSelectDatasourceFilters = function (value) {
      try {
        app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].setObject(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].datasourceFilters, value);
      } catch (error) {
        console.error(error);
      }
      /* Set data source filters to state even though they were not successfully saved in
       * localStorage to allow interaction and filtering.
       **/


      _this.setState({
        datasourceFilters: value
      });
    };

    _this.onChangeSortOrder = function (sortOrder) {
      return _this.setState({
        sortOrder: sortOrder
      });
    };

    _this.state = {
      sortOrder: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["SortOrder"].Descending,
      datasourceFilters: app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].getObject(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].datasourceFilters, null),
      retentionPeriod: app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].getObject(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].retentionPeriod, 7),
      starredTabAsFirstTab: app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].getBool(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].starredTabAsFirstTab, false),
      activeDatasourceOnly: app_core_store__WEBPACK_IMPORTED_MODULE_2__["default"].getBool(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_1__["RICH_HISTORY_SETTING_KEYS"].activeDatasourceOnly, true)
    };
    return _this;
  }

  _createClass(UnThemedRichHistory, [{
    key: "updateFilters",

    /* If user selects activeDatasourceOnly === true, set datasource filter to currently active datasource.
     * Filtering based on datasource won't be available. Otherwise set to null, as filtering will be
     * available for user.
     */
    value: function updateFilters() {
      this.state.activeDatasourceOnly && this.props.activeDatasourceInstance ? this.onSelectDatasourceFilters([{
        label: this.props.activeDatasourceInstance,
        value: this.props.activeDatasourceInstance
      }]) : this.onSelectDatasourceFilters(this.state.datasourceFilters);
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.updateFilters();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (this.props.activeDatasourceInstance !== prevProps.activeDatasourceInstance || this.state.activeDatasourceOnly !== prevState.activeDatasourceOnly) {
        this.updateFilters();
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          datasourceFilters = _this$state.datasourceFilters,
          sortOrder = _this$state.sortOrder,
          activeDatasourceOnly = _this$state.activeDatasourceOnly,
          retentionPeriod = _this$state.retentionPeriod;
      var _this$props = this.props,
          richHistory = _this$props.richHistory,
          height = _this$props.height,
          exploreId = _this$props.exploreId,
          deleteRichHistory = _this$props.deleteRichHistory,
          onClose = _this$props.onClose,
          firstTab = _this$props.firstTab;
      var QueriesTab = {
        label: '',
        value: Tabs.RichHistory,
        content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistoryQueriesTab__WEBPACK_IMPORTED_MODULE_5__["RichHistoryQueriesTab"], {
          queries: richHistory,
          sortOrder: sortOrder,
          datasourceFilters: datasourceFilters,
          activeDatasourceOnly: activeDatasourceOnly,
          retentionPeriod: retentionPeriod,
          onChangeSortOrder: this.onChangeSortOrder,
          onSelectDatasourceFilters: this.onSelectDatasourceFilters,
          exploreId: exploreId,
          height: height
        }),
        icon: 'history'
      };
      var StarredTab = {
        label: '',
        value: Tabs.Starred,
        content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistoryStarredTab__WEBPACK_IMPORTED_MODULE_6__["RichHistoryStarredTab"], {
          queries: richHistory,
          sortOrder: sortOrder,
          datasourceFilters: datasourceFilters,
          activeDatasourceOnly: activeDatasourceOnly,
          onChangeSortOrder: this.onChangeSortOrder,
          onSelectDatasourceFilters: this.onSelectDatasourceFilters,
          exploreId: exploreId
        }),
        icon: 'star'
      };
      var SettingsTab = {
        label: '',
        value: Tabs.Settings,
        content: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistorySettings__WEBPACK_IMPORTED_MODULE_4__["RichHistorySettings"], {
          retentionPeriod: this.state.retentionPeriod,
          starredTabAsFirstTab: this.state.starredTabAsFirstTab,
          activeDatasourceOnly: this.state.activeDatasourceOnly,
          onChangeRetentionPeriod: this.onChangeRetentionPeriod,
          toggleStarredTabAsFirstTab: this.toggleStarredTabAsFirstTab,
          toggleactiveDatasourceOnly: this.toggleActiveDatasourceOnly,
          deleteRichHistory: deleteRichHistory
        }),
        icon: 'sliders-v-alt'
      };
      var tabs = [QueriesTab, StarredTab, SettingsTab];
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["TabbedContainer"], {
        tabs: tabs,
        onClose: onClose,
        defaultTab: firstTab,
        closeIconTooltip: "Close query history"
      });
    }
  }]);

  return UnThemedRichHistory;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

var RichHistory = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["withTheme"])(UnThemedRichHistory);

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistoryCard.tsx":
/*!*********************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistoryCard.tsx ***!
  \*********************************************************************/
/*! exports provided: RichHistoryCard, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistoryCard", function() { return RichHistoryCard; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @grafana/runtime */ "./packages/grafana-runtime/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/core/utils/richHistory */ "./public/app/core/utils/richHistory.ts");
/* harmony import */ var app_core_app_events__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/core/app_events */ "./public/app/core/app_events.ts");
/* harmony import */ var app_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/types */ "./public/app/types/index.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../state/actions */ "./public/app/features/explore/state/actions.ts");
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject11() {
  var data = _taggedTemplateLiteral(["\n      max-width: ", ";\n      display: flex;\n      justify-content: flex-end;\n      button {\n        height: auto;\n        padding: ", " ", ";\n        line-height: 1.4;\n        span {\n          white-space: normal !important;\n        }\n      }\n    "]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n      border: 1px solid ", ";\n      background: inherit;\n      color: inherit;\n      width: 100%;\n      font-size: ", ";\n      &placeholder {\n        padding: 0 ", ";\n      }\n    "]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n      > * {\n        margin-right: ", ";\n      }\n    "]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      overflow-wrap: break-word;\n      font-size: ", ";\n      font-weight: ", ";\n      margin-top: ", ";\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      width: calc(100% + ", ");\n      margin-top: ", ";\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      border-top: 1px solid ", ";\n      word-break: break-all;\n      padding: 4px 2px;\n      :first-child {\n        border-top: none;\n        padding: 0 0 4px 0;\n      }\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      font-weight: ", ";\n      width: calc(100% - ", ");\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      max-width: ", ";\n      display: flex;\n      justify-content: flex-end;\n      font-size: ", ";\n      button {\n        margin-left: ", ";\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      align-items: center;\n      font-size: ", ";\n      font-weight: ", ";\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: ", ";\n      border-bottom: none;\n      :first-of-type {\n        border-bottom: 1px solid ", ";\n        padding: ", " ", ";\n      }\n      img {\n        height: ", ";\n        max-width: ", ";\n        margin-right: ", ";\n      }\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      flex-direction: column;\n      border: 1px solid ", ";\n      margin: ", " 0;\n      background-color: ", ";\n      border-radius: ", ";\n      .starred {\n        color: ", ";\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }












var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["stylesFactory"])(function (theme, isRemoved) {
  /* Hard-coded value so all buttons and icons on right side of card are aligned */
  var rigtColumnWidth = '240px';
  var rigtColumnContentWidth = '170px';
  /* If datasource was removed, card will have inactive color */

  var cardColor = theme.isLight ? isRemoved ? theme.palette.gray95 : theme.palette.white : isRemoved ? theme.palette.gray15 : theme.palette.gray05;
  return {
    queryCard: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject(), theme.colors.formInputBorder, theme.spacing.sm, cardColor, theme.border.radius.sm, theme.palette.orange),
    cardRow: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject2(), theme.spacing.sm, theme.colors.formInputBorder, theme.spacing.xs, theme.spacing.sm, theme.typography.size.base, theme.typography.size.base, theme.spacing.sm),
    datasourceContainer: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject3(), theme.typography.size.sm, theme.typography.weight.semibold),
    queryActionButtons: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject4(), rigtColumnContentWidth, theme.typography.size.base, theme.spacing.sm),
    queryContainer: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject5(), theme.typography.weight.semibold, rigtColumnWidth),
    queryRow: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject6(), theme.colors.formInputBorder),
    updateCommentContainer: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject7(), rigtColumnWidth, theme.spacing.sm),
    comment: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject8(), theme.typography.size.sm, theme.typography.weight.regular, theme.spacing.xs),
    commentButtonRow: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject9(), theme.spacing.sm),
    textArea: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject10(), theme.colors.formInputBorder, theme.typography.size.sm, theme.spacing.sm),
    runButton: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["css"])(_templateObject11(), rigtColumnContentWidth, theme.spacing.xs, theme.spacing.md)
  };
});
function RichHistoryCard(props) {
  var _query$comment;

  var query = props.query,
      dsImg = props.dsImg,
      isRemoved = props.isRemoved,
      updateRichHistory = props.updateRichHistory,
      changeDatasource = props.changeDatasource,
      exploreId = props.exploreId,
      datasourceInstance = props.datasourceInstance,
      setQueries = props.setQueries;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState2 = _slicedToArray(_useState, 2),
      activeUpdateComment = _useState2[0],
      setActiveUpdateComment = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(query.comment),
      _useState4 = _slicedToArray(_useState3, 2),
      comment = _useState4[0],
      setComment = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(undefined),
      _useState6 = _slicedToArray(_useState5, 2),
      queryDsInstance = _useState6[0],
      setQueryDsInstance = _useState6[1];

  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    var getQueryDsInstance =
    /*#__PURE__*/
    function () {
      var _ref = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var ds;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_5__["getDataSourceSrv"])().get(query.datasourceName);

              case 2:
                ds = _context.sent;
                setQueryDsInstance(ds);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee);
      }));

      return function getQueryDsInstance() {
        return _ref.apply(this, arguments);
      };
    }();

    getQueryDsInstance();
  }, [query.datasourceName]);
  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["useTheme"])();
  var styles = getStyles(theme, isRemoved);

  var onRunQuery =
  /*#__PURE__*/
  function () {
    var _ref2 = _asyncToGenerator(
    /*#__PURE__*/
    regeneratorRuntime.mark(function _callee2() {
      var queriesToRun;
      return regeneratorRuntime.wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              queriesToRun = query.queries;

              if (!(query.datasourceName !== (datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.name))) {
                _context2.next = 7;
                break;
              }

              _context2.next = 4;
              return changeDatasource(exploreId, query.datasourceName, {
                importQueries: true
              });

            case 4:
              setQueries(exploreId, queriesToRun);
              _context2.next = 8;
              break;

            case 7:
              setQueries(exploreId, queriesToRun);

            case 8:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));

    return function onRunQuery() {
      return _ref2.apply(this, arguments);
    };
  }();

  var onCopyQuery = function onCopyQuery() {
    var queriesToCopy = query.queries.map(function (q) {
      return Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__["createQueryText"])(q, queryDsInstance);
    }).join('\n');
    Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__["copyStringToClipboard"])(queriesToCopy);
    app_core_app_events__WEBPACK_IMPORTED_MODULE_8__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_6__["AppEvents"].alertSuccess, ['']);
  };

  var onCreateLink = function onCreateLink() {
    var url = Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__["createUrlFromRichHistory"])(query);
    Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__["copyStringToClipboard"])(url);
    app_core_app_events__WEBPACK_IMPORTED_MODULE_8__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_6__["AppEvents"].alertSuccess, ['']);
  };

  var onDeleteQuery = function onDeleteQuery() {
    // For starred queries, we want confirmation. For non-starred, we don't.
    if (query.starred) {
      app_core_app_events__WEBPACK_IMPORTED_MODULE_8__["default"].emit(app_types__WEBPACK_IMPORTED_MODULE_9__["CoreEvents"].showConfirmModal, {
        title: '',
        text: '',
        yesText: '',
        icon: 'trash-alt',
        onConfirm: function onConfirm() {
          updateRichHistory(query.ts, 'delete');
          app_core_app_events__WEBPACK_IMPORTED_MODULE_8__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_6__["AppEvents"].alertSuccess, ['']);
        }
      });
    } else {
      updateRichHistory(query.ts, 'delete');
      app_core_app_events__WEBPACK_IMPORTED_MODULE_8__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_6__["AppEvents"].alertSuccess, ['']);
    }
  };

  var onStarrQuery = function onStarrQuery() {
    updateRichHistory(query.ts, 'starred');
  };

  var toggleActiveUpdateComment = function toggleActiveUpdateComment() {
    return setActiveUpdateComment(!activeUpdateComment);
  };

  var onUpdateComment = function onUpdateComment() {
    updateRichHistory(query.ts, 'comment', comment);
    setActiveUpdateComment(false);
  };

  var onCancelUpdateComment = function onCancelUpdateComment() {
    setActiveUpdateComment(false);
    setComment(query.comment);
  };

  var onKeyDown = function onKeyDown(keyEvent) {
    if (keyEvent.key === 'Enter' && (keyEvent.shiftKey || keyEvent.ctrlKey)) {
      onUpdateComment();
    }

    if (keyEvent.key === 'Escape') {
      onCancelUpdateComment();
    }
  };

  var updateComment = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.updateCommentContainer,
    "aria-label": comment ? '' : ''
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["TextArea"], {
    value: comment,
    placeholder: comment ? undefined : '',
    onChange: function onChange(e) {
      return setComment(e.currentTarget.value);
    },
    className: styles.textArea
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.commentButtonRow
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    onClick: onUpdateComment,
    "aria-label": "Submit button"
  }, "\u4FDD\u5B58\u6CE8\u89E3"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    variant: "secondary",
    onClick: onCancelUpdateComment
  }, "\u53D6\u6D88")));
  var queryActionButtons = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.queryActionButtons
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["IconButton"], {
    name: "comment-alt",
    onClick: toggleActiveUpdateComment,
    title: ((_query$comment = query.comment) === null || _query$comment === void 0 ? void 0 : _query$comment.length) > 0 ? '' : ''
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["IconButton"], {
    name: "copy",
    onClick: onCopyQuery,
    title: "\u5C06\u67E5\u8BE2\u590D\u5236\u5230\u526A\u8D34\u677F"
  }), !isRemoved && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["IconButton"], {
    name: "link",
    onClick: onCreateLink,
    title: "\u5C06\u94FE\u63A5\u590D\u5236\u5230\u526A\u8D34\u677F"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["IconButton"], {
    name: "trash-alt",
    title: '',
    onClick: onDeleteQuery
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["IconButton"], {
    name: query.starred ? 'favorite' : 'star',
    iconType: query.starred ? 'mono' : 'default',
    onClick: onStarrQuery,
    title: query.starred ? '' : ''
  }));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.queryCard,
    onKeyDown: onKeyDown
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.cardRow
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.datasourceContainer
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    src: dsImg,
    "aria-label": "Data source icon"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Data source name"
  }, isRemoved ? '' : query.datasourceName)), queryActionButtons), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_3__["cx"])(styles.cardRow)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.queryContainer
  }, query.queries.map(function (q, i) {
    var queryText = Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_7__["createQueryText"])(q, queryDsInstance);
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      "aria-label": "Query text",
      key: "".concat(q, "-").concat(i),
      className: styles.queryRow
    }, queryText);
  }), !activeUpdateComment && query.comment && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Query comment",
    className: styles.comment
  }, query.comment), activeUpdateComment && updateComment), !activeUpdateComment && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.runButton
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    variant: "secondary",
    onClick: onRunQuery,
    disabled: isRemoved
  }, (datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.name) === query.datasourceName ? '' : ''))));
}

function mapStateToProps(state, _ref3) {
  var exploreId = _ref3.exploreId;
  var explore = state.explore;
  var datasourceInstance = explore[exploreId].datasourceInstance; // @ts-ignore

  var item = explore[exploreId];
  return {
    exploreId: exploreId,
    datasourceInstance: datasourceInstance
  };
}

var mapDispatchToProps = {
  changeDatasource: _state_actions__WEBPACK_IMPORTED_MODULE_10__["changeDatasource"],
  updateRichHistory: _state_actions__WEBPACK_IMPORTED_MODULE_10__["updateRichHistory"],
  setQueries: _state_actions__WEBPACK_IMPORTED_MODULE_10__["setQueries"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(RichHistoryCard)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistoryContainer.tsx":
/*!**************************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistoryContainer.tsx ***!
  \**************************************************************************/
/*! exports provided: RichHistoryContainer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistoryContainer", function() { return RichHistoryContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var app_core_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/core/store */ "./public/app/core/store.ts");
/* harmony import */ var app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/utils/richHistory */ "./public/app/core/utils/richHistory.ts");
/* harmony import */ var _RichHistory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RichHistory */ "./public/app/features/explore/RichHistory/RichHistory.tsx");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var _ExploreDrawer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ExploreDrawer */ "./public/app/features/explore/ExploreDrawer.tsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

// Libraries


 // Services & Utils


 // Types

// Components, enums
 //Actions



function RichHistoryContainer(props) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(400),
      _useState2 = _slicedToArray(_useState, 2),
      height = _useState2[0],
      setHeight = _useState2[1];

  var richHistory = props.richHistory,
      width = props.width,
      firstTab = props.firstTab,
      activeDatasourceInstance = props.activeDatasourceInstance,
      exploreId = props.exploreId,
      deleteRichHistory = props.deleteRichHistory,
      onClose = props.onClose;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ExploreDrawer__WEBPACK_IMPORTED_MODULE_7__["ExploreDrawer"], {
    width: width,
    onResize: function onResize(_e, _dir, ref) {
      setHeight(Number(ref.style.height.slice(0, -2)));
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistory__WEBPACK_IMPORTED_MODULE_5__["RichHistory"], {
    richHistory: richHistory,
    firstTab: firstTab,
    activeDatasourceInstance: activeDatasourceInstance,
    exploreId: exploreId,
    deleteRichHistory: deleteRichHistory,
    onClose: onClose,
    height: height
  }));
}

function mapStateToProps(state, _ref) {
  var exploreId = _ref.exploreId;
  var explore = state.explore; // @ts-ignore

  var item = explore[exploreId];
  var datasourceInstance = item.datasourceInstance;
  var firstTab = app_core_store__WEBPACK_IMPORTED_MODULE_3__["default"].getBool(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["RICH_HISTORY_SETTING_KEYS"].starredTabAsFirstTab, false) ? _RichHistory__WEBPACK_IMPORTED_MODULE_5__["Tabs"].Starred : _RichHistory__WEBPACK_IMPORTED_MODULE_5__["Tabs"].RichHistory;
  var richHistory = explore.richHistory;
  return {
    richHistory: richHistory,
    firstTab: firstTab,
    activeDatasourceInstance: datasourceInstance === null || datasourceInstance === void 0 ? void 0 : datasourceInstance.name
  };
}

var mapDispatchToProps = {
  deleteRichHistory: _state_actions__WEBPACK_IMPORTED_MODULE_6__["deleteRichHistory"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_2__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["connect"])(mapStateToProps, mapDispatchToProps)(RichHistoryContainer)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistoryQueriesTab.tsx":
/*!***************************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistoryQueriesTab.tsx ***!
  \***************************************************************************/
/*! exports provided: RichHistoryQueriesTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistoryQueriesTab", function() { return RichHistoryQueriesTab; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/utils/richHistory */ "./public/app/core/utils/richHistory.ts");
/* harmony import */ var _RichHistoryCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RichHistoryCard */ "./public/app/features/explore/RichHistory/RichHistoryCard.tsx");
/* harmony import */ var _RichHistory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RichHistory */ "./public/app/features/explore/RichHistory/RichHistory.tsx");
/* harmony import */ var app_core_components_FilterInput_FilterInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/core/components/FilterInput/FilterInput */ "./public/app/core/components/FilterInput/FilterInput.tsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject12() {
  var data = _taggedTemplateLiteral(["\n      font-size: ", ";\n      font-weight: ", ";\n      margin-left: ", ";\n    "]);

  _templateObject12 = function _templateObject12() {
    return data;
  };

  return data;
}

function _templateObject11() {
  var data = _taggedTemplateLiteral(["\n      height: 60px;\n      margin-top: ", ";\n      display: flex;\n      justify-content: center;\n      font-weight: ", ";\n      font-size: ", ";\n      a {\n        font-weight: ", ";\n        margin-left: ", ";\n      }\n    "]);

  _templateObject11 = function _templateObject11() {
    return data;
  };

  return data;
}

function _templateObject10() {
  var data = _taggedTemplateLiteral(["\n      font-size: ", ";\n      margin: ", " ", " ", " ", ";\n    "]);

  _templateObject10 = function _templateObject10() {
    return data;
  };

  return data;
}

function _templateObject9() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      align-items: flex-start;\n      justify-content: flex-start;\n      margin-top: ", ";\n      h4 {\n        margin: 0 10px 0 0;\n      }\n    "]);

  _templateObject9 = function _templateObject9() {
    return data;
  };

  return data;
}

function _templateObject8() {
  var data = _taggedTemplateLiteral(["\n      width: 170px;\n    "]);

  _templateObject8 = function _templateObject8() {
    return data;
  };

  return data;
}

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n      margin-bottom: ", ";\n      .gf-form-select-box__multi-value {\n        background-color: ", ";\n        padding: ", " ", " ", " ", ";\n        border-radius: ", ";\n      }\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      margin-bottom: ", ";\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      position: fixed;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      width: 129px;\n      margin-right: ", ";\n      .slider {\n        bottom: 10px;\n        height: ", ";\n        width: 129px;\n        padding: ", " 0;\n      }\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      width: calc(", ");\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      .label-slider {\n        font-size: ", ";\n        &:last-of-type {\n          margin-top: ", ";\n        }\n        &:first-of-type {\n          font-weight: ", ";\n          margin-bottom: ", ";\n        }\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }



 // Types

// Utils

 // Components





var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["stylesFactory"])(function (theme, height) {
  var bgColor = theme.isLight ? theme.palette.gray5 : theme.palette.dark4;
  /* 134px is based on the width of the Query history tabs bar, so the content is aligned to right side of the tab */

  var cardWidth = '100% - 134px';
  var sliderHeight = "".concat(height - 180, "px");
  return {
    container: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.typography.size.sm, theme.spacing.lg, theme.typography.weight.semibold, theme.spacing.md),
    containerContent: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2(), cardWidth),
    containerSlider: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3(), theme.spacing.sm, sliderHeight, theme.spacing.sm),
    slider: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4()),
    selectors: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5()),
    filterInput: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6(), theme.spacing.sm),
    multiselect: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject7(), theme.spacing.sm, bgColor, theme.spacing.xxs, theme.spacing.xs, theme.spacing.xxs, theme.spacing.sm, theme.border.radius.sm),
    sort: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject8()),
    sessionName: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject9(), theme.spacing.lg),
    heading: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject10(), theme.typography.heading.h4, theme.spacing.md, theme.spacing.xxs, theme.spacing.sm, theme.spacing.xxs),
    footer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject11(), theme.spacing.lg, theme.typography.weight.light, theme.typography.size.sm, theme.typography.weight.semibold, theme.spacing.xxs),
    queries: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject12(), theme.typography.size.sm, theme.typography.weight.regular, theme.spacing.xs)
  };
});
function RichHistoryQueriesTab(props) {
  var datasourceFilters = props.datasourceFilters,
      onSelectDatasourceFilters = props.onSelectDatasourceFilters,
      queries = props.queries,
      onChangeSortOrder = props.onChangeSortOrder,
      sortOrder = props.sortOrder,
      activeDatasourceOnly = props.activeDatasourceOnly,
      retentionPeriod = props.retentionPeriod,
      exploreId = props.exploreId,
      height = props.height;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([0, retentionPeriod]),
      _useState2 = _slicedToArray(_useState, 2),
      timeFilter = _useState2[0],
      setTimeFilter = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState4 = _slicedToArray(_useState3, 2),
      filteredQueries = _useState4[0],
      setFilteredQueries = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(''),
      _useState6 = _slicedToArray(_useState5, 2),
      searchInput = _useState6[0],
      setSearchInput = _useState6[1];

  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["useTheme"])();
  var styles = getStyles(theme, height);
  var datasourcesRetrievedFromQueryHistory = Object(lodash__WEBPACK_IMPORTED_MODULE_2__["uniqBy"])(queries, 'datasourceName').map(function (d) {
    return d.datasourceName;
  });
  var listOfDatasources = Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["createDatasourcesList"])(datasourcesRetrievedFromQueryHistory);
  var filterAndSortQueriesDebounced = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(Object(lodash__WEBPACK_IMPORTED_MODULE_2__["debounce"])(function (searchValue) {
    setFilteredQueries(Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["filterAndSortQueries"])(queries, sortOrder, datasourceFilters === null || datasourceFilters === void 0 ? void 0 : datasourceFilters.map(function (d) {
      return d.value;
    }), searchValue, timeFilter));
  }, 300), [timeFilter, queries, sortOrder, datasourceFilters]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setFilteredQueries(Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["filterAndSortQueries"])(queries, sortOrder, datasourceFilters === null || datasourceFilters === void 0 ? void 0 : datasourceFilters.map(function (d) {
      return d.value;
    }), searchInput, timeFilter));
  }, [timeFilter, queries, sortOrder, datasourceFilters]);
  /* mappedQueriesToHeadings is an object where query headings (stringified dates/data sources)
   * are keys and arrays with queries that belong to that headings are values.
   */

  var mappedQueriesToHeadings = Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["mapQueriesToHeadings"])(filteredQueries, sortOrder);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.container
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.containerSlider
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.slider
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "label-slider"
  }, "\u7B5B\u9009\u8BB0\u5F55"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "label-slider"
  }, Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["mapNumbertoTimeInSlider"])(timeFilter[0])), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "slider"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Slider"], {
    tooltipAlwaysVisible: false,
    min: 0,
    max: retentionPeriod,
    value: timeFilter,
    orientation: "vertical",
    formatTooltipResult: app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["mapNumbertoTimeInSlider"],
    reverse: true,
    onAfterChange: setTimeFilter
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "label-slider"
  }, Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["mapNumbertoTimeInSlider"])(timeFilter[1])))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.containerContent
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.selectors
  }, !activeDatasourceOnly && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Filter datasources",
    className: styles.multiselect
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Select"], {
    isMulti: true,
    options: listOfDatasources,
    value: datasourceFilters,
    placeholder: "\u7B5B\u9009\u67E5\u8BE2\u6570\u636E\u6E90",
    onChange: onSelectDatasourceFilters
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.filterInput
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_FilterInput_FilterInput__WEBPACK_IMPORTED_MODULE_7__["FilterInput"], {
    labelClassName: "gf-form--has-input-icon gf-form--grow",
    inputClassName: "gf-form-input",
    placeholder: "\u641C\u7D22\u67E5\u8BE2",
    value: searchInput,
    onChange: function onChange(value) {
      setSearchInput(value);
      filterAndSortQueriesDebounced(value);
    }
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Sort queries",
    className: styles.sort
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Select"], {
    value: _RichHistory__WEBPACK_IMPORTED_MODULE_6__["sortOrderOptions"].filter(function (order) {
      return order.value === sortOrder;
    }),
    options: _RichHistory__WEBPACK_IMPORTED_MODULE_6__["sortOrderOptions"],
    placeholder: "\u6392\u5E8F\u67E5\u8BE2\u4F9D\u636E",
    onChange: function onChange(e) {
      return onChangeSortOrder(e.value);
    }
  }))), Object.keys(mappedQueriesToHeadings).map(function (heading) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: heading
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: styles.heading
    }, heading, " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: styles.queries
    }, mappedQueriesToHeadings[heading].length, " \u67E5\u8BE2")), mappedQueriesToHeadings[heading].map(function (q) {
      var idx = listOfDatasources.findIndex(function (d) {
        return d.label === q.datasourceName;
      });
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistoryCard__WEBPACK_IMPORTED_MODULE_5__["default"], {
        query: q,
        key: q.ts,
        exploreId: exploreId,
        dsImg: listOfDatasources[idx].imgUrl,
        isRemoved: listOfDatasources[idx].isRemoved
      });
    }));
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.footer
  }, "\u5386\u53F2\u8BB0\u5F55\u5728\u60A8\u7684\u6D4F\u89C8\u5668\u4E2D\u662F\u672C\u5730\u7684\uFF0C\u4E0D\u4F1A\u4E0E\u5176\u4ED6\u4EBA\u5171\u4EAB\u3002")));
}

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistorySettings.tsx":
/*!*************************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistorySettings.tsx ***!
  \*************************************************************************/
/*! exports provided: RichHistorySettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistorySettings", function() { return RichHistorySettings; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");
/* harmony import */ var app_core_app_events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/app_events */ "./public/app/core/app_events.ts");
/* harmony import */ var app_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/types */ "./public/app/types/index.ts");
function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n          margin-bottom: ", ";\n        "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n          font-weight: ", ";\n        "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      margin-left: ", ";\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      align-items: center;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      max-width: 200px;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      padding-left: ", ";\n      font-size: ", ";\n      .space-between {\n        margin-bottom: ", ";\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }







var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["stylesFactory"])(function (theme) {
  return {
    container: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject(), theme.spacing.sm, theme.typography.size.sm, theme.spacing.lg),
    input: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    switch: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    label: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4(), theme.spacing.md)
  };
});
var retentionPeriodOptions = [{
  value: 2,
  label: '2 '
}, {
  value: 5,
  label: '5 '
}, {
  value: 7,
  label: '1 '
}, {
  value: 14,
  label: '2 '
}];
function RichHistorySettings(props) {
  var retentionPeriod = props.retentionPeriod,
      starredTabAsFirstTab = props.starredTabAsFirstTab,
      activeDatasourceOnly = props.activeDatasourceOnly,
      onChangeRetentionPeriod = props.onChangeRetentionPeriod,
      toggleStarredTabAsFirstTab = props.toggleStarredTabAsFirstTab,
      toggleactiveDatasourceOnly = props.toggleactiveDatasourceOnly,
      deleteRichHistory = props.deleteRichHistory;
  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["useTheme"])();
  var styles = getStyles(theme);
  var selectedOption = retentionPeriodOptions.find(function (v) {
    return v.value === retentionPeriod;
  });

  var onDelete = function onDelete() {
    app_core_app_events__WEBPACK_IMPORTED_MODULE_4__["default"].emit(app_types__WEBPACK_IMPORTED_MODULE_5__["CoreEvents"].showConfirmModal, {
      title: '',
      text: '',
      yesText: '',
      icon: 'trash-alt',
      onConfirm: function onConfirm() {
        deleteRichHistory();
        app_core_app_events__WEBPACK_IMPORTED_MODULE_4__["default"].emit(_grafana_data__WEBPACK_IMPORTED_MODULE_3__["AppEvents"].alertSuccess, ['']);
      }
    });
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.container
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Field"], {
    label: "\u5386\u53F2\u65F6\u95F4\u8DE8\u5EA6",
    description: "\u9009\u62E9Grafana\u5C06\u4FDD\u5B58\u67E5\u8BE2\u5386\u53F2\u8BB0\u5F55\u7684\u65F6\u95F4\u6BB5",
    className: "space-between"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.input
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Select"], {
    value: selectedOption,
    options: retentionPeriodOptions,
    onChange: onChangeRetentionPeriod
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Field"], {
    label: "\u9ED8\u8BA4\u6D3B\u52A8\u6807\u7B7E",
    description: " ",
    className: "space-between"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.switch
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Switch"], {
    value: starredTabAsFirstTab,
    onChange: toggleStarredTabAsFirstTab
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.label
  }, "\u5C06\u9ED8\u8BA4\u7684\u6D3B\u52A8\u6807\u7B7E\u4ECE\u201C\u67E5\u8BE2\u5386\u53F2\u8BB0\u5F55\u201D\u66F4\u6539\u4E3A\u201C\u5DF2\u52A0\u661F\u6807\u201D"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Field"], {
    label: "\u6570\u636E\u6E90\u884C\u4E3A",
    description: " ",
    className: "space-between"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.switch
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Switch"], {
    value: activeDatasourceOnly,
    onChange: toggleactiveDatasourceOnly
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.label
  }, "\u4EC5\u663E\u793A\u5BF9\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u5F53\u524D\u6D3B\u52A8\u7684\u6570\u636E\u6E90\u7684\u67E5\u8BE2"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5(), theme.typography.weight.bold)
  }, "\u6E05\u9664\u67E5\u8BE2\u8BB0\u5F55"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6(), theme.spacing.sm)
  }, "\u6C38\u4E45\u5220\u9664\u6240\u6709\u67E5\u8BE2\u5386\u53F2\u8BB0\u5F55\u3002"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Button"], {
    variant: "destructive",
    onClick: onDelete
  }, "\u6E05\u9664\u67E5\u8BE2\u8BB0\u5F55"));
}

/***/ }),

/***/ "./public/app/features/explore/RichHistory/RichHistoryStarredTab.tsx":
/*!***************************************************************************!*\
  !*** ./public/app/features/explore/RichHistory/RichHistoryStarredTab.tsx ***!
  \***************************************************************************/
/*! exports provided: RichHistoryStarredTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichHistoryStarredTab", function() { return RichHistoryStarredTab; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/core/utils/richHistory */ "./public/app/core/utils/richHistory.ts");
/* harmony import */ var _RichHistoryCard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RichHistoryCard */ "./public/app/features/explore/RichHistory/RichHistoryCard.tsx");
/* harmony import */ var _RichHistory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RichHistory */ "./public/app/features/explore/RichHistory/RichHistory.tsx");
/* harmony import */ var app_core_components_FilterInput_FilterInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/core/components/FilterInput/FilterInput */ "./public/app/core/components/FilterInput/FilterInput.tsx");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _templateObject7() {
  var data = _taggedTemplateLiteral(["\n      height: 60px;\n      margin-top: ", ";\n      display: flex;\n      justify-content: center;\n      font-weight: ", ";\n      font-size: ", ";\n      a {\n        font-weight: ", ";\n        margin-left: ", ";\n      }\n    "]);

  _templateObject7 = function _templateObject7() {
    return data;
  };

  return data;
}

function _templateObject6() {
  var data = _taggedTemplateLiteral(["\n      width: 170px;\n    "]);

  _templateObject6 = function _templateObject6() {
    return data;
  };

  return data;
}

function _templateObject5() {
  var data = _taggedTemplateLiteral(["\n      margin-bottom: ", ";\n    "]);

  _templateObject5 = function _templateObject5() {
    return data;
  };

  return data;
}

function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n      margin-bottom: ", ";\n      .gf-form-select-box__multi-value {\n        background-color: ", ";\n        padding: ", " ", " ", " ", ";\n        border-radius: ", ";\n      }\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      width: 100%;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      display: flex;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }



 // Types

// Utils

 // Components





var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["stylesFactory"])(function (theme) {
  var bgColor = theme.isLight ? theme.palette.gray5 : theme.palette.dark4;
  return {
    container: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject()),
    containerContent: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject2()),
    selectors: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject3()),
    multiselect: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject4(), theme.spacing.sm, bgColor, theme.spacing.xxs, theme.spacing.xs, theme.spacing.xxs, theme.spacing.sm, theme.border.radius.sm),
    filterInput: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject5(), theme.spacing.sm),
    sort: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject6()),
    footer: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject7(), theme.spacing.lg, theme.typography.weight.light, theme.typography.size.sm, theme.typography.weight.semibold, theme.spacing.xxs)
  };
});
function RichHistoryStarredTab(props) {
  var datasourceFilters = props.datasourceFilters,
      onSelectDatasourceFilters = props.onSelectDatasourceFilters,
      queries = props.queries,
      onChangeSortOrder = props.onChangeSortOrder,
      sortOrder = props.sortOrder,
      activeDatasourceOnly = props.activeDatasourceOnly,
      exploreId = props.exploreId;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([]),
      _useState2 = _slicedToArray(_useState, 2),
      filteredQueries = _useState2[0],
      setFilteredQueries = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(''),
      _useState4 = _slicedToArray(_useState3, 2),
      searchInput = _useState4[0],
      setSearchInput = _useState4[1];

  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["useTheme"])();
  var styles = getStyles(theme);
  var datasourcesRetrievedFromQueryHistory = Object(lodash__WEBPACK_IMPORTED_MODULE_2__["uniqBy"])(queries, 'datasourceName').map(function (d) {
    return d.datasourceName;
  });
  var listOfDatasources = Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["createDatasourcesList"])(datasourcesRetrievedFromQueryHistory);
  var starredQueries = queries.filter(function (q) {
    return q.starred === true;
  });
  var filterAndSortQueriesDebounced = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(Object(lodash__WEBPACK_IMPORTED_MODULE_2__["debounce"])(function (searchValue) {
    setFilteredQueries(Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["filterAndSortQueries"])(starredQueries, sortOrder, datasourceFilters === null || datasourceFilters === void 0 ? void 0 : datasourceFilters.map(function (d) {
      return d.value;
    }), searchValue));
  }, 300), [queries, sortOrder, datasourceFilters]);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    setFilteredQueries(Object(app_core_utils_richHistory__WEBPACK_IMPORTED_MODULE_4__["filterAndSortQueries"])(starredQueries, sortOrder, datasourceFilters === null || datasourceFilters === void 0 ? void 0 : datasourceFilters.map(function (d) {
      return d.value;
    }), searchInput));
  }, [queries, sortOrder, datasourceFilters]);
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.container
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.containerContent
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.selectors
  }, !activeDatasourceOnly && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Filter datasources",
    className: styles.multiselect
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Select"], {
    isMulti: true,
    options: listOfDatasources,
    value: datasourceFilters,
    placeholder: "\u8FC7\u6EE4\u67E5\u8BE2\u7279\u5B9A\u6570\u636E\u6E90",
    onChange: onSelectDatasourceFilters
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.filterInput
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(app_core_components_FilterInput_FilterInput__WEBPACK_IMPORTED_MODULE_7__["FilterInput"], {
    labelClassName: "gf-form--has-input-icon gf-form--grow",
    inputClassName: "gf-form-input",
    placeholder: "\u641C\u7D22\u67E5\u8BE2",
    value: searchInput,
    onChange: function onChange(value) {
      setSearchInput(value);
      filterAndSortQueriesDebounced(value);
    }
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "aria-label": "Sort queries",
    className: styles.sort
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Select"], {
    options: _RichHistory__WEBPACK_IMPORTED_MODULE_6__["sortOrderOptions"],
    value: _RichHistory__WEBPACK_IMPORTED_MODULE_6__["sortOrderOptions"].filter(function (order) {
      return order.value === sortOrder;
    }),
    placeholder: "\u67E5\u8BE2\u6392\u5E8F",
    onChange: function onChange(e) {
      return onChangeSortOrder(e.value);
    }
  }))), filteredQueries.map(function (q) {
    var idx = listOfDatasources.findIndex(function (d) {
      return d.label === q.datasourceName;
    });
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RichHistoryCard__WEBPACK_IMPORTED_MODULE_5__["default"], {
      query: q,
      key: q.ts,
      exploreId: exploreId,
      dsImg: listOfDatasources[idx].imgUrl,
      isRemoved: listOfDatasources[idx].isRemoved
    });
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: styles.footer
  }, "\u5386\u53F2\u8BB0\u5F55\u5728\u60A8\u7684\u6D4F\u89C8\u5668\u4E2D\u662F\u672C\u5730\u7684\uFF0C\u4E0D\u4F1A\u4E0E\u5176\u4ED6\u4EBA\u5171\u4EAB\u3002")));
}

/***/ }),

/***/ "./public/app/features/explore/RunButton.tsx":
/*!***************************************************!*\
  !*** ./public/app/features/explore/RunButton.tsx ***!
  \***************************************************/
/*! exports provided: RunButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RunButton", function() { return RunButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/e2e-selectors */ "./packages/grafana-e2e-selectors/src/index.ts");
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _ResponsiveButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ResponsiveButton */ "./public/app/features/explore/ResponsiveButton.tsx");
function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: selectButtonOverride;\n      .select-button-value {\n        color: white !important;\n      }\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }








var getStyles = Object(memoize_one__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
  return {
    selectButtonOverride: Object(emotion__WEBPACK_IMPORTED_MODULE_4__["css"])(_templateObject())
  };
});
function RunButton(props) {
  var splitted = props.splitted,
      loading = props.loading,
      onRun = props.onRun,
      onChangeRefreshInterval = props.onChangeRefreshInterval,
      refreshInterval = props.refreshInterval,
      showDropdown = props.showDropdown,
      isLive = props.isLive;
  var styles = getStyles();
  var runButton = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ResponsiveButton__WEBPACK_IMPORTED_MODULE_6__["ResponsiveButton"], {
    splitted: splitted,
    title: loading && !isLive ? '' : '',
    onClick: function onClick() {
      return onRun(loading);
    },
    buttonClassName: classnames__WEBPACK_IMPORTED_MODULE_5___default()({
      'navbar-button--primary': isLive || !loading,
      'navbar-button--danger': loading && !isLive,
      'btn--radius-right-0': showDropdown
    }),
    icon: loading ? 'fa fa-spinner' : 'sync',
    iconClassName: loading ? ' fa-spin run-icon' : undefined,
    "aria-label": _grafana_e2e_selectors__WEBPACK_IMPORTED_MODULE_2__["selectors"].pages.Explore.General.runButton
  });

  if (showDropdown) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["RefreshPicker"], {
      onIntervalChanged: onChangeRefreshInterval,
      value: refreshInterval,
      buttonSelectClassName: "".concat(loading ? 'navbar-button--danger' : 'navbar-button--primary', " ").concat(styles.selectButtonOverride),
      refreshButton: runButton
    });
  }

  return runButton;
}

/***/ }),

/***/ "./public/app/features/explore/SecondaryActions.tsx":
/*!**********************************************************!*\
  !*** ./public/app/features/explore/SecondaryActions.tsx ***!
  \**********************************************************/
/*! exports provided: SecondaryActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SecondaryActions", function() { return SecondaryActions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      margin: 1em 4px 0 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }




var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["stylesFactory"])(function () {
  return {
    button: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["css"])(_templateObject())
  };
});
function SecondaryActions(props) {
  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "gf-form"
  }, !props.addQueryRowButtonHidden && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    "aria-label": "\u6DFB\u52A0\u884C\u6309\u94AE",
    className: "gf-form-label gf-form-label--btn ".concat(styles.button),
    onClick: props.onClickAddQueryRowButton,
    disabled: props.addQueryRowButtonDisabled
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    className: "icon-margin-right",
    name: "plus",
    size: "sm"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "btn-title"
  }, '\xA0' + '')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    "aria-label": "Rich history button",
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])("gf-form-label gf-form-label--btn ".concat(styles.button), _defineProperty({}, 'explore-active-button', props.richHistoryButtonActive)),
    onClick: props.onClickRichHistoryButton
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    className: "icon-margin-right",
    name: "history",
    size: "sm"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "btn-title"
  }, '\xA0' + '')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    "aria-label": "Query inspector button",
    className: Object(emotion__WEBPACK_IMPORTED_MODULE_1__["cx"])("gf-form-label gf-form-label--btn ".concat(styles.button), _defineProperty({}, 'explore-active-button', props.queryInspectorButtonActive)),
    onClick: props.onClickQueryInspectorButton
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__["Icon"], {
    className: "icon-margin-right",
    name: "info-circle",
    size: "sm"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "btn-title"
  }, '\xA0' + '')));
}

/***/ }),

/***/ "./public/app/features/explore/TableContainer.tsx":
/*!********************************************************!*\
  !*** ./public/app/features/explore/TableContainer.tsx ***!
  \********************************************************/
/*! exports provided: TableContainer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TableContainer", function() { return TableContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var app_core_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/core/config */ "./public/app/core/config.ts");
/* harmony import */ var app_core_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/core/constants */ "./public/app/core/constants.ts");
/* harmony import */ var _MetaInfoText__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MetaInfoText */ "./public/app/features/explore/MetaInfoText.tsx");
/* harmony import */ var _utils_links__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/links */ "./public/app/features/explore/utils/links.ts");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }










var TableContainer =
/*#__PURE__*/
function (_PureComponent) {
  _inherits(TableContainer, _PureComponent);

  function TableContainer() {
    var _getPrototypeOf2;

    var _this;

    _classCallCheck(this, TableContainer);

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TableContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));

    _this.onClickTableButton = function () {
      _this.props.toggleTable(_this.props.exploreId, _this.props.showingTable);
    };

    return _this;
  }

  _createClass(TableContainer, [{
    key: "getTableHeight",
    value: function getTableHeight() {
      var tableResult = this.props.tableResult;

      if (!tableResult || tableResult.length === 0) {
        return 200;
      } // tries to estimate table height


      return Math.max(Math.min(600, tableResult.length * 35) + 35);
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          loading = _this$props.loading,
          onCellFilterAdded = _this$props.onCellFilterAdded,
          showingTable = _this$props.showingTable,
          tableResult = _this$props.tableResult,
          width = _this$props.width,
          splitOpen = _this$props.splitOpen,
          range = _this$props.range,
          ariaLabel = _this$props.ariaLabel;
      var height = this.getTableHeight();
      var tableWidth = width - app_core_config__WEBPACK_IMPORTED_MODULE_5__["config"].theme.panelPadding * 2 - app_core_constants__WEBPACK_IMPORTED_MODULE_6__["PANEL_BORDER"];
      var hasTableResult = tableResult === null || tableResult === void 0 ? void 0 : tableResult.length;

      if (tableResult && tableResult.length) {
        // Bit of code smell here. We need to add links here to the frame modifying the frame on every render.
        // Should work fine in essence but still not the ideal way to pass props. In logs container we do this
        // differently and sidestep this getLinks API on a dataframe
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          var _loop = function _loop() {
            var field = _step.value;

            field.getLinks = function (config) {
              return Object(_utils_links__WEBPACK_IMPORTED_MODULE_8__["getFieldLinksForExplore"])(field, config.valueRowIndex, splitOpen, range);
            };
          };

          for (var _iterator = tableResult.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            _loop();
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return != null) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Collapse"], {
        label: "\u8868\u683C",
        loading: loading,
        collapsible: true,
        isOpen: showingTable,
        onToggle: this.onClickTableButton
      }, hasTableResult ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Table"], {
        ariaLabel: ariaLabel,
        data: tableResult,
        width: tableWidth,
        height: height,
        onCellFilterAdded: onCellFilterAdded
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_MetaInfoText__WEBPACK_IMPORTED_MODULE_7__["MetaInfoText"], {
        metaItems: [{
          value: '0 '
        }]
      }));
    }
  }]);

  return TableContainer;
}(react__WEBPACK_IMPORTED_MODULE_0__["PureComponent"]);

function mapStateToProps(state, _ref) {
  var exploreId = _ref.exploreId;
  var explore = state.explore; // @ts-ignore

  var item = explore[exploreId];
  var loadingInState = item.loading,
      showingTable = item.showingTable,
      tableResult = item.tableResult,
      range = item.range;
  var loading = tableResult && tableResult.length > 0 ? false : loadingInState;
  return {
    loading: loading,
    showingTable: showingTable,
    tableResult: tableResult,
    range: range
  };
}

var mapDispatchToProps = {
  toggleTable: _state_actions__WEBPACK_IMPORTED_MODULE_4__["toggleTable"],
  splitOpen: _state_actions__WEBPACK_IMPORTED_MODULE_4__["splitOpen"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(TableContainer)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/Time.tsx":
/*!**********************************************!*\
  !*** ./public/app/features/explore/Time.tsx ***!
  \**********************************************/
/*! exports provided: Time */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Time", function() { return Time; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/data */ "./packages/grafana-data/src/index.ts");


var Time = function Time(_ref) {
  var timeInMs = _ref.timeInMs,
      className = _ref.className,
      humanize = _ref.humanize;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "elapsed-time ".concat(className)
  }, formatTime(timeInMs, humanize));
};

var formatTime = function formatTime(timeInMs) {
  var humanize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var inSeconds = timeInMs / 1000;

  if (!humanize) {
    return "".concat(inSeconds.toFixed(1), "s");
  }

  var duration = Object(_grafana_data__WEBPACK_IMPORTED_MODULE_1__["toDuration"])(inSeconds, 'seconds');
  var hours = duration.hours();
  var minutes = duration.minutes();
  var seconds = duration.seconds();

  if (hours) {
    return "".concat(hours, "h ").concat(minutes, "m ").concat(seconds, "s");
  }

  if (minutes) {
    return "".concat(minutes, "m ").concat(seconds, "s");
  }

  return "".concat(seconds, "s");
};

/***/ }),

/***/ "./public/app/features/explore/TimeSyncButton.tsx":
/*!********************************************************!*\
  !*** ./public/app/features/explore/TimeSyncButton.tsx ***!
  \********************************************************/
/*! exports provided: TimeSyncButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeSyncButton", function() { return TimeSyncButton; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: topPadding;\n      padding-top: 1px;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: noRightBorderStyle;\n      border-right: 0;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }





var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["stylesFactory"])(function (theme) {
  return {
    noRightBorderStyle: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject()),

    /*
     * Required top-padding, otherwise is fa-link icon in active state
     * cut off on top due to fontAwesome icon position
     */
    topPadding: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2())
  };
});
function TimeSyncButton(props) {
  var _onClick = props.onClick,
      isSynced = props.isSynced;
  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["useTheme"])();
  var styles = getStyles(theme);

  var syncTimesTooltip = function syncTimesTooltip() {
    var isSynced = props.isSynced;
    var tooltip = isSynced ? '' : '';
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, tooltip);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Tooltip"], {
    content: syncTimesTooltip,
    placement: "bottom"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()('btn navbar-button navbar-button--attached', _defineProperty({}, "explore-active-button", isSynced)),
    "aria-label": isSynced ? 'Synced times' : 'Unsynced times',
    onClick: function onClick() {
      return _onClick();
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__["Icon"], {
    name: "link",
    className: classnames__WEBPACK_IMPORTED_MODULE_1___default()(styles.topPadding, isSynced && 'icon-brand-gradient'),
    size: "lg"
  })));
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/TraceView.tsx":
/*!*************************************************************!*\
  !*** ./public/app/features/explore/TraceView/TraceView.tsx ***!
  \*************************************************************/
/*! exports provided: TraceView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TraceView", function() { return TraceView; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jaegertracing/jaeger-ui-components */ "./packages/jaeger-ui-components/src/index.ts");
/* harmony import */ var _uiElements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./uiElements */ "./public/app/features/explore/TraceView/uiElements.tsx");
/* harmony import */ var _useViewRange__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useViewRange */ "./public/app/features/explore/TraceView/useViewRange.ts");
/* harmony import */ var _useSearch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useSearch */ "./public/app/features/explore/TraceView/useSearch.ts");
/* harmony import */ var _useChildrenState__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useChildrenState */ "./public/app/features/explore/TraceView/useChildrenState.ts");
/* harmony import */ var _useDetailState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useDetailState */ "./public/app/features/explore/TraceView/useDetailState.ts");
/* harmony import */ var _useHoverIndentGuide__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useHoverIndentGuide */ "./public/app/features/explore/TraceView/useHoverIndentGuide.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }










function TraceView(props) {
  var _useChildrenState = Object(_useChildrenState__WEBPACK_IMPORTED_MODULE_5__["useChildrenState"])(),
      expandOne = _useChildrenState.expandOne,
      collapseOne = _useChildrenState.collapseOne,
      childrenToggle = _useChildrenState.childrenToggle,
      collapseAll = _useChildrenState.collapseAll,
      childrenHiddenIDs = _useChildrenState.childrenHiddenIDs,
      expandAll = _useChildrenState.expandAll;

  var _useDetailState = Object(_useDetailState__WEBPACK_IMPORTED_MODULE_6__["useDetailState"])(),
      detailStates = _useDetailState.detailStates,
      toggleDetail = _useDetailState.toggleDetail,
      detailLogItemToggle = _useDetailState.detailLogItemToggle,
      detailLogsToggle = _useDetailState.detailLogsToggle,
      detailProcessToggle = _useDetailState.detailProcessToggle,
      detailReferencesToggle = _useDetailState.detailReferencesToggle,
      detailTagsToggle = _useDetailState.detailTagsToggle,
      detailWarningsToggle = _useDetailState.detailWarningsToggle,
      detailStackTracesToggle = _useDetailState.detailStackTracesToggle;

  var _useHoverIndentGuide = Object(_useHoverIndentGuide__WEBPACK_IMPORTED_MODULE_7__["useHoverIndentGuide"])(),
      removeHoverIndentGuideId = _useHoverIndentGuide.removeHoverIndentGuideId,
      addHoverIndentGuideId = _useHoverIndentGuide.addHoverIndentGuideId,
      hoverIndentGuideIds = _useHoverIndentGuide.hoverIndentGuideIds;

  var _useViewRange = Object(_useViewRange__WEBPACK_IMPORTED_MODULE_3__["useViewRange"])(),
      viewRange = _useViewRange.viewRange,
      updateViewRangeTime = _useViewRange.updateViewRangeTime,
      updateNextViewRangeTime = _useViewRange.updateNextViewRangeTime;
  /**
   * Keeps state of resizable name column width
   */


  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(0.25),
      _useState2 = _slicedToArray(_useState, 2),
      spanNameColumnWidth = _useState2[0],
      setSpanNameColumnWidth = _useState2[1];
  /**
   * State of the top minimap, slim means it is collapsed.
   */


  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false),
      _useState4 = _slicedToArray(_useState3, 2),
      slim = _useState4[0],
      setSlim = _useState4[1];

  var traceProp = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return Object(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["transformTraceData"])(props.trace);
  }, [props.trace]);

  var _useSearch = Object(_useSearch__WEBPACK_IMPORTED_MODULE_4__["useSearch"])(traceProp === null || traceProp === void 0 ? void 0 : traceProp.spans),
      search = _useSearch.search,
      setSearch = _useSearch.setSearch,
      spanFindMatches = _useSearch.spanFindMatches;

  var theme = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__["useTheme"])();
  var traceTheme = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      type: theme.isDark ? _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["ThemeType"].Dark : _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["ThemeType"].Light,
      servicesColorPalette: _grafana_ui__WEBPACK_IMPORTED_MODULE_8__["colors"],
      components: {
        TraceName: {
          fontSize: theme.typography.size.lg
        }
      }
    };
  }, [theme]);
  var traceTimeline = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return {
      childrenHiddenIDs: childrenHiddenIDs,
      detailStates: detailStates,
      hoverIndentGuideIds: hoverIndentGuideIds,
      shouldScrollToFirstUiFindMatch: false,
      spanNameColumnWidth: spanNameColumnWidth,
      traceID: traceProp === null || traceProp === void 0 ? void 0 : traceProp.traceID
    };
  }, [childrenHiddenIDs, detailStates, hoverIndentGuideIds, spanNameColumnWidth, traceProp === null || traceProp === void 0 ? void 0 : traceProp.traceID]);

  if (!traceProp) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["ThemeProvider"], {
    value: traceTheme
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["UIElementsContext"].Provider, {
    value: _uiElements__WEBPACK_IMPORTED_MODULE_2__["UIElements"]
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["TracePageHeader"], {
    canCollapse: false,
    clearSearch: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    focusUiFindMatches: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    hideMap: false,
    hideSummary: false,
    nextResult: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    onSlimViewClicked: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
      return setSlim(!slim);
    }, []),
    onTraceGraphViewClicked: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    prevResult: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    resultCount: 0,
    slimView: slim,
    textFilter: null,
    trace: traceProp,
    traceGraphView: false,
    updateNextViewRangeTime: updateNextViewRangeTime,
    updateViewRangeTime: updateViewRangeTime,
    viewRange: viewRange,
    searchValue: search,
    onSearchValueChange: setSearch,
    hideSearchButtons: true
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["TraceTimelineViewer"], {
    registerAccessors: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    scrollToFirstVisibleSpan: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    findMatchesIDs: spanFindMatches,
    trace: traceProp,
    traceTimeline: traceTimeline,
    updateNextViewRangeTime: updateNextViewRangeTime,
    updateViewRangeTime: updateViewRangeTime,
    viewRange: viewRange,
    focusSpan: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    createLinkToExternalSpan: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
      return '';
    }, []),
    setSpanNameColumnWidth: setSpanNameColumnWidth,
    collapseAll: collapseAll,
    collapseOne: collapseOne,
    expandAll: expandAll,
    expandOne: expandOne,
    childrenToggle: childrenToggle,
    clearShouldScrollToFirstUiFindMatch: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {}, []),
    detailLogItemToggle: detailLogItemToggle,
    detailLogsToggle: detailLogsToggle,
    detailWarningsToggle: detailWarningsToggle,
    detailStackTracesToggle: detailStackTracesToggle,
    detailReferencesToggle: detailReferencesToggle,
    detailProcessToggle: detailProcessToggle,
    detailTagsToggle: detailTagsToggle,
    detailToggle: toggleDetail,
    setTrace: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (trace, uiFind) {}, []),
    addHoverIndentGuideId: addHoverIndentGuideId,
    removeHoverIndentGuideId: removeHoverIndentGuideId,
    linksGetter: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function (span, items, itemIndex) {
      return [];
    }, []),
    uiFind: search
  })));
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/uiElements.tsx":
/*!**************************************************************!*\
  !*** ./public/app/features/explore/TraceView/uiElements.tsx ***!
  \**************************************************************/
/*! exports provided: UIElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIElements", function() { return UIElements; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);
function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      display: inline-block;\n      background: ", ";\n      width: 1px;\n      height: 0.9em;\n      margin: 0 8px;\n      vertical-align: middle;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }





/**
 * Right now Jaeger components need some UI elements to be injected. This is to get rid of AntD UI library that was
 * used by default.
 */
// This needs to be static to prevent remounting on every render.

var UIElements = {
  Popover: function () {
    return null;
  },
  Tooltip: function () {
    return null;
  },
  Icon: function () {
    return null;
  },
  Dropdown: function () {
    return null;
  },
  Menu: function () {
    return null;
  },
  MenuItem: function () {
    return null;
  },
  Button: function Button(_ref) {
    var onClick = _ref.onClick,
        children = _ref.children,
        className = _ref.className;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Button"], {
      variant: 'secondary',
      onClick: onClick,
      className: className
    }, children);
  },
  Divider: Divider,
  Input: function Input(props) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["Input"], props);
  },
  InputGroup: function InputGroup(_ref2) {
    var children = _ref2.children,
        className = _ref2.className,
        style = _ref2.style;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: className,
      style: style
    }, children);
  }
};
var getStyles = Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["stylesFactory"])(function (theme) {
  return {
    Divider: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject(), theme.isDark ? '#242424' : '#e8e8e8')
  };
});

function Divider(_ref3) {
  var className = _ref3.className;
  var styles = getStyles(Object(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__["useTheme"])());
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: {},
    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(styles.Divider, className)
  });
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/useChildrenState.ts":
/*!*******************************************************************!*\
  !*** ./public/app/features/explore/TraceView/useChildrenState.ts ***!
  \*******************************************************************/
/*! exports provided: useChildrenState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useChildrenState", function() { return useChildrenState; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



/**
 * Children state means whether spans are collapsed or not. Also provides some functions to manipulate that state.
 */
function useChildrenState() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(new Set()),
      _useState2 = _slicedToArray(_useState, 2),
      childrenHiddenIDs = _useState2[0],
      setChildrenHiddenIDs = _useState2[1];

  var expandOne = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function expandOne(spans) {
    if (childrenHiddenIDs.size === 0) {
      return;
    }

    var prevExpandedDepth = -1;
    var expandNextHiddenSpan = true;
    var newChildrenHiddenIDs = spans.reduce(function (res, s) {
      if (s.depth <= prevExpandedDepth) {
        expandNextHiddenSpan = true;
      }

      if (expandNextHiddenSpan && res.has(s.spanID)) {
        res.delete(s.spanID);
        expandNextHiddenSpan = false;
        prevExpandedDepth = s.depth;
      }

      return res;
    }, new Set(childrenHiddenIDs));
    setChildrenHiddenIDs(newChildrenHiddenIDs);
  }, [childrenHiddenIDs]);
  var collapseOne = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function collapseOne(spans) {
    if (shouldDisableCollapse(spans, childrenHiddenIDs)) {
      return;
    }

    var nearestCollapsedAncestor;
    var newChildrenHiddenIDs = spans.reduce(function (res, curSpan) {
      if (nearestCollapsedAncestor && curSpan.depth <= nearestCollapsedAncestor.depth) {
        res.add(nearestCollapsedAncestor.spanID);

        if (curSpan.hasChildren) {
          nearestCollapsedAncestor = curSpan;
        }
      } else if (curSpan.hasChildren && !res.has(curSpan.spanID)) {
        nearestCollapsedAncestor = curSpan;
      }

      return res;
    }, new Set(childrenHiddenIDs)); // The last one

    if (nearestCollapsedAncestor) {
      newChildrenHiddenIDs.add(nearestCollapsedAncestor.spanID);
    }

    setChildrenHiddenIDs(newChildrenHiddenIDs);
  }, [childrenHiddenIDs]);
  var expandAll = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function expandAll() {
    setChildrenHiddenIDs(new Set());
  }, []);
  var collapseAll = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function collapseAll(spans) {
    if (shouldDisableCollapse(spans, childrenHiddenIDs)) {
      return;
    }

    var newChildrenHiddenIDs = spans.reduce(function (res, s) {
      if (s.hasChildren) {
        res.add(s.spanID);
      }

      return res;
    }, new Set());
    setChildrenHiddenIDs(newChildrenHiddenIDs);
  }, [childrenHiddenIDs]);
  var childrenToggle = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function childrenToggle(spanID) {
    var newChildrenHiddenIDs = new Set(childrenHiddenIDs);

    if (childrenHiddenIDs.has(spanID)) {
      newChildrenHiddenIDs.delete(spanID);
    } else {
      newChildrenHiddenIDs.add(spanID);
    }

    setChildrenHiddenIDs(newChildrenHiddenIDs);
  }, [childrenHiddenIDs]);
  return {
    childrenHiddenIDs: childrenHiddenIDs,
    expandOne: expandOne,
    collapseOne: collapseOne,
    expandAll: expandAll,
    collapseAll: collapseAll,
    childrenToggle: childrenToggle
  };
}

function shouldDisableCollapse(allSpans, hiddenSpansIds) {
  var allParentSpans = allSpans.filter(function (s) {
    return s.hasChildren;
  });
  return allParentSpans.length === hiddenSpansIds.size;
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/useDetailState.ts":
/*!*****************************************************************!*\
  !*** ./public/app/features/explore/TraceView/useDetailState.ts ***!
  \*****************************************************************/
/*! exports provided: useDetailState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDetailState", function() { return useDetailState; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jaegertracing/jaeger-ui-components */ "./packages/jaeger-ui-components/src/index.ts");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




/**
 * Keeps state of the span detail. This means whether span details are open but also state of each detail subitem
 * like logs or tags.
 */
function useDetailState() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(new Map()),
      _useState2 = _slicedToArray(_useState, 2),
      detailStates = _useState2[0],
      setDetailStates = _useState2[1];

  var toggleDetail = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function toggleDetail(spanID) {
    var newDetailStates = new Map(detailStates);

    if (newDetailStates.has(spanID)) {
      newDetailStates.delete(spanID);
    } else {
      newDetailStates.set(spanID, new _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["DetailState"]());
    }

    setDetailStates(newDetailStates);
  }, [detailStates]);
  var detailLogItemToggle = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function detailLogItemToggle(spanID, log) {
    var old = detailStates.get(spanID);

    if (!old) {
      return;
    }

    var detailState = old.toggleLogItem(log);
    var newDetailStates = new Map(detailStates);
    newDetailStates.set(spanID, detailState);
    return setDetailStates(newDetailStates);
  }, [detailStates]);
  return {
    detailStates: detailStates,
    toggleDetail: toggleDetail,
    detailLogItemToggle: detailLogItemToggle,
    detailLogsToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('logs', detailStates, setDetailStates), [detailStates]),
    detailWarningsToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('warnings', detailStates, setDetailStates), [detailStates]),
    detailStackTracesToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('stackTraces', detailStates, setDetailStates), [detailStates]),
    detailReferencesToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('references', detailStates, setDetailStates), [detailStates]),
    detailProcessToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('process', detailStates, setDetailStates), [detailStates]),
    detailTagsToggle: Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(makeDetailSubsectionToggle('tags', detailStates, setDetailStates), [detailStates])
  };
}

function makeDetailSubsectionToggle(subSection, detailStates, setDetailStates) {
  return function (spanID) {
    var old = detailStates.get(spanID);

    if (!old) {
      return;
    }

    var detailState;

    if (subSection === 'tags') {
      detailState = old.toggleTags();
    } else if (subSection === 'process') {
      detailState = old.toggleProcess();
    } else if (subSection === 'warnings') {
      detailState = old.toggleWarnings();
    } else if (subSection === 'references') {
      detailState = old.toggleReferences();
    } else if (subSection === 'stackTraces') {
      detailState = old.toggleStackTraces();
    } else {
      detailState = old.toggleLogs();
    }

    var newDetailStates = new Map(detailStates);
    newDetailStates.set(spanID, detailState);
    setDetailStates(newDetailStates);
  };
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/useHoverIndentGuide.ts":
/*!**********************************************************************!*\
  !*** ./public/app/features/explore/TraceView/useHoverIndentGuide.ts ***!
  \**********************************************************************/
/*! exports provided: useHoverIndentGuide */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useHoverIndentGuide", function() { return useHoverIndentGuide; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


/**
 * This is used internally to handle hover state of indent guide. As indent guides are separate
 * components per each row/span and you need to highlight all in multiple rows to make the effect of single line
 * they need this kind of common imperative state changes.
 *
 * Ideally would be changed to trace view internal state.
 */

function useHoverIndentGuide() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(new Set()),
      _useState2 = _slicedToArray(_useState, 2),
      hoverIndentGuideIds = _useState2[0],
      setHoverIndentGuideIds = _useState2[1];

  var addHoverIndentGuideId = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function addHoverIndentGuideId(spanID) {
    setHoverIndentGuideIds(function (prevState) {
      var newHoverIndentGuideIds = new Set(prevState);
      newHoverIndentGuideIds.add(spanID);
      return newHoverIndentGuideIds;
    });
  }, []);
  var removeHoverIndentGuideId = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function removeHoverIndentGuideId(spanID) {
    setHoverIndentGuideIds(function (prevState) {
      var newHoverIndentGuideIds = new Set(prevState);
      newHoverIndentGuideIds.delete(spanID);
      return newHoverIndentGuideIds;
    });
  }, []);
  return {
    hoverIndentGuideIds: hoverIndentGuideIds,
    addHoverIndentGuideId: addHoverIndentGuideId,
    removeHoverIndentGuideId: removeHoverIndentGuideId
  };
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/useSearch.ts":
/*!************************************************************!*\
  !*** ./public/app/features/explore/TraceView/useSearch.ts ***!
  \************************************************************/
/*! exports provided: useSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useSearch", function() { return useSearch; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jaegertracing/jaeger-ui-components */ "./packages/jaeger-ui-components/src/index.ts");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }




/**
 * Controls the state of search input that highlights spans if they match the search string.
 * @param spans
 */
function useSearch(spans) {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(''),
      _useState2 = _slicedToArray(_useState, 2),
      search = _useState2[0],
      setSearch = _useState2[1];

  var spanFindMatches = Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(function () {
    return search && spans ? Object(_jaegertracing_jaeger_ui_components__WEBPACK_IMPORTED_MODULE_1__["filterSpans"])(search, spans) : undefined;
  }, [search, spans]);
  return {
    search: search,
    setSearch: setSearch,
    spanFindMatches: spanFindMatches
  };
}

/***/ }),

/***/ "./public/app/features/explore/TraceView/useViewRange.ts":
/*!***************************************************************!*\
  !*** ./public/app/features/explore/TraceView/useViewRange.ts ***!
  \***************************************************************/
/*! exports provided: useViewRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useViewRange", function() { return useViewRange; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



/**
 * Controls state of the zoom function that can be used through minimap in header or on the timeline. ViewRange contains
 * state not only for current range that is showing but range that is currently being selected by the user.
 */
function useViewRange() {
  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({
    time: {
      current: [0, 1]
    }
  }),
      _useState2 = _slicedToArray(_useState, 2),
      viewRange = _useState2[0],
      setViewRange = _useState2[1];

  var updateNextViewRangeTime = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function updateNextViewRangeTime(update) {
    setViewRange(function (prevRange) {
      var time = _objectSpread({}, prevRange.time, {}, update);

      return _objectSpread({}, prevRange, {
        time: time
      });
    });
  }, []);
  var updateViewRangeTime = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function updateViewRangeTime(start, end) {
    var current = [start, end];
    var time = {
      current: current
    };
    setViewRange(function (prevRange) {
      return _objectSpread({}, prevRange, {
        time: time
      });
    });
  }, []);
  return {
    viewRange: viewRange,
    updateViewRangeTime: updateViewRangeTime,
    updateNextViewRangeTime: updateNextViewRangeTime
  };
}

/***/ }),

/***/ "./public/app/features/explore/Wrapper.tsx":
/*!*************************************************!*\
  !*** ./public/app/features/explore/Wrapper.tsx ***!
  \*************************************************/
/*! exports provided: Wrapper, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Wrapper", function() { return Wrapper; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-hot-loader */ "./node_modules/react-hot-loader/index.js");
/* harmony import */ var react_hot_loader__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var app_types_explore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/types/explore */ "./public/app/types/explore.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");
/* harmony import */ var _state_actionTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./state/actionTypes */ "./public/app/features/explore/state/actionTypes.ts");
/* harmony import */ var _Explore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Explore */ "./public/app/features/explore/Explore.tsx");
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var Wrapper =
/*#__PURE__*/
function (_Component) {
  _inherits(Wrapper, _Component);

  function Wrapper() {
    _classCallCheck(this, Wrapper);

    return _possibleConstructorReturn(this, _getPrototypeOf(Wrapper).apply(this, arguments));
  }

  _createClass(Wrapper, [{
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.props.resetExploreAction({});
    }
  }, {
    key: "render",
    value: function render() {
      var split = this.props.split;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "page-scrollbar-wrapper"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["CustomScrollbar"], {
        autoHeightMin: '100%',
        autoHeightMax: '',
        className: "custom-scrollbar--page"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "explore-wrapper"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["ErrorBoundaryAlert"], {
        style: "page"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Explore__WEBPACK_IMPORTED_MODULE_6__["default"], {
        exploreId: app_types_explore__WEBPACK_IMPORTED_MODULE_3__["ExploreId"].left
      })), split && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__["ErrorBoundaryAlert"], {
        style: "page"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Explore__WEBPACK_IMPORTED_MODULE_6__["default"], {
        exploreId: app_types_explore__WEBPACK_IMPORTED_MODULE_3__["ExploreId"].right
      })))));
    }
  }]);

  return Wrapper;
}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);

var mapStateToProps = function mapStateToProps(state) {
  var split = state.explore.split;
  return {
    split: split
  };
};

var mapDispatchToProps = {
  resetExploreAction: _state_actionTypes__WEBPACK_IMPORTED_MODULE_5__["resetExploreAction"]
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_hot_loader__WEBPACK_IMPORTED_MODULE_1__["hot"])(module)(Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["connect"])(mapStateToProps, mapDispatchToProps)(Wrapper)));
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./public/app/features/explore/useLiveTailControls.ts":
/*!************************************************************!*\
  !*** ./public/app/features/explore/useLiveTailControls.ts ***!
  \************************************************************/
/*! exports provided: useLiveTailControls, LiveTailControls */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLiveTailControls", function() { return useLiveTailControls; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LiveTailControls", function() { return LiveTailControls; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./state/actions */ "./public/app/features/explore/state/actions.ts");
/* harmony import */ var _state_actionTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./state/actionTypes */ "./public/app/features/explore/state/actionTypes.ts");
/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @grafana/ui */ "./packages/grafana-ui/src/index.ts");






/**
 * Hook that gives you all the functions needed to control the live tailing.
 */
function useLiveTailControls(exploreId) {
  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_1__["useDispatch"])();
  var pause = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    dispatch(Object(_state_actionTypes__WEBPACK_IMPORTED_MODULE_3__["setPausedStateAction"])({
      exploreId: exploreId,
      isPaused: true
    }));
  }, [exploreId, dispatch]);
  var resume = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    dispatch(Object(_state_actionTypes__WEBPACK_IMPORTED_MODULE_3__["setPausedStateAction"])({
      exploreId: exploreId,
      isPaused: false
    }));
  }, [exploreId, dispatch]);
  var stop = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    // We need to pause here first because there is transition where we are not live but live logs are still shown
    // to cross fade with the normal view. This will prevent reordering of the logs in the live view during the
    // transition.
    pause(); // TODO referencing this from perspective of refresh picker when there is designated button for it now is not
    //  great. Needs a bit of refactoring.

    dispatch(Object(_state_actions__WEBPACK_IMPORTED_MODULE_2__["changeRefreshInterval"])(exploreId, _grafana_ui__WEBPACK_IMPORTED_MODULE_4__["RefreshPicker"].offOption.value));
    dispatch(Object(_state_actions__WEBPACK_IMPORTED_MODULE_2__["runQueries"])(exploreId));
  }, [exploreId, dispatch, pause]);
  var start = Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(function () {
    dispatch(Object(_state_actions__WEBPACK_IMPORTED_MODULE_2__["changeRefreshInterval"])(exploreId, _grafana_ui__WEBPACK_IMPORTED_MODULE_4__["RefreshPicker"].liveOption.value));
  }, [exploreId, dispatch]);
  return {
    pause: pause,
    resume: resume,
    stop: stop,
    start: start
  };
}

/**
 * If you can't use the hook you can use this as a render prop pattern.
 */
function LiveTailControls(props) {
  var controls = useLiveTailControls(props.exploreId);
  return props.children(controls);
}

/***/ }),

/***/ "./public/app/features/explore/utils/LogsCrossFadeTransition.tsx":
/*!***********************************************************************!*\
  !*** ./public/app/features/explore/utils/LogsCrossFadeTransition.tsx ***!
  \***********************************************************************/
/*! exports provided: LogsCrossFadeTransition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogsCrossFadeTransition", function() { return LogsCrossFadeTransition; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! memoize-one */ "./node_modules/memoize-one/dist/memoize-one.esm.js");
/* harmony import */ var emotion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! emotion */ "./node_modules/emotion/dist/emotion.esm.js");
/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-transition-group */ "./node_modules/react-transition-group/esm/index.js");
function _templateObject4() {
  var data = _taggedTemplateLiteral(["\n      label: logsExitActive;\n      opacity: 0;\n      transition: opacity ", "ms ease-out ", "ms;\n    "]);

  _templateObject4 = function _templateObject4() {
    return data;
  };

  return data;
}

function _templateObject3() {
  var data = _taggedTemplateLiteral(["\n      label: logsExit;\n      position: absolute;\n      opacity: 1;\n      height: auto;\n      width: 100%;\n    "]);

  _templateObject3 = function _templateObject3() {
    return data;
  };

  return data;
}

function _templateObject2() {
  var data = _taggedTemplateLiteral(["\n      label: logsEnterActive;\n      opacity: 1;\n      transition: opacity ", "ms ease-out ", "ms;\n    "]);

  _templateObject2 = function _templateObject2() {
    return data;
  };

  return data;
}

function _templateObject() {
  var data = _taggedTemplateLiteral(["\n      label: logsEnter;\n      position: absolute;\n      opacity: 0;\n      height: auto;\n      width: 100%;\n    "]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

function _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }





var transitionDuration = 500; // We add a bit of delay to the transition as another perf optimisation. As at the start we need to render
// quite a bit of new rows, if we start transition at the same time there can be frame rate drop. This gives time
// for react to first render them and then do the animation.

var transitionDelay = 100;
var getStyles = Object(memoize_one__WEBPACK_IMPORTED_MODULE_1__["default"])(function () {
  return {
    logsEnter: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject()),
    logsEnterActive: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject2(), transitionDuration, transitionDelay),
    logsExit: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject3()),
    logsExitActive: Object(emotion__WEBPACK_IMPORTED_MODULE_2__["css"])(_templateObject4(), transitionDuration, transitionDelay)
  };
});

/**
 * Cross fade transition component that is tied a bit too much to the logs containers so not very useful elsewhere
 * right now.
 */
function LogsCrossFadeTransition(props) {
  var visible = props.visible,
      children = props.children;
  var styles = getStyles();
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_3__["CSSTransition"], {
    in: visible,
    mountOnEnter: true,
    unmountOnExit: true,
    timeout: transitionDuration + transitionDelay,
    classNames: {
      enter: styles.logsEnter,
      enterActive: styles.logsEnterActive,
      exit: styles.logsExit,
      exitActive: styles.logsExitActive
    }
  }, children);
}

/***/ }),

/***/ "./public/app/features/explore/utils/links.ts":
/*!****************************************************!*\
  !*** ./public/app/features/explore/utils/links.ts ***!
  \****************************************************/
/*! exports provided: getFieldLinksForExplore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFieldLinksForExplore", function() { return getFieldLinksForExplore; });
/* harmony import */ var _panel_panellinks_link_srv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../panel/panellinks/link_srv */ "./public/app/features/panel/panellinks/link_srv.ts");
/* harmony import */ var _grafana_data_src_utils_dataLinks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @grafana/data/src/utils/dataLinks */ "./packages/grafana-data/src/utils/dataLinks.ts");
/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @grafana/runtime */ "./packages/grafana-runtime/src/index.ts");



/**
 * Get links from the field of a dataframe and in addition check if there is associated
 * metadata with datasource in which case we will add onClick to open the link in new split window. This assumes
 * that we just supply datasource name and field value and Explore split window will know how to render that
 * appropriately. This is for example used for transition from log with traceId to trace datasource to show that
 * trace.
 */

var getFieldLinksForExplore = function getFieldLinksForExplore(field, rowIndex, splitOpenFn, range) {
  var scopedVars = {};
  scopedVars['__value'] = {
    value: {
      raw: field.values.get(rowIndex)
    },
    text: 'Raw value'
  };
  return field.config.links ? field.config.links.map(function (link) {
    if (!link.internal) {
      var linkModel = Object(_panel_panellinks_link_srv__WEBPACK_IMPORTED_MODULE_0__["getLinkSrv"])().getDataLinkUIModel(link, scopedVars, field);

      if (!linkModel.title) {
        linkModel.title = getTitleFromHref(linkModel.href);
      }

      return linkModel;
    } else {
      return Object(_grafana_data_src_utils_dataLinks__WEBPACK_IMPORTED_MODULE_1__["mapInternalLinkToExplore"])(link, scopedVars, range, field, {
        onClickFn: splitOpenFn,
        replaceVariables: Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__["getTemplateSrv"])().replace.bind(Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__["getTemplateSrv"])()),
        getDataSourceSettingsByUid: Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__["getDataSourceSrv"])().getDataSourceSettingsByUid.bind(Object(_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__["getDataSourceSrv"])())
      });
    }
  }) : [];
};

function getTitleFromHref(href) {
  // The URL constructor needs the url to have protocol
  if (href.indexOf('://') < 0) {
    // Doesn't really matter what protocol we use.
    href = "http://".concat(href);
  }

  var title;

  try {
    var parsedUrl = new URL(href);
    title = parsedUrl.hostname;
  } catch (_e) {
    // Should be good enough fallback, user probably did not input valid url.
    title = href;
  }

  return title;
}

/***/ })

}]);
//# sourceMappingURL=explore.1ebdc265fc3bd7452fcd.js.map